!function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=18)}([function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"dispatch",(function(){return dispatch})),__webpack_require__.d(__webpack_exports__,"dispatchToQueue",(function(){return dispatchToQueue})),__webpack_require__.d(__webpack_exports__,"initializationHost",(function(){return initializationHost})),__webpack_require__.d(__webpack_exports__,"cdnDomain",(function(){return cdnDomain})),__webpack_require__.d(__webpack_exports__,"initializationPath",(function(){return initializationPath})),__webpack_require__.d(__webpack_exports__,"defaultAdAvailableFor",(function(){return defaultAdAvailableFor})),__webpack_require__.d(__webpack_exports__,"parseJSON",(function(){return parseJSON})),__webpack_require__.d(__webpack_exports__,"defaultWebViewReleaseSeconds",(function(){return defaultWebViewReleaseSeconds})),__webpack_require__.d(__webpack_exports__,"createEventController",(function(){return createEventController})),__webpack_require__.d(__webpack_exports__,"VAST_VIDEO_OFFER",(function(){return VAST_VIDEO_OFFER})),__webpack_require__.d(__webpack_exports__,"MRAID_OFFER",(function(){return MRAID_OFFER})),__webpack_require__.d(__webpack_exports__,"WEB_TRAFFIC_OFFER",(function(){return WEB_TRAFFIC_OFFER})),__webpack_require__.d(__webpack_exports__,"CONSENT_STATUS",(function(){return CONSENT_STATUS})),__webpack_require__.d(__webpack_exports__,"AD_PROGRESS_STATE",(function(){return AD_PROGRESS_STATE})),__webpack_require__.d(__webpack_exports__,"AD_CLOSED_ACTION",(function(){return AD_CLOSED_ACTION})),__webpack_require__.d(__webpack_exports__,"addToArray",(function(){return addToArray}));var JSONValidator=__webpack_require__(4),NetworkRequestController=__webpack_require__(1),ConnectionConfiguration=__webpack_require__(2);class EventController_EventController{constructor(adImpressionTrackingUrl,userInfoTrackingUrl,webTrafficVisitUrl,errorReportingURL,errorSeverityLevel,noAdTrackingUrl,adProgressUrl,networkRequestController=globalThis.HYPRNetworkController){this.adImpressionTrackingUrl=adImpressionTrackingUrl,this.userInfoTrackingUrl=userInfoTrackingUrl,this.webTrafficVisitUrl=webTrafficVisitUrl,this.noAdTrackingUrl=noAdTrackingUrl,this.networkRequestController=networkRequestController,this.errorReportingURL=errorReportingURL,this.errorSeverityLevel=errorSeverityLevel,this.adProgressUrl=adProgressUrl}sendAdProgressTracking(trackingInfo,callback){void 0!==trackingInfo&&void 0!==this.adProgressUrl&&this.networkRequestController.request(this.adProgressUrl,trackingInfo,NetworkRequestController.a.POST,ConnectionConfiguration.c,callback)}sendWebTrafficVisitEvent(url,viewingID){let params={};params.url=url,params.viewing_id=viewingID,this.networkRequestController.request(this.webTrafficVisitUrl,JSON.stringify(JSONValidator.a.compact(params)),NetworkRequestController.a.POST,ConnectionConfiguration.c,(code,body,error)=>{let response=parseJSON(body);void 0===error&&NetworkRequestController.b.validResponseStatus(code)&&void 0!==response&&void 0!==response.id?this.recordWebTrafficVisitInfo(url,response.id):console.error("sendWebTrafficVisitEvent error received: "+error)})}recordWebTrafficVisitInfo(url,id){void 0===this.webTrafficVisitInfo&&(this.webTrafficVisitInfo={}),this.webTrafficVisitInfo[url]=id}sendWebTrafficTimeSpent(visitURL,json){let id=this.webTrafficVisitInfo[visitURL];if(void 0===id)return;let url=this.webTrafficVisitUrl+"/"+id;this.networkRequestController.request(url,json,NetworkRequestController.a.PATCH,ConnectionConfiguration.c)}sendNoAdTracking(placement){this.sendTrackingEvent(placement,this.noAdTrackingUrl)}sendAdImpressionTrackingEvent(placement){this.sendTrackingEvent(placement,this.adImpressionTrackingUrl)}sendUserInfoTrackingEvent(placement,requiredInfo){this.sendTrackingEventWithParams(placement,this.userInfoTrackingUrl,EventController_EventController.extractPrequalQuestionNames(requiredInfo))}sendPixelTrackingEvents(pixelsToFire){const arrayofURLs=JSON.parse(pixelsToFire);for(const url of arrayofURLs)this.networkRequestController.request(url,void 0,NetworkRequestController.a.GET,ConnectionConfiguration.d)}sendTrackingEvent(placement,trackingUrl){this.sendTrackingEventWithParams(placement,trackingUrl,void 0)}static extractPrequalQuestionNames(requiredInfoString){return{questions_shown:JSON.parse(requiredInfoString).map(a=>a.Name)}}sendTrackingEventWithParams(placement,trackingUrl,additionalParams){let paramsDictionary={placement_id:placement.id,offer_identifier:placement.getAdIdentifier(),offer_type:placement.getAdType()};console.debug("Requesting additional trackings params for: "+JSON.stringify(paramsDictionary));const baseParams=JSON.parse(HYPRRequestParamListener.getTrackingParams()||"{}");Object.assign(paramsDictionary,baseParams),void 0!==additionalParams&&(paramsDictionary=Object.assign(paramsDictionary,additionalParams));let compactParams=JSON.stringify(JSONValidator.a.compact(paramsDictionary));console.debug(`Sending trackings to ${trackingUrl} with params: ${compactParams}`),this.networkRequestController.request(trackingUrl,compactParams,NetworkRequestController.a.POST,ConnectionConfiguration.c)}onClientErrorEvent(error){error.error.severity<this.errorSeverityLevel||HYPRRequestParamListener.getErrorParams(JSON.stringify(error),"HYPREventController.sendClientError")}sendClientError(errorAsString,baseParams){const error=JSON.parse(errorAsString).error;baseParams.errorTypeKey=error.type,baseParams.errorMessage=error.message,void 0!==error.additionalInfo&&(baseParams.value=error.additionalInfo),console.debug(`Sending CEC to ${this.errorReportingURL} with params: ${JSON.stringify(baseParams)}`),this.networkRequestController.request(this.errorReportingURL,JSON.stringify(JSONValidator.a.compact(baseParams)),NetworkRequestController.a.POST,ConnectionConfiguration.c)}}var TimerController=__webpack_require__(13);function dispatch(context,method,args){method.apply(context,args)}function dispatchToQueue(queue,objectName,methodName,context,method,args){"undefined"!=typeof HYPRSharedQueueController?HYPRSharedQueueController.dispatchToQueue(queue,`${objectName}.${methodName}('${args.join("','")}')`):method.apply(context,args)}function initializationHost(){return"staging.hyprmx.com"}function cdnDomain(){return"hyprmx.com"}function initializationPath(){return"/v1/initialization"}function defaultAdAvailableFor(){return 3600}function parseJSON(stringToParse){let jsonObject;try{jsonObject=JSON.parse(stringToParse)}catch(e){console.error(`Error parsing json string (${stringToParse}) with error ${e}`)}return jsonObject}globalThis.version=function(){return 80};const defaultWebViewReleaseSeconds=0;function createEventController(response){HYPREventController=new EventController_EventController(response.ad_impression_tracking_endpoint,response.user_info_tracking_endpoint,response.webtraffic_visit_endpoint,response.error_reporting_endpoint,response.error_severity_level,response.no_ad_tracking_endpoint,response.ad_progress_endpoint)}globalThis.HYPREventController=void 0,globalThis.HYPRRequestParameterManager=void 0,globalThis.HYPRBiddingController=void 0,globalThis.HYPRNetworkController=new NetworkRequestController.b,globalThis.HYPRTimerController=new TimerController.TimerController;const VAST_VIDEO_OFFER="vast_video",MRAID_OFFER="mraid",WEB_TRAFFIC_OFFER="web_traffic",CONSENT_STATUS={CONSENT_STATUS_UNKNOWN:0,CONSENT_GIVEN:1,CONSENT_DECLINED:2},AD_PROGRESS_STATE={COMPLETED:"COMPLETED",PAYOUT_COMPLETE:"PAYOUT_COMPLETE",BACKGROUNDED:"BACKGROUNDED",IN_PROGRESS:"IN_PROGRESS"},AD_CLOSED_ACTION={BACK_PRESS:"BACK_PRESS",PRESENT_DIALOG_OK:"PRESENT_DIALOG_OK",ERROR_DIALOG_OK:"ERROR_DIALOG_OK",CANCELLATION_DIALOG_OK:"CANCELLATION_DIALOG_OK",ABORT:"ABORT",NATIVE_CLOSE_BUTTON:"NATIVE_CLOSE_BUTTON",COMPLETE_NO_THANK_YOU:"COMPLETE_NO_THANK_YOU",MRAID_CLOSE:"MRAID_CLOSE",CLOSE_AD:"CLOSE_AD",CRASHED:"CRASHED",WEBVIEW_CRASH:"WEBVIEW_CRASH",UNKNOWN:"UNKNOWN"};function addToArray(array,object){void 0!==object&&(Array.isArray(object)?array.push(...object):array.push(object))}},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,"b",(function(){return NetworkRequestController})),__webpack_require__.d(__webpack_exports__,"a",(function(){return CONNECTION_TYPE}));class NetworkRequestController{constructor(){this.requestMap=new Map,this.requestId=0}request(url,body,method,connectionConfiguration,callback=function(){}){let uid=(this.requestId++).toString();return HYPRNativeNetworkController.request(uid,url,body,method,JSON.stringify(connectionConfiguration),"HYPRNetworkController.onNetworkResponse"),this.requestMap[uid]=callback,uid}abortRequest(id){console.debug("Network request aborted for "+id),HYPRNativeNetworkController.abortRequest(id),this.requestMap[id]=null}onNetworkResponse(id,response){console.debug(`Network response for ${id} with response ${JSON.stringify(response)}`);let callback=this.requestMap[id];this.requestMap[id]=null,"function"==typeof callback&&callback(response.code,response.body,response.error,response.headers)}static validResponseStatus(code){return!(code>=400||0===code)}static validXMLType(headers){return void 0!==headers&&"string"==typeof headers["Content-Type"]&&headers["Content-Type"].includes("application/xml")}static validateResponseBody(response){if(void 0===response)return"Response data not parseable."}static parseJSON(json){if(void 0===json)return;let response;try{response=JSON.parse(json)}catch(error){console.error("NetworkRequestController exception parsing JSON response: "+error)}return response}}const CONNECTION_TYPE={GET:"GET",POST:"POST",PATCH:"PATCH"}},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,"a",(function(){return ConnectionConfiguration})),__webpack_require__.d(__webpack_exports__,"f",(function(){return JSON_CONTENT_TYPE})),__webpack_require__.d(__webpack_exports__,"g",(function(){return JSON_UTF8_CONTENT_TYPE})),__webpack_require__.d(__webpack_exports__,"e",(function(){return DEFAULT_READ_TIMEOUT})),__webpack_require__.d(__webpack_exports__,"b",(function(){return DEFAULT_CONNECTION_TIMEOUT})),__webpack_require__.d(__webpack_exports__,"c",(function(){return DEFAULT_JSON_CONNECTION_CONFIGURATION})),__webpack_require__.d(__webpack_exports__,"d",(function(){return DEFAULT_QUERY_CONNECTION_CONFIGURATION}));class ConnectionConfiguration{constructor(followRedirect,readTimeout,connectionTimeout,headers){this.followRedirect=followRedirect,this.readTimeout=readTimeout,this.connectionTimeout=connectionTimeout,this.headers=headers}}const JSON_CONTENT_TYPE="application/json",JSON_UTF8_CONTENT_TYPE=JSON_CONTENT_TYPE+";charset=UTF-8",DEFAULT_READ_TIMEOUT=6e4,DEFAULT_CONNECTION_TIMEOUT=6e4,DEFAULT_JSON_CONNECTION_CONFIGURATION=new ConnectionConfiguration(!0,DEFAULT_READ_TIMEOUT,DEFAULT_CONNECTION_TIMEOUT,{"Content-Type":JSON_UTF8_CONTENT_TYPE}),DEFAULT_QUERY_CONNECTION_CONFIGURATION=new ConnectionConfiguration(!0,DEFAULT_READ_TIMEOUT,DEFAULT_CONNECTION_TIMEOUT,{})},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,"a",(function(){return AD_PROGRESS_TRACKING_ERROR_CODE})),__webpack_require__.d(__webpack_exports__,"b",(function(){return HyprErrorFactory_HyprErrorFactory}));class HyprError{constructor(message,errorCode,errorSeverity,errorType){this.error={},this.error.message=message,this.error.code=errorCode,this.error.severity=errorSeverity,this.error.type=errorType}}const AD_PROGRESS_TRACKING_ERROR_CODE={UnexpectedSetUp:250,InvalidSetUp:251,InvalidProgressValue:252,InvalidCloseValue:253,InvalidProgressContext:254,InvalidCloseContext:255},VAST_ERROR_TYPE="vast_parser_failure";class HyprErrorFactory_HyprErrorFactory{static getVastNoMediaError(){return new HyprError("No valid media files exist",100,0,VAST_ERROR_TYPE)}static getVastValidateError(){return new HyprError("Could not validate VAST xml",101,4,VAST_ERROR_TYPE)}static getVastNoAdsAvailableError(){return new HyprError("No ad available",102,0,VAST_ERROR_TYPE)}static getVastNoDurationError(){return new HyprError("No duration found for media",103,0,VAST_ERROR_TYPE)}static getVastNoImpressionsError(){return new HyprError("No impressions found for ad",104,0,VAST_ERROR_TYPE)}static getVastAdWithWrapperError(){return new HyprError("Ad with wrapper tag received",105,4,VAST_ERROR_TYPE)}static getVastTagDownloadError(){return new HyprError("Vast TAG failed to download",106,0,VAST_ERROR_TYPE)}static getVastEmptyTagError(){return new HyprError("Vast tag returned empty.  Proxy error.",107,0,VAST_ERROR_TYPE)}static getAdProgressInvalidSetUpError(viewingID,distributorID,userID,offerType){return new HyprError("Invalid call to AdProgressTracking.setUpTracking with viewingID: "+viewingID+" distributorID: "+distributorID+" userID: "+userID+" offerType: "+offerType,AD_PROGRESS_TRACKING_ERROR_CODE.InvalidSetUp,3,"ad_progress_tracking_error")}static getAdProgressUpdateError(message,code){return new HyprError(message,code,3,"ad_progress_tracking_error")}}},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,"a",(function(){return JSONValidator}));var ajv_dist_ajv_min__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(16),ajv_dist_ajv_min__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(ajv_dist_ajv_min__WEBPACK_IMPORTED_MODULE_0__),validate_js_validate_min__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(17),validate_js_validate_min__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(validate_js_validate_min__WEBPACK_IMPORTED_MODULE_1__);class JSONValidator{static validateJSON(schema,json){let ajv,valid=!1;if(void 0===schema||void 0===json||"object"!=typeof json){let errorMessage="JSONValidator could not validate. json object could not be created.";return console.debug(errorMessage),JSONValidator.sendValidationCEC(jsonNotAnObjectError,errorMessage),!1}try{ajv=new ajv_dist_ajv_min__WEBPACK_IMPORTED_MODULE_0___default.a,ajv.addFormat("hypr_url",this.urlValidation),valid=ajv.validate(schema,json)}catch(e){let errorMessage="JSONValidator Exception while validation json: "+e.message;return console.error(errorMessage),JSONValidator.sendValidationCEC(jsonValidationExceptionError,errorMessage),!1}if(valid)return!0;{let errorMessage="";return ajv.errors.forEach((function(entry){let error=`JSONValidator reported the following parse error: ${entry.dataPath} ${entry.message}. `;errorMessage+=error,console.debug(error)})),JSONValidator.sendValidationCEC(jsonValidationParsingError,errorMessage),!1}}static sendValidationCEC(errorType,errorMessage){HYPRErrorController.sendClientErrorCapture(validationErrorCollection,errorType,errorMessage,validationErrorSeverity)}static urlValidation(url,schemes=["https"]){return void 0===validate_js_validate_min__WEBPACK_IMPORTED_MODULE_1___default()({website:url},{website:{url:{schemes:schemes}}})}static compact(json){let jsonCopy=JSON.parse(JSON.stringify(json));return JSONValidator.compactHelper(jsonCopy),jsonCopy}static compactHelper(json){null!=json&&(this.compactJsonArray(json),Object.keys(json).forEach(k=>{(this.isObject(json[k])||Array.isArray(json[k]))&&this.compactHelper(json[k]),this.isEmpty(json[k])&&delete json[k]}))}static compactJsonArray(jsonArray){if(Array.isArray(jsonArray)){jsonArray.forEach(it=>this.compactHelper(it));for(let k=Object.keys(jsonArray).length-1;k>=0;k--)this.isEmpty(jsonArray[k])&&jsonArray.splice(k,1)}}static isEmpty(json){return!!(null==json||Array.isArray(json)&&0===json.length||this.isObject(json)&&0===Object.keys(json).length||""===json)}static isObject(json){return"[object Object]"===Object.prototype.toString.call(json)}}const validationErrorCollection="json_validation_error",jsonNotAnObjectError="json_validation_not_valid_object",jsonValidationExceptionError="json_validation_raised_exception",jsonValidationParsingError="json_validation_failed_schema",validationErrorSeverity=4},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Placement",(function(){return Placement_Placement})),__webpack_require__.d(__webpack_exports__,"POST_AD_REFRESH",(function(){return POST_AD_REFRESH})),__webpack_require__.d(__webpack_exports__,"CONSENT_CHANGED_REFRESH",(function(){return CONSENT_CHANGED_REFRESH}));var JSONValidator=__webpack_require__(4);const PLACEMENT_SCHEMA={type:"object",definitions:__webpack_require__(12).a,properties:{ads_available:{type:"array",uniqueItems:!0,items:{$ref:"#/definitions/ad"}},ads_to_preload:{type:"array",items:{$ref:"#/definitions/ads_to_preload"},uniqueItems:!0},required_information:{$ref:"#/definitions/required_information"},ui_components:{$ref:"#/definitions/ui_components"}},required:["ads_available"]};var sdk_globals=__webpack_require__(0),NetworkRequestController=__webpack_require__(1),ConnectionConfiguration=__webpack_require__(2),TransparencyTracking=__webpack_require__(7),InitializationController=__webpack_require__(9);class Placement_Placement{constructor(id,name,type,inventoryCheckURL,placementListener,networkRequestController=globalThis.HYPRNetworkController,timerController=globalThis.HYPRTimerController,consentController=HYPRConsentController){this.id=id,this.name=name,this.type=type,this.inventoryCheckURL=inventoryCheckURL,this.networkRequestController=networkRequestController,this.timerController=timerController,this.consentController=consentController,this.placementListener=placementListener,this.request=void 0,this.refreshRequest=void 0,this.canShowFor=void 0}loadAd(params,onResultCallback){if(this.refreshInProgress())return void this.placementListener.onLoadAdResponse(this,void 0);void 0!==this.secondaryRefreshInfo&&(console.error("Load ad started with a secondaryRefreshInfo still set: "+JSON.stringify(this.secondaryRefreshInfo)),this.secondaryRefreshInfo=void 0);let paramsDictionary=this.compileRequestParamsFromParams(params,this.getPromiseTokenKey(!0));this.clearAdAndStopAdAvailableTimer();let compactParamString=JSON.stringify(JSONValidator.a.compact(paramsDictionary));console.debug(`Loading ads for ${this} with request params: ${compactParamString}`),this.request=this.networkRequestController.request(this.inventoryCheckURL,compactParamString,NetworkRequestController.a.POST,ConnectionConfiguration.c,(code,body,error)=>{this.inventoryCheckCallback(code,body,error,onResultCallback)})}inventoryCheckCallback(code,body,error,onResultCallback){NetworkRequestController.b.validResponseStatus(code)&&void 0===error?console.debug(`Loading ads completed for placement: ${this} with body: ${body}`):console.debug(`Loading ads completed for placement: ${this} with status code ${code} and with error: ${error}`);let response=Object(sdk_globals.parseJSON)(body);this.processResponse(code,response,error),this.request=void 0,this.isAdAvailable()&&this.startAdAvailableTimer(),onResultCallback(this,error)}processResponse(code,response,error,refresh=!1){if(NetworkRequestController.b.validResponseStatus(code)&&void 0===error&&void 0!==response&&JSONValidator.a.validateJSON(PLACEMENT_SCHEMA,response)){let ads=response.ads_available||[];(!refresh||ads.length>0)&&(this.ad=ads[0]),this.required_information=response.required_information,void 0!==response.ui_components&&(this.ui_components=response.ui_components),refresh||(this.ads_to_preload=response.ads_to_preload)}}loadBidResponse(bidResponseData){return this.request&&this.request.abort(),this.clearAdAndStopAdAvailableTimer(),this.processResponse(200,Object(sdk_globals.parseJSON)(bidResponseData),void 0),this.request=void 0,!!this.isAdAvailable()&&(this.startAdAvailableTimer(),!0)}startAdAvailableTimer(){void 0!==this.ad&&(this.canShowFor=this.ad.available_for),void 0===this.canShowFor&&(this.canShowFor=Object(sdk_globals.defaultAdAvailableFor)()),console.debug(`Placement.startAdAvailableTimer(${this.name}) for ${this.canShowFor} seconds`),this.adAvailableTimer=this.timerController.startTimer(1e3*this.canShowFor,()=>{this.clearAdAndStopAdAvailableTimer(!0)})}stopAdAvailableTimer(){this.adAvailableTimerIsActive()&&(console.debug(`Placement.stopAdAvailableTimer(${this.name})`),this.timerController.stopTimer(this.adAvailableTimer),this.canShowFor=void 0,this.adAvailableTimer=void 0)}clearAd(){console.debug(`Placement.clearAd(${this.name})`),this.ad=void 0,this.required_information=void 0,this.ads_to_preload=void 0,this.ui_components=void 0}clearRequiredInfo(){this.required_information=void 0}clearAdsToPreload(){this.ads_to_preload=void 0}clearAdAndStopAdAvailableTimer(adExpired=!1){console.debug(`Placement.clearAdAndStopTimer(${this.name})`),void 0!==this.request&&(this.networkRequestController.abortRequest(this.request),this.request=void 0),this.stopAdAvailableTimer(),this.clearAd(),this.placementListener&&!this.refreshInProgress()&&(this.placementListener.onPlacementAdCleared(this),adExpired&&this.placementListener.onPlacementAdExpired(this))}handleRefresh(context,requestParams){if(this.adAvailableTimerIsActive()){if(this.refreshInProgress()){console.debug(`Refresh in progress for placement ${this.name} with request ${this.refreshRequest}`);let prevContext=void 0!==this.secondaryRefreshInfo?this.secondaryRefreshInfo.context:"",info={};return info.context=prevContext===CONSENT_CHANGED_REFRESH?CONSENT_CHANGED_REFRESH:context,void(this.secondaryRefreshInfo=info)}console.debug(`Refresh started for placement: ${this} with context: ${context}`),context===CONSENT_CHANGED_REFRESH&&this.clearAd(),this.clearRequiredInfo(),this.clearAdsToPreload(),this.refreshAd(context,requestParams)}}refreshAd(context,requestParams){let params=this.compileRequestParamsFromParams(requestParams,this.getPromiseTokenKey(!0));params.context=context,console.debug("refresh params are: "+JSON.stringify(params));let compactParamString=JSON.stringify(JSONValidator.a.compact(params));this.refreshRequest=this.networkRequestController.request(this.inventoryCheckURL,compactParamString,NetworkRequestController.a.POST,ConnectionConfiguration.c,(code,response,error)=>{this.refreshAdCallback(code,response,error)})}refreshAdCallback(code,body,error){console.debug(`Refresh completed for placement: ${this} with code ${code}, body ${body}, and error ${error}`),this.refreshRequest=void 0;let response=Object(sdk_globals.parseJSON)(body);this.processResponse(code,response,error,!0);let id=this.getAdIdentifier();if(Placement_Placement.responseHasAd(response))console.debug((id.length>0?`Refreshed with ad id: ${id}. `:"Refreshed with new RequiredInfo. ")+"Restarted timer."),this.stopAdAvailableTimer(),this.startAdAvailableTimer();else{if(!this.adAvailableTimerIsActive())return console.debug("Refreshed completed with no ad and timer has ended"),this.placementListener.onPlacementAdCleared(this),void this.placementListener.onPlacementAdExpired(this);console.debug(`Refreshed completed with no new ad. Current ad id is: ${id}.  Timer still active.`)}this.placementListener.onRefreshAdResponse(this,error),this.secondaryRefreshInfo&&(console.debug("Starting secondary refresh for Context: "+this.secondaryRefreshInfo.context),this.placementListener.startAdRefresh(this.secondaryRefreshInfo.context,this.name),this.secondaryRefreshInfo=void 0)}static responseHasAd(response){return void 0!==response&&(void 0!==response.ads_available&&response.ads_available.length>0||void 0!==response.required_information&&response.required_information.length>0)}refreshInProgress(){return void 0!==this.refreshRequest}adAvailableTimerIsActive(){return void 0!==this.adAvailableTimer}static fromObject(json,placementListener,networkRequestController=globalThis.HYPRNetworkController,timerController=globalThis.HYPRTimerController){return new Placement_Placement(json.id,json.name,json.type,json.inventory_check_url,placementListener,networkRequestController,timerController)}static deepCopy(placement){let newPlacement=new Placement_Placement;for(let key in placement)newPlacement[key]=placement[key];return newPlacement}isEqualToPlacement(placement){return this.id===placement.id}compileRequestParamsFromParams(params,rewardTokenKey){return params.placement_id=this.id,null!==rewardTokenKey&&(params[rewardTokenKey]=this.getAdRewardToken()),this.addStatusParamsToParams(params),params}addStatusParamsToParams(params){return(params=Object.assign(params,this.consentController.getConsentParameters())).low_power_enabled=HYPRRequestParamListener.getIsLowPowerEnabled(),void 0!==HYPRRequestParameterManager.cache[InitializationController.SKAdNetworkItemsKey]&&(params[InitializationController.SKAdNetworkItemsKey]=HYPRRequestParameterManager.cache[InitializationController.SKAdNetworkItemsKey]),TransparencyTracking.a.addStatus(params),params}static catalogFrameParametersForPlacement(placement,baseParams){let params=placement.compileRequestParamsFromParams(baseParams,placement.getPromiseTokenKey(!1));return params.offer=placement.getOfferName(),JSON.stringify(JSONValidator.a.compact(params))}getOfferName(){return this.hasAd()?`${this.getAdType()}-${this.getAdIdentifier()}`:""}isAdAvailable(){return this.hasRequiredInformation()||this.hasAd()}hasRequiredInformation(){return void 0!==this.required_information&&this.required_information.length>0}hasUIComponents(){return void 0!==this.ui_components&&Object.keys(this.ui_components).length>0}hasAd(){return void 0!==this.ad&&Object.keys(this.ad).length>0}getRequiredInfoString(){return this.hasRequiredInformation()?JSON.stringify(this.required_information):"[]"}shouldAppStoreUseOverlay(){return this.hasAd()&&!0===this.ad.use_skoverlay}getUIComponentsString(){const components=this.hasUIComponents()?this.ui_components:Placement_Placement.getDefaultUIComponents();return void 0===components.no_ad&&(components.no_ad=Placement_Placement.noAdDefaultUI()),JSON.stringify(components)}getPromiseTokenKey(isInventoryCheck){let promiseTokenKey=null;return isInventoryCheck?void 0!==this.ad&&this.ad.relay_promise_token&&(promiseTokenKey="last_promise_token"):promiseTokenKey="reward_token",promiseTokenKey}static noAdDefaultUI(){const noAdUI={title:"This ad is not available based on your response. Close to continue.",title_color:"282828",title_size:16};return noAdUI}getAdString(){if(this.hasAd()){let adObj=this.ad;return void 0===adObj.webview_release_in_seconds&&(adObj.webview_release_in_seconds=sdk_globals.defaultWebViewReleaseSeconds),void 0===adObj.force_status_bar_display&&(adObj.force_status_bar_display=this.getAdType()===sdk_globals.WEB_TRAFFIC_OFFER&&"portrait"===adObj.allowed_orientation),JSON.stringify(adObj)}return"{}"}getAdType(){return this.hasAd()&&this.ad.type?this.ad.type:""}getAdIdentifier(){return this.hasAd()&&this.ad.id?this.ad.id:""}getAdRewardText(){return this.hasAd()&&this.ad.reward_text?this.ad.reward_text:""}getAdRewardQuantity(){return this.hasAd()&&this.ad.reward_quantity?this.ad.reward_quantity:0}getAdRewardToken(){return this.hasAd()&&this.ad.reward_token?this.ad.reward_token:""}isNavigationRuleMatch(url){return!("string"!=typeof url||!this.hasAd()||"string"!=typeof this.ad.navigation_rule||this.ad.navigation_rule.length<1)&&null!==url.match(new RegExp(this.ad.navigation_rule,"i"))}toString(){return`Placement[id=${this.id}, name=${this.name}, type=${this.type}, inventoryCheckURL=${this.inventoryCheckURL}, isAdAvailable=${this.isAdAvailable()}, canShowFor=${this.canShowFor}]`}static getDefaultUIComponents(){return defaultUIComponents}static setDefaultUIComponents(uiComponents){defaultUIComponents=uiComponents}}let defaultUIComponents={};const POST_AD_REFRESH="refresh",CONSENT_CHANGED_REFRESH="consentChanged";globalThis.Placement=Placement_Placement},function(module,exports,__webpack_require__){const nameStartChar=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",nameRegexp="["+nameStartChar+"][:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",regexName=new RegExp("^"+nameRegexp+"$");exports.isExist=function(v){return void 0!==v},exports.isEmptyObject=function(obj){return 0===Object.keys(obj).length},exports.merge=function(target,a,arrayMode){if(a){const keys=Object.keys(a),len=keys.length;for(let i=0;i<len;i++)target[keys[i]]="strict"===arrayMode?[a[keys[i]]]:a[keys[i]]}},exports.getValue=function(v){return exports.isExist(v)?v:""},exports.buildOptions=function(options,defaultOptions,props){var newOptions={};if(!options)return defaultOptions;for(let i=0;i<props.length;i++)void 0!==options[props[i]]?newOptions[props[i]]=options[props[i]]:newOptions[props[i]]=defaultOptions[props[i]];return newOptions},exports.isName=function(string){const match=regexName.exec(string);return!(null==match)},exports.getAllMatches=function(string,regex){const matches=[];let match=regex.exec(string);for(;match;){const allmatches=[],len=match.length;for(let index=0;index<len;index++)allmatches.push(match[index]);matches.push(allmatches),match=regex.exec(string)}return matches},exports.nameRegexp=nameRegexp},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,"a",(function(){return TransparencyTracking}));class TransparencyTracking{static addStatus(params={}){if("object"==typeof HYPRTransparencyTrackingManager){let status=HYPRTransparencyTrackingManager.getTrackingPermissionStatus();console.debug("TransparencyTracking received status of "+status),params.privacy_tracking_status=status}return params}static canPrompt(initConfiguration={}){const prompt="object"==typeof HYPRTransparencyTrackingManager&&void 0!==initConfiguration.enable_tracking_prompt&&initConfiguration.enable_tracking_prompt&&"not_determined"===HYPRTransparencyTrackingManager.getTrackingPermissionStatus();return console.debug("TransparencyTracking.canPrompt result: "+prompt),prompt}static prompt(callback){if(void 0===callback||callback.length<1)throw new Error("No callback supplied to Transparency Tracking prompt");console.debug("TransparencyTracking will present prompt to user."),HYPRTransparencyTrackingManager.promptForTrackingPermissionWithCallback(callback)}}},function(module,exports,__webpack_require__){(function(global){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(global,factory){module.exports=factory(global)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==global?global:this,(function(global){var _Base64=global.Base64,version="2.4.9",buffer;if(module.exports)try{buffer=eval("require('buffer').Buffer")}catch(err){buffer=void 0}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64tab=function(bin){for(var t={},i=0,l=bin.length;i<l;i++)t[bin.charAt(i)]=i;return t}(b64chars),fromCharCode=String.fromCharCode,cb_utob=function(c){if(c.length<2)return(cc=c.charCodeAt(0))<128?c:cc<2048?fromCharCode(192|cc>>>6)+fromCharCode(128|63&cc):fromCharCode(224|cc>>>12&15)+fromCharCode(128|cc>>>6&63)+fromCharCode(128|63&cc);var cc=65536+1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320);return fromCharCode(240|cc>>>18&7)+fromCharCode(128|cc>>>12&63)+fromCharCode(128|cc>>>6&63)+fromCharCode(128|63&cc)},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=function(u){return u.replace(re_utob,cb_utob)},cb_encode=function(ccc){var padlen=[0,2,1][ccc.length%3],ord=ccc.charCodeAt(0)<<16|(ccc.length>1?ccc.charCodeAt(1):0)<<8|(ccc.length>2?ccc.charCodeAt(2):0);return[b64chars.charAt(ord>>>18),b64chars.charAt(ord>>>12&63),padlen>=2?"=":b64chars.charAt(ord>>>6&63),padlen>=1?"=":b64chars.charAt(63&ord)].join("")},btoa=global.btoa?function(b){return global.btoa(b)}:function(b){return b.replace(/[\s\S]{1,3}/g,cb_encode)},_encode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(u){return(u.constructor===buffer.constructor?u:buffer.from(u)).toString("base64")}:function(u){return(u.constructor===buffer.constructor?u:new buffer(u)).toString("base64")}:function(u){return btoa(utob(u))},encode=function(u,urisafe){return urisafe?_encode(String(u)).replace(/[+\/]/g,(function(m0){return"+"==m0?"-":"_"})).replace(/=/g,""):_encode(String(u))},encodeURI=function(u){return encode(u,!0)},re_btou=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),cb_btou=function(cccc){switch(cccc.length){case 4:var offset=((7&cccc.charCodeAt(0))<<18|(63&cccc.charCodeAt(1))<<12|(63&cccc.charCodeAt(2))<<6|63&cccc.charCodeAt(3))-65536;return fromCharCode(55296+(offset>>>10))+fromCharCode(56320+(1023&offset));case 3:return fromCharCode((15&cccc.charCodeAt(0))<<12|(63&cccc.charCodeAt(1))<<6|63&cccc.charCodeAt(2));default:return fromCharCode((31&cccc.charCodeAt(0))<<6|63&cccc.charCodeAt(1))}},btou=function(b){return b.replace(re_btou,cb_btou)},cb_decode=function(cccc){var len=cccc.length,padlen=len%4,n=(len>0?b64tab[cccc.charAt(0)]<<18:0)|(len>1?b64tab[cccc.charAt(1)]<<12:0)|(len>2?b64tab[cccc.charAt(2)]<<6:0)|(len>3?b64tab[cccc.charAt(3)]:0),chars=[fromCharCode(n>>>16),fromCharCode(n>>>8&255),fromCharCode(255&n)];return chars.length-=[0,0,2,1][padlen],chars.join("")},atob=global.atob?function(a){return global.atob(a)}:function(a){return a.replace(/[\s\S]{1,4}/g,cb_decode)},_decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(a){return(a.constructor===buffer.constructor?a:buffer.from(a,"base64")).toString()}:function(a){return(a.constructor===buffer.constructor?a:new buffer(a,"base64")).toString()}:function(a){return btou(atob(a))},decode=function(a){return _decode(String(a).replace(/[-_]/g,(function(m0){return"-"==m0?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,""))},noConflict=function(){var Base64=global.Base64;return global.Base64=_Base64,Base64};if(global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict,__buffer__:buffer},"function"==typeof Object.defineProperty){var noEnum=function(v){return{value:v,enumerable:!1,writable:!0,configurable:!0}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum((function(){return decode(this)}))),Object.defineProperty(String.prototype,"toBase64",noEnum((function(urisafe){return encode(this,urisafe)}))),Object.defineProperty(String.prototype,"toBase64URI",noEnum((function(){return encode(this,!0)})))}}return global.Meteor&&(Base64=global.Base64),module.exports?module.exports.Base64=global.Base64:(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return global.Base64}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)),{Base64:global.Base64}}))}).call(this,__webpack_require__(21))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"InitializationController",(function(){return InitializationController_InitializationController})),__webpack_require__.d(__webpack_exports__,"PersistentIdKey",(function(){return PersistentIdKey})),__webpack_require__.d(__webpack_exports__,"OptedOutKey",(function(){return OptedOutKey})),__webpack_require__.d(__webpack_exports__,"SKAdNetworkItemsKey",(function(){return SKAdNetworkItemsKey}));var AdProgressTracking=__webpack_require__(11),JSONValidator=__webpack_require__(4),Placement=__webpack_require__(5);const INIT_SCHEMA={type:"object",definitions:__webpack_require__(12).a,properties:{sharing_endpoint:{type:"string",format:"hypr_url"},completion_endpoint:{type:"string",format:"hypr_url"},ad_impression_tracking_endpoint:{type:"string",format:"hypr_url"},skadnetwork_signature_endpoint:{type:"string",format:"hypr_url"},user_info_tracking_endpoint:{type:"string",format:"hypr_url"},duration_update_endpoint:{type:"string",format:"hypr_url"},error_reporting_endpoint:{type:"string",format:"hypr_url"},webtraffic_visit_endpoint:{type:"string",format:"hypr_url"},ad_progress_endpoint:{type:"string",format:"hypr_url"},no_ad_tracking_endpoint:{type:"string",format:"hypr_url"},error_severity_level:{type:"integer"},enable_all_logs:{type:"boolean"},enable_tracking_prompt:{type:"boolean"},placements:{type:"array",items:{$ref:"#/definitions/placement"},uniqueItems:!0},ads_to_preload:{type:"array",items:{$ref:"#/definitions/ads_to_preload"},uniqueItems:!0},new_mobile_js:{$ref:"#/definitions/new_mobile_js"},ui_components:{$ref:"#/definitions/ui_components"},open_measurement:{$ref:"#/definitions/open_measurement"},webtraffic:{type:"object",properties:{close_button:{type:"object",properties:{image:{type:"object",properties:{url:{type:"string",format:"hypr_url"},width:{type:"integer",minimum:0},height:{type:"integer",minimum:0}},required:["url","width","height"]}},required:["image"]}},required:["close_button"]}},required:["sharing_endpoint","completion_endpoint","ad_impression_tracking_endpoint","user_info_tracking_endpoint","duration_update_endpoint","error_reporting_endpoint","webtraffic_visit_endpoint","error_severity_level","placements","ads_to_preload","ui_components","no_ad_tracking_endpoint","ad_progress_endpoint"]};var sdk_globals=__webpack_require__(0),NetworkRequestController=__webpack_require__(1),ConnectionConfiguration=__webpack_require__(2);class RequestParameterManager_RequestParameterManager{constructor(params,consentController=HYPRConsentController){this.consentController=consentController,this.cache=JSONValidator.a.compact(params),this.compressedPersistentParams=void 0,params.preloaded_ads?this.vastStateCache=JSON.stringify(params.preloaded_ads):this.vastStateCache="[]",this.buildPersistentParamsObject()}getCompressedParameters(){let tokenParams=JSON.parse(this.compressedPersistentParams);return Object.assign(tokenParams,this.buildVolatileParamsObject()),JSON.stringify(tokenParams)}static persistentParameterMapping(){return{ad_id_opted_out:"ao",ats_settings:"at",bundle_id:"b",bundle_version:"bv",carrier_data:"c",cleartext_traffic_permitted:"ct",device:"d",device_brand:"db",device_fingerprint:"df",device_model:"dm",device_os_version:"do",device_product:"dp",device_type:"dt",distributor_id:"di",maccatalyst:"mc",mobile_js_version:"j",msdkv:"m",permissions:"p",screen_traits:"s",sdk_version:"sv",supported_interface_settings:"si",supports_multiple_scenes:"ss",supports_multiwindow:"sm",target_sdk_version:"sv",xcode_version:"x"}}buildPersistentParamsObject(){let compressedParams={};for(const[pKey,cKey]of Object.entries(RequestParameterManager_RequestParameterManager.persistentParameterMapping()))void 0!==this.cache[pKey]&&(console.debug(`paramKey: ${pKey} compressedKey: ${cKey} value: ${this.cache[pKey]}`),"function"==typeof RequestParameterManager_RequestParameterManager[pKey]?compressedParams[cKey]=RequestParameterManager_RequestParameterManager[pKey](this.cache[pKey]):compressedParams[cKey]=this.cache[pKey]);this.compressedPersistentParams=JSON.stringify(JSONValidator.a.compact(compressedParams))}buildVolatileParamsObject(){let compressedParams={};return compressedParams.pa=RequestParameterManager_RequestParameterManager.preloaded_ads(JSON.parse(this.vastStateCache)),compressedParams.cs=RequestParameterManager_RequestParameterManager.compressConsent(this.consentController.getConsentParameters()),compressedParams.cn=RequestParameterManager_RequestParameterManager.connection_type(HYPRRequestParamListener.getConnectionType()),compressedParams.l=RequestParameterManager_RequestParameterManager.low_power_enabled(HYPRRequestParamListener.getIsLowPowerEnabled()),"function"==typeof HYPRRequestParamListener.getUserPermissions&&(compressedParams.up=RequestParameterManager_RequestParameterManager.user_permissions(JSON.parse(HYPRRequestParamListener.getUserPermissions()))),JSONValidator.a.compact(compressedParams)}updateVastCacheState(newState){let cacheArray=JSON.parse(this.vastStateCache),searchIndex=-1,searchId=newState.identifier;return cacheArray.forEach((element,index)=>{element.identifier===searchId&&(searchIndex=index)}),searchIndex>-1?(console.debug("Updating cache state for identifier: "+newState.identifier),cacheArray[searchIndex]=newState):(console.debug(`Adding identifier: ${newState.identifier} to cache`),cacheArray.push(newState)),this.vastStateCache=JSON.stringify(cacheArray),cacheArray}static booleanToInt(bool){return!0===bool?1:0}static compressConsent(consentObject){return void 0===consentObject||void 0===consentObject.consent||void 0===consentObject.consent.is_consent_given?0:!0===consentObject.consent.is_consent_given?1:2}static parseCarrierParams(params){return`${params.carrier_name||""},${params.mobile_network_code||""},${params.mobile_country_code||""},${RequestParameterManager_RequestParameterManager.carrierCodeMap()[params.cellular_radio_type]||""}`}static carrierCodeMap(){return{UNKNOWN:0,GPRS:1,CTRadioAccessTechnologyGPRS:1,EDGE:2,CTRadioAccessTechnologyEdge:2,UMTS:3,HSDPA:4,CTRadioAccessTechnologyHSDPA:4,HSUPA:5,CTRadioAccessTechnologyHSUPA:5,HSPA:6,CDMA:7,CTRadioAccessTechnologyCDMA1x:7,"CDMA - EvDo rev. 0":8,CTRadioAccessTechnologyCDMAEVDORev0:8,"CDMA - EvDo rev. A":9,CTRadioAccessTechnologyCDMAEVDORevA:9,"CDMA - EvDo rev. B":10,CTRadioAccessTechnologyCDMAEVDORevB:10,"CDMA - 1xRTT":11,iDEN:12,LTE:13,CTRadioAccessTechnologyLTE:13,"CDMA - eHRPD":14,CTRadioAccessTechnologyeHRPD:14,"HSPA+":16,"NETWORK_TYPE_NR (5G)":16,CTRadioAccessTechnologyWCDMA:17}}static ad_id_opted_out(value){return RequestParameterManager_RequestParameterManager.booleanToInt(value)}static ats_settings(value){let result=0;return result+=!0===value.NSAllowsArbitraryLoads?1:0,result+=!0===value.NSAllowsArbitraryLoadsInWebContent?2:0,result+=!0===value.NSAllowsArbitraryLoadsForMedia?4:0,result}static bundle_id(value){return value}static bundle_version(value){return value.substring(0,12)}static carrier_data(data){if(void 0!==data.carrier_name)return[RequestParameterManager_RequestParameterManager.parseCarrierParams(data)];let result=[];for(const key of Object.keys(data))result.push(RequestParameterManager_RequestParameterManager.parseCarrierParams(data[key]));return result}static cleartext_traffic_permitted(value){return RequestParameterManager_RequestParameterManager.booleanToInt(value)}static connection_type(value){return"wifi"===value.toLowerCase()?1:0}static low_power_enabled(value){return RequestParameterManager_RequestParameterManager.booleanToInt(value)}static maccatalyst(value){return RequestParameterManager_RequestParameterManager.booleanToInt(value)}static permissions(value){let result=0;return result+=value.indexOf("NSCalendarsUsageDescription")>-1?1:0,result+=value.indexOf("NSCameraUsageDescription")>-1?2:0,result+=value.indexOf("NSContactsUsageDescription")>-1?4:0,result+=value.indexOf("NSPhotoLibraryAddUsageDescription")>-1?8:0,result+=value.indexOf("NSPhotoLibraryUsageDescription")>-1?16:0,result+=value.indexOf("NSUserTrackingUsageDescription")>-1?32:0,result+=value.indexOf("android.permission.WRITE_EXTERNAL_STORAGE")>-1?64:0,result+=value.indexOf("android.permission.VIBRATE")>-1?128:0,result+=value.indexOf("android.permission.CAMERA")>-1?256:0,result}static preloaded_ads(value){let cachedIds=[];for(const preload of value)!0===preload.asset_complete&&void 0!==preload.last_cache_date&&cachedIds.push(preload.identifier);return cachedIds}static screen_traits(value){let a="2";"dark"===value.userInterfaceStyle?a="0":"light"===value.userInterfaceStyle&&(a="1");let b="2";"compact"===value.horizontalSizeClass?b="0":"regular"===value.horizontalSizeClass&&(b="1");let c="2";"compact"===value.verticalSizeClass?c="0":"regular"===value.verticalSizeClass&&(c="1");let d="2";"high"===value.accessibilityContrast?d="0":"normal"===value.accessibilityContrast&&(d="1");let e="2";"base"===value.userInterfaceLevel?e="0":"elevated"===value.userInterfaceLevel&&(e="1");let f="2";"LTR"===value.userInterfaceLayoutDirection?f="0":"RTL"===value.userInterfaceLayoutDirection&&(f="1");let g="2";"1.0"===value.displayScale?g="0":"2.0"===value.displayScale&&(g="1");let h="4";return"iPhone"===value.userInterfaceIdiom?h="0":"iPad"===value.userInterfaceIdiom?h="1":"CarPlay"===value.userInterfaceIdiom?h="2":"Tv"===value.userInterfaceIdiom&&(h="3"),`${a}${b}${c}${d}${e}${f}${g}${h}`}static supported_interface_settings(value){let result=0;return result+=value.indexOf("UIInterfaceOrientationPortrait")>-1?1:0,result+=value.indexOf("UIInterfaceOrientationLandscapeLeft")>-1?2:0,result+=value.indexOf("UIInterfaceOrientationLandscapeRight")>-1?4:0,result+=value.indexOf("UIInterfaceOrientationPortraitUpsideDown")>-1?8:0,result}static supports_multiple_scenes(value){return RequestParameterManager_RequestParameterManager.booleanToInt(value)}static supports_multiwindow(value){return RequestParameterManager_RequestParameterManager.booleanToInt(value)}static user_permissions(value){let permissionValue=function(permission=""){return"not_determined"===permission.toLowerCase()?"0":"restricted"===permission.toLowerCase()?"1":"denied"===permission.toLowerCase()?"2":"authorized"===permission.toLowerCase()?"3":"7"},result="";return result+=permissionValue(value.camera_permission),result+=permissionValue(value.microphone_permission),result+=permissionValue(value.calendar_permission),result}}var TransparencyTracking=__webpack_require__(7);class InitializationController_InitializationController{constructor(host=Object(sdk_globals.initializationHost)(),networkRequestController=globalThis.HYPRNetworkController,consentController=HYPRConsentController,preloadController=HYPRPreloadController){this.initialized=!1,this.configuration=void 0,this.networkRequestController=networkRequestController,this.initializationURL=`https://${host}${Object(sdk_globals.initializationPath)()}`,this.consentController=consentController,this.preloadController=preloadController}initialize(params){this.initialized=!1,this.configuration=void 0,"android"!==params[DeviceTypeKey]&&(globalThis.hyprMXLocalStorage=localStorage);let oldOptedOut=JSON.parse(hyprMXLocalStorage.getItem(OptedOutKey)),oldPersistentId=hyprMXLocalStorage.getItem(PersistentIdKey);console.debug("oldPersistentId: "+oldPersistentId),console.debug("oldOptedOut: "+oldOptedOut),params[MobileJSVersionDataKey]=version(),(void 0!==params[OptedOutKey]&&null!=oldOptedOut&&oldOptedOut!==params[OptedOutKey]||void 0!==params[PersistentIdKey]&&null!=oldPersistentId&&oldPersistentId!==params[PersistentIdKey])&&(console.debug("Persistent Id reset detected"),params[ResetUserDataKey]=!0,this.preloadController.resetVastCache()&&delete params.preloaded_ads),params=Object.assign(params,this.consentController.getConsentParameters()),TransparencyTracking.a.addStatus(params),"function"==typeof HYPRRequestParamListener.getInfoPlistKey&&(params=Object.assign(params,JSON.parse(HYPRRequestParamListener.getInfoPlistKey(SKAdNetworkItemsKey)))),"function"==typeof HYPRRequestParamListener.getUserInstalledApps&&(params=Object.assign(params,JSON.parse(HYPRRequestParamListener.getUserInstalledApps()))),HYPRRequestParameterManager=new RequestParameterManager_RequestParameterManager(params);let initializationParams=JSON.stringify(HYPRRequestParameterManager.cache);console.debug(`Initialization Requested to ${this.initializationURL} with ${initializationParams}`),this.networkRequestController.request(this.initializationURL,initializationParams,NetworkRequestController.a.POST,ConnectionConfiguration.c,(code,response,error)=>{this.response(code,response,error,(function(){void 0!==params[OptedOutKey]&&hyprMXLocalStorage.setItem(OptedOutKey,params[OptedOutKey].toString()),void 0!==params[PersistentIdKey]&&hyprMXLocalStorage.setItem(PersistentIdKey,params[PersistentIdKey].toString())}))})}response(code,body,error,executeOnSuccess=function(){}){let response=Object(sdk_globals.parseJSON)(body);if(void 0!==HYPRInitListener.setEnableAllLogs&&HYPRInitListener.setEnableAllLogs(void 0!==response&&void 0!==response.enable_all_logs&&response.enable_all_logs),NetworkRequestController.b.validResponseStatus(code)&&void 0===error&&void 0!==response&&JSONValidator.a.validateJSON(INIT_SCHEMA,response)){if(executeOnSuccess(),this.configuration=response,console.debug("Initialization Success Response:"+JSON.stringify(response)),this.updateDefaultUIComponents(response.ui_components),void 0!==response.new_mobile_js?this.updateJavascript(response):(this.initializeNativeControllers(response),AdProgressTracking.a.checkStoredData()),void 0!==response.open_measurement){let omInfo=response.open_measurement;HYPRInitListener.initializeOMSDK(omInfo.omsdk_url,omInfo.partner_name,omInfo.api_version)}}else this.initialized=!1,console.error(`Initialization Failed Response: ${body} code ${code} error: ${error}`),HYPRInitListener.initializationFailed(""+code)}javascriptUpgradeFailed(error){this.initializeNativeControllers(this.configuration)}initializeNativeControllers(response){this.initialized=!0;const placementsString=JSON.stringify(response.placements);HYPRErrorController.setErrorConfiguration(response.error_reporting_endpoint,response.error_severity_level),HYPRInitListener.setSharingEndpoint(response.sharing_endpoint),HYPRInitListener.setCompletionEndpoint(response.completion_endpoint),HYPRInitListener.setDurationUpdateEndpoint(response.duration_update_endpoint),Object(sdk_globals.createEventController)(response),HYPRInitListener.initializationSuccessWithPlacements(placementsString,version()),this.preloadController.setEventController(HYPREventController),this.preloadController.handleAdsToPreloadResponse(response.ads_to_preload),this.preloadController.handleUIComponentsToPreloadResponse(response.ui_components)}updateJavascript(response){let newMobileJSTimeout=8;void 0!==response.new_mobile_js.timeout&&(newMobileJSTimeout=response.new_mobile_js.timeout),HYPRInitListener.updateJavascript(response.new_mobile_js.url,response.new_mobile_js.version,newMobileJSTimeout)}isInitialized(){return this.initialized}allowsInitialization(){return"object"!=typeof HYPRPresentationController||!HYPRPresentationController.isPresentationLocked()}requestInitializationAllowed(params){HYPRInitListener.initializationIsAllowed(this.allowsInitialization(),JSON.stringify(params))}getConfiguration(){return this.configuration}updateDefaultUIComponents(uiComponents){void 0!==uiComponents&&"object"==typeof JSON.parse(JSON.stringify(uiComponents))&&Placement.Placement.setDefaultUIComponents(uiComponents)}}const PersistentIdKey="persistent_id",OptedOutKey="ad_id_opted_out",SKAdNetworkItemsKey="SKAdNetworkItems",ResetUserDataKey="reset_user_data",MobileJSVersionDataKey="mobile_js_version",DeviceTypeKey="device_type";globalThis.InitializationController=InitializationController_InitializationController},function(module,exports,__webpack_require__){const util=__webpack_require__(6),buildOptions=__webpack_require__(6).buildOptions,xmlNode=__webpack_require__(23);"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,util.nameRegexp);!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const defaultOptions={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,arrayMode:!1,trimValues:!0,cdataTagName:!1,cdataPositionChar:"\\c",tagValueProcessor:function(a,tagName){return a},attrValueProcessor:function(a,attrName){return a},stopNodes:[]};exports.defaultOptions=defaultOptions;const props=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","ignoreNameSpace","allowBooleanAttributes","parseNodeValue","parseAttributeValue","arrayMode","trimValues","cdataTagName","cdataPositionChar","tagValueProcessor","attrValueProcessor","parseTrueNumberOnly","stopNodes"];function processTagValue(tagName,val,options){return val&&(options.trimValues&&(val=val.trim()),val=parseValue(val=options.tagValueProcessor(val,tagName),options.parseNodeValue,options.parseTrueNumberOnly)),val}function resolveNameSpace(tagname,options){if(options.ignoreNameSpace){const tags=tagname.split(":"),prefix="/"===tagname.charAt(0)?"/":"";if("xmlns"===tags[0])return"";2===tags.length&&(tagname=prefix+tags[1])}return tagname}function parseValue(val,shouldParse,parseTrueNumberOnly){if(shouldParse&&"string"==typeof val){let parsed;return""===val.trim()||isNaN(val)?parsed="true"===val||"false"!==val&&val:(-1!==val.indexOf("0x")?parsed=Number.parseInt(val,16):-1!==val.indexOf(".")?(parsed=Number.parseFloat(val),val=val.replace(/\.?0+$/,"")):parsed=Number.parseInt(val,10),parseTrueNumberOnly&&(parsed=String(parsed)===val?parsed:val)),parsed}return util.isExist(val)?val:""}exports.props=props;const attrsRegx=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])(.*?)\\3)?","g");function buildAttributesMap(attrStr,options){if(!options.ignoreAttributes&&"string"==typeof attrStr){attrStr=attrStr.replace(/\r?\n/g," ");const matches=util.getAllMatches(attrStr,attrsRegx),len=matches.length,attrs={};for(let i=0;i<len;i++){const attrName=resolveNameSpace(matches[i][1],options);attrName.length&&(void 0!==matches[i][4]?(options.trimValues&&(matches[i][4]=matches[i][4].trim()),matches[i][4]=options.attrValueProcessor(matches[i][4],attrName),attrs[options.attributeNamePrefix+attrName]=parseValue(matches[i][4],options.parseAttributeValue,options.parseTrueNumberOnly)):options.allowBooleanAttributes&&(attrs[options.attributeNamePrefix+attrName]=!0))}if(!Object.keys(attrs).length)return;if(options.attrNodeName){const attrCollection={};return attrCollection[options.attrNodeName]=attrs,attrCollection}return attrs}}function closingIndexForOpeningTag(data,i){let attrBoundary,tagExp="";for(let index=i;index<data.length;index++){let ch=data[index];if(attrBoundary)ch===attrBoundary&&(attrBoundary="");else if('"'===ch||"'"===ch)attrBoundary=ch;else{if(">"===ch)return{data:tagExp,index:index};"\t"===ch&&(ch=" ")}tagExp+=ch}}function findClosingIndex(xmlData,str,i,errMsg){const closingIndex=xmlData.indexOf(str,i);if(-1===closingIndex)throw new Error(errMsg);return closingIndex+str.length-1}exports.getTraversalObj=function(xmlData,options){xmlData=xmlData.replace(/(\r\n)|\n/," "),options=buildOptions(options,defaultOptions,props);const xmlObj=new xmlNode("!xml");let currentNode=xmlObj,textData="";for(let i=0;i<xmlData.length;i++){if("<"===xmlData[i])if("/"===xmlData[i+1]){const closeIndex=findClosingIndex(xmlData,">",i,"Closing Tag is not closed.");let tagName=xmlData.substring(i+2,closeIndex).trim();if(options.ignoreNameSpace){const colonIndex=tagName.indexOf(":");-1!==colonIndex&&(tagName=tagName.substr(colonIndex+1))}currentNode&&(currentNode.val?currentNode.val=util.getValue(currentNode.val)+""+processTagValue(tagName,textData,options):currentNode.val=processTagValue(tagName,textData,options)),options.stopNodes.length&&options.stopNodes.includes(currentNode.tagname)&&(currentNode.child=[],null==currentNode.attrsMap&&(currentNode.attrsMap={}),currentNode.val=xmlData.substr(currentNode.startIndex+1,i-currentNode.startIndex-1)),currentNode=currentNode.parent,textData="",i=closeIndex}else if("?"===xmlData[i+1])i=findClosingIndex(xmlData,"?>",i,"Pi Tag is not closed.");else if("!--"===xmlData.substr(i+1,3))i=findClosingIndex(xmlData,"--\x3e",i,"Comment is not closed.");else if("!D"===xmlData.substr(i+1,2)){const closeIndex=findClosingIndex(xmlData,">",i,"DOCTYPE is not closed.");i=xmlData.substring(i,closeIndex).indexOf("[")>=0?xmlData.indexOf("]>",i)+1:closeIndex}else if("!["===xmlData.substr(i+1,2)){const closeIndex=findClosingIndex(xmlData,"]]>",i,"CDATA is not closed.")-2,tagExp=xmlData.substring(i+9,closeIndex);if(textData&&(currentNode.val=util.getValue(currentNode.val)+""+processTagValue(currentNode.tagname,textData,options),textData=""),options.cdataTagName){const childNode=new xmlNode(options.cdataTagName,currentNode,tagExp);currentNode.addChild(childNode),currentNode.val=util.getValue(currentNode.val)+options.cdataPositionChar,tagExp&&(childNode.val=tagExp)}else currentNode.val=(currentNode.val||"")+(tagExp||"");i=closeIndex+2}else{const result=closingIndexForOpeningTag(xmlData,i+1);let tagExp=result.data;const closeIndex=result.index,separatorIndex=tagExp.indexOf(" ");let tagName=tagExp;if(-1!==separatorIndex&&(tagName=tagExp.substr(0,separatorIndex).trimRight(),tagExp=tagExp.substr(separatorIndex+1)),options.ignoreNameSpace){const colonIndex=tagName.indexOf(":");-1!==colonIndex&&(tagName=tagName.substr(colonIndex+1))}if(currentNode&&textData&&"!xml"!==currentNode.tagname&&(currentNode.val=util.getValue(currentNode.val)+""+processTagValue(currentNode.tagname,textData,options)),tagExp.length>0&&tagExp.lastIndexOf("/")===tagExp.length-1){"/"===tagName[tagName.length-1]?(tagName=tagName.substr(0,tagName.length-1),tagExp=tagName):tagExp=tagExp.substr(0,tagExp.length-1);const childNode=new xmlNode(tagName,currentNode,"");tagName!==tagExp&&(childNode.attrsMap=buildAttributesMap(tagExp,options)),currentNode.addChild(childNode)}else{const childNode=new xmlNode(tagName,currentNode);options.stopNodes.length&&options.stopNodes.includes(childNode.tagname)&&(childNode.startIndex=closeIndex),tagName!==tagExp&&(childNode.attrsMap=buildAttributesMap(tagExp,options)),currentNode.addChild(childNode),currentNode=childNode}textData="",i=closeIndex}else textData+=xmlData[i]}return xmlObj}},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,"a",(function(){return AdProgressTracking}));var _src_HyprErrorFactory__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),_src_sdk_globals__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0);class AdProgressTracking{constructor(viewingID,distributorID,userID,offerType){const params=[viewingID,distributorID,userID,offerType];for(let param of params)if("string"!=typeof param||0===param.length){const error=_src_HyprErrorFactory__WEBPACK_IMPORTED_MODULE_0__.b.getAdProgressInvalidSetUpError(viewingID,distributorID,userID,offerType);return HYPREventController.onClientErrorEvent(error),void(this.data=void 0)}this.data={},this.data.ad_progress_state=_src_sdk_globals__WEBPACK_IMPORTED_MODULE_1__.AD_PROGRESS_STATE.IN_PROGRESS,this.data.ad_closed_action=_src_sdk_globals__WEBPACK_IMPORTED_MODULE_1__.AD_CLOSED_ACTION.UNKNOWN,this.data.viewing_id=viewingID,this.data.distributor_id=distributorID,this.data.user_id=userID,this.data.offer_type=offerType,this.send(),this.store()}send(){if(void 0!==this.data){this.data.ad_progress_timestamp=(new Date).toISOString();const dataString=JSON.stringify(this.data),callback=AdProgressTracking.generateEventCallbackFunction(dataString);HYPREventController.sendAdProgressTracking(dataString,callback)}}store(){let dataString="";if(void 0!==this.data){const dataCopy=JSON.parse(JSON.stringify(this.data));dataCopy.ad_closed_action=_src_sdk_globals__WEBPACK_IMPORTED_MODULE_1__.AD_CLOSED_ACTION.CRASHED,dataString=JSON.stringify(dataCopy),AdProgressTracking.updateStorage(dataString)}return dataString}static updateStorage(data=""){hyprMXLocalStorage.setItem(HYPR_AD_PROGRESS_STORAGE_KEY,data)}setProgressState(state,viewingID){if(this.dataUpdateError(state,viewingID))return;let adjustedState=state;void 0!==this.completionState&&state===_src_sdk_globals__WEBPACK_IMPORTED_MODULE_1__.AD_PROGRESS_STATE.IN_PROGRESS&&(adjustedState=this.completionState),this.data.ad_progress_state=adjustedState,this.send(),state===_src_sdk_globals__WEBPACK_IMPORTED_MODULE_1__.AD_PROGRESS_STATE.BACKGROUNDED?AdProgressTracking.updateStorage():this.store(),state!==_src_sdk_globals__WEBPACK_IMPORTED_MODULE_1__.AD_PROGRESS_STATE.COMPLETED&&state!==_src_sdk_globals__WEBPACK_IMPORTED_MODULE_1__.AD_PROGRESS_STATE.PAYOUT_COMPLETE||(this.completionState=state)}dataUpdateError(value,viewingID,forClose=!1){const errorDetails=" (value: "+value+", viewing ID: "+viewingID+")",errorCodeContextKey=forClose?"InvalidCloseContext":"InvalidProgressContext",errorCodeValueKey=forClose?"InvalidCloseValue":"InvalidProgressValue";let errorMessage=(forClose?"closed action":"progress state")+" error",errorCode=0;if(void 0===this.data?(errorMessage+=" -- session data undefined",errorCode=_src_HyprErrorFactory__WEBPACK_IMPORTED_MODULE_0__.a[errorCodeContextKey]):(viewingID!==this.data.viewing_id&&(errorMessage+=" -- session viewing ID ("+this.data.viewing_id+") does not match",errorCode=_src_HyprErrorFactory__WEBPACK_IMPORTED_MODULE_0__.a[errorCodeContextKey]),forClose&&void 0!==this.data&&this.data.ad_closed_action!==_src_sdk_globals__WEBPACK_IMPORTED_MODULE_1__.AD_CLOSED_ACTION.UNKNOWN&&(errorMessage+=" -- ad_closed_action already set: "+this.data.ad_closed_action,errorCode=_src_HyprErrorFactory__WEBPACK_IMPORTED_MODULE_0__.a[errorCodeContextKey])),(!forClose&&void 0===_src_sdk_globals__WEBPACK_IMPORTED_MODULE_1__.AD_PROGRESS_STATE[value]||forClose&&(void 0===_src_sdk_globals__WEBPACK_IMPORTED_MODULE_1__.AD_CLOSED_ACTION[value]||value===_src_sdk_globals__WEBPACK_IMPORTED_MODULE_1__.AD_CLOSED_ACTION.UNKNOWN))&&(errorMessage+=" -- invalid value",errorCode=_src_HyprErrorFactory__WEBPACK_IMPORTED_MODULE_0__.a[errorCodeValueKey]),errorCode>0){errorMessage+=errorDetails;const error=_src_HyprErrorFactory__WEBPACK_IMPORTED_MODULE_0__.b.getAdProgressUpdateError(errorMessage,errorCode);return HYPREventController.onClientErrorEvent(error),!0}return!1}setClosedAction(action,viewingID){this.dataUpdateError(action,viewingID,!0)||(this.data.ad_closed_action=action,this.send(),AdProgressTracking.updateStorage())}static checkStoredData(){const storedData=hyprMXLocalStorage.getItem(HYPR_AD_PROGRESS_STORAGE_KEY);if("string"==typeof storedData&&storedData.length>0){const callback=AdProgressTracking.generateEventCallbackFunction(storedData);HYPREventController.sendAdProgressTracking(storedData,callback),AdProgressTracking.updateStorage()}}static generateEventCallbackFunction(trackingInfo){return function(response,error){const debugMessage="sent ad progress tracking: "+trackingInfo+", response: "+JSON.stringify(response)+", error: "+error;return console.debug(debugMessage),debugMessage}}}const HYPR_AD_PROGRESS_STORAGE_KEY="HYPR_AD_PROGRESS_STORAGE_KEY"},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,"a",(function(){return DEFINITIONS}));const COLOR_PATTERN="^([A-Fa-f0-9]{8}|[A-Fa-f0-9]{6})$",DEFINITIONS={ads_to_preload:{type:"object",properties:{id:{type:"string"},directive:{type:"string"},vast_tag_url:{type:"string",format:"hypr_url"}},required:["id","directive"]},footer:{type:"object",properties:{images:{type:"array",items:{type:"object",properties:{image:{$ref:"#/definitions/image"}},required:["image"]}},text:{type:"string",description:"HTML formatted text to display"},background_color:{type:"string",description:"The footer background color",pattern:COLOR_PATTERN},min_height:{type:"integer",description:"The minimum height of the footer",minimum:0}},required:["text","background_color","min_height"]},font:{type:"object",properties:{font_name:{type:"string"},font_size:{type:"integer",minimum:0},font_color:{type:"string",pattern:COLOR_PATTERN},disabled_font_color:{type:"string",pattern:COLOR_PATTERN},text_alignment:{type:"string"},text_line_height:{type:"integer",minimum:0}}},image:{type:"object",properties:{portrait_url:{type:"string",format:"hypr_url",description:"The URL to retrieve the image."},height:{type:"integer",minimum:0,maximum:100,description:"The height of the image."},width:{type:"integer",minimum:0,maximum:100,description:"The width of the image"},link:{type:"string",format:"hypr_url",description:"The link to open when this image is clicked."}},required:["portrait_url","height","width"]},new_mobile_js:{type:"object",properties:{url:{type:"string",format:"hypr_url"},version:{type:"integer",minimum:0},timeout:{type:"integer",minimum:0}},required:["url","version"]},ad:{type:"object",properties:{id:{type:"string"},title:{type:"string"},description:{type:"string"},type:{type:"string"},catalog_frame_url:{type:"string",format:"hypr_url"},preload_player_url:{type:"string",format:"hypr_url"},skip_proscenium:{type:"boolean"},skip_thank_you_screen:{type:"boolean"},thank_you_url:{type:"string",format:"hypr_url"},show_close_button:{type:"boolean"},use_skoverlay:{type:"boolean"},mute_switch_ignored:{type:"boolean"},offer_initiation_timeout_in_seconds:{type:"integer"},webview_timeout:{type:"integer"},relay_promise_token:{type:"boolean"},allowed_orientation:{type:"string"},disable_svc_for_ios_sharings:{type:"boolean"},force_status_bar_display:{type:"boolean"},available_for:{type:"integer",minimum:0},navigation_rule:{type:"string"},cancellation_dialog:{type:"object",properties:{continue:{type:"string"},exit:{type:"string"},message:{type:"string"}},required:["continue","exit","message"]},reward_text:{type:"string"},reward_token:{type:"string"},reward_id:{type:"integer"},reward_quantity:{type:"integer"},step_count:{type:"integer",minimum:0},preloaded_mraid_page_ready_timeout:{type:"integer"},footer:{$ref:"#/definitions/footer"},web_traffic_header:{$ref:"#/definitions/web_traffic_header"},user_agent:{type:"string"}},required:["id","type","relay_promise_token","offer_initiation_timeout_in_seconds","catalog_frame_url"]},placement:{type:"object",properties:{id:{type:"integer"},type:{type:"string",enum:["rewarded","interstitial"]},name:{type:"string",minLength:1},inventory_check_url:{type:"string",format:"hypr_url"}},required:["id","type","name","inventory_check_url"]},required_information:{type:"array",items:{type:"object",properties:{Type:{type:"string",pattern:"^(Date|SingleSelectSet|NaturalNumber)$"},Name:{type:"string"},Title:{type:"string"},hint:{type:"string"},invalid_answer_message:{type:"string"},min:{type:"integer",minimum:0},max:{type:"integer"},answer_per_line_portrait:{type:"integer",minimum:0},answer_per_line_landscape:{type:"integer",minimum:0},answer_type:{type:"string"},style:{$ref:"#/definitions/style"},Values:{type:"array",minItems:1,items:{type:"object",properties:{Label:{type:"string"},Value:{type:"string"},style:{$ref:"#/definitions/style"},shape:{$ref:"#/definitions/shape"}}}}},required:["Type","Name","Title"]}},shape:{type:"object",properties:{diameter:{type:"integer",minimum:0},corner_radius:{type:"integer",minimum:0},unselected_color:{type:"string",pattern:COLOR_PATTERN},selected_color:{type:"string",pattern:COLOR_PATTERN}},required:["diameter","unselected_color","selected_color"]},style:{type:"object",properties:{background_color:{type:"string",pattern:COLOR_PATTERN},placeholder_color:{type:"string",pattern:COLOR_PATTERN},selected_background_color:{type:"string",pattern:COLOR_PATTERN},padding:{type:"array",minItems:2,maxItems:2,items:{type:"integer",minimum:0}},margin:{type:"array",minItems:2,maxItems:2,items:{type:"integer",minimum:0}},corner_radius:{type:"integer",minimum:0},shadow_elevation:{type:"integer",minimum:0},font:{$ref:"#/definitions/font"}}},tiled_image:{type:"object",properties:{url:{type:"string"},x:{type:"integer",minimum:0},y:{type:"integer",minimum:0},width:{type:"integer",minimum:0},height:{type:"integer",minimum:0},scale:{type:"integer"},tiled:{type:"integer",minimum:0,maximum:1,description:"Indicates if the image should be tiled.  0 = false, 1 = true."}},required:["url","x","y","width","height","scale"]},ui_components:{type:"object",properties:{user_info_form:{type:"object",properties:{background_color:{type:"string",pattern:COLOR_PATTERN},navigation:{type:"object",properties:{style:{type:"object",properties:{background_color:{type:"string",pattern:COLOR_PATTERN},font:{$ref:"#/definitions/font"}}},close_button_text:{type:"string"},submit_button_text:{type:"string"},submit_button_behavior:{type:"string",enum:["Always","Complete","Auto"]},submit_disabled_color:{type:"string",pattern:COLOR_PATTERN},close_button_image:{$ref:"#/definitions/image"}}},submit:{type:"object",properties:{style:{type:"object",properties:{background_color:{type:"string",pattern:COLOR_PATTERN},disabled_background_color:{type:"string",pattern:COLOR_PATTERN},padding:{type:"array",items:{type:"integer"}},margin:{type:"array",items:{type:"integer"}},corner_radius:{type:"integer"},shadow_elevation:{type:"integer"},font:{$ref:"#/definitions/font"}}},mode:{type:"string"},text:{type:"string"}}},headers:{type:"array",items:{type:"object",properties:{style:{type:"object",properties:{background_color:{type:"string",pattern:COLOR_PATTERN},padding:{type:"array",items:{type:"integer"}},margin:{type:"array",items:{type:"integer"}},font:{$ref:"#/definitions/font"}}},text:{type:"string"}}}},footer:{$ref:"#/definitions/footer"}}},no_ad:{type:"object",properties:{title:{type:"string"},title_color:{type:"string",pattern:COLOR_PATTERN},title_size:{type:"integer",minimum:0}}},web_loading_screen:{type:"object",properties:{background_color:{type:"string",pattern:COLOR_PATTERN},image:{type:"array",items:{type:"object",properties:{image:{$ref:"#/definitions/tiled_image"}}}}}}}},web_traffic_header:{type:"object",properties:{header_background_color:{type:"string",pattern:COLOR_PATTERN},title_text:{type:"string"},next_button_text:{type:"string"},finish_button_text:{type:"string"},countdown_text:{type:"string"},finish_button_minimum_size:{type:"object",properties:{width:{type:"integer",minimum:0},height:{type:"integer",minimum:0}},required:["width","height"]},next_button_minimum_size:{type:"object",properties:{width:{type:"integer",minimum:0},height:{type:"integer",minimum:0}},required:["width","height"]},next_button_color:{type:"string",pattern:COLOR_PATTERN},finish_button_color:{type:"string",pattern:COLOR_PATTERN},page_indicator_color:{type:"string",pattern:COLOR_PATTERN},page_indicator_color_selected:{type:"string",pattern:COLOR_PATTERN},minimum_header_height:{type:"integer",minimum:0},close_button_color:{type:"string",pattern:COLOR_PATTERN},chevron_color:{type:"string",pattern:COLOR_PATTERN},spinner_tint_color:{type:"string",pattern:COLOR_PATTERN},close_button:{type:"object",properties:{image:{type:"object",properties:{url:{type:"string",format:"hypr_url"},width:{type:"integer",minimum:0},height:{type:"integer",minimum:0}},required:["url","width","height"]}},required:["image"]}},required:["header_background_color","title_text","next_button_text","finish_button_text","countdown_text","finish_button_minimum_size","next_button_minimum_size","next_button_color","finish_button_color","page_indicator_color","page_indicator_color_selected","minimum_header_height","close_button_color","chevron_color"]},open_measurement:{type:"object",properties:{omsdk_url:{type:"string",format:"hypr_url"},partner_name:{type:"string",minLength:1},api_version:{type:"string",minLength:1}},required:["omsdk_url","partner_name","api_version"]}}},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"TimerController",(function(){return TimerController}));class TimerController{constructor(){this.timerMap=new Map,this.requestId=0}startTimer(timeout,callback){let uid=(this.requestId++).toString();return HYPRNativeTimer.startNativeTimer(uid,timeout,`HYPRTimerController.timeoutComplete('${uid}')`),this.timerMap[uid]=callback,uid}stopTimer(id){HYPRNativeTimer.stopTimer(id),this.timerMap[id]=null}timeoutComplete(id){console.debug("Timeout complete for id "+id);let callback=this.timerMap[id];this.timerMap[id]=null,"function"==typeof callback&&callback()}}globalThis.TimerController=TimerController},function(module,exports,__webpack_require__){const nodeToJson=__webpack_require__(22),xmlToNodeobj=__webpack_require__(10),x2xmlnode=__webpack_require__(10),buildOptions=__webpack_require__(6).buildOptions,validator=__webpack_require__(24);exports.parse=function(xmlData,options,validationOption){if(validationOption){!0===validationOption&&(validationOption={});const result=validator.validate(xmlData,validationOption);if(!0!==result)throw Error(result.err.msg)}options=buildOptions(options,x2xmlnode.defaultOptions,x2xmlnode.props);const traversableObj=xmlToNodeobj.getTraversalObj(xmlData,options);return nodeToJson.convertToJson(traversableObj,options)},exports.convertTonimn=__webpack_require__(25).convert2nimn,exports.getTraversalObj=xmlToNodeobj.getTraversalObj,exports.convertToJson=nodeToJson.convertToJson,exports.convertToJsonString=__webpack_require__(26).convertToJsonString,exports.validate=validator.validate,exports.j2xParser=__webpack_require__(27),exports.parseToNimn=function(xmlData,schema,options){return exports.convertTonimn(exports.getTraversalObj(xmlData,options),schema,options)}},function(module,exports){module.exports=function(){throw new Error("define cannot be used indirect")}},function(module,exports,__webpack_require__){module.exports=function o(i,n,l){function c(r,e){if(!n[r]){if(!i[r]){if(u)return u(r,!0);var a=new Error("Cannot find module '"+r+"'");throw a.code="MODULE_NOT_FOUND",a}var s=n[r]={exports:{}};i[r][0].call(s.exports,(function(e){return c(i[r][1][e]||e)}),s,s.exports,o,i,n,l)}return n[r].exports}for(var u=!1,e=0;e<l.length;e++)c(l[e]);return c}({1:[function(e,r,t){var a=r.exports=function(){this._cache={}};a.prototype.put=function(e,r){this._cache[e]=r},a.prototype.get=function(e){return this._cache[e]},a.prototype.del=function(e){delete this._cache[e]},a.prototype.clear=function(){this._cache={}}},{}],2:[function(e,r,t){var s=e("./error_classes").MissingRef;r.exports=function t(r,i,a){var n=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof i&&(a=i,i=void 0);var e=l(r).then((function(){var e=n._addSchema(r,void 0,i);return e.validate||function(o){try{return n._compile(o)}catch(e){if(e instanceof s)return function(e){var r=e.missingSchema;if(s(r))throw new Error("Schema "+r+" is loaded but "+e.missingRef+" cannot be resolved");var t=n._loadingSchemas[r];return t||(t=n._loadingSchemas[r]=n._opts.loadSchema(r)).then(a,a),t.then((function(e){if(!s(r))return l(e).then((function(){s(r)||n.addSchema(e,r,void 0,i)}))})).then((function(){return c(o)}));function a(){delete n._loadingSchemas[r]}function s(e){return n._refs[e]||n._schemas[e]}}(e);throw e}}(e)}));return a&&e.then((function(e){a(null,e)}),a),e;function l(e){var r=e.$schema;return r&&!n.getSchema(r)?t.call(n,{$ref:r},!0):Promise.resolve()}function c(o){try{return n._compile(o)}catch(e){if(e instanceof s)return function(e){var r=e.missingSchema;if(s(r))throw new Error("Schema "+r+" is loaded but "+e.missingRef+" cannot be resolved");var t=n._loadingSchemas[r];return t||(t=n._loadingSchemas[r]=n._opts.loadSchema(r)).then(a,a),t.then((function(e){if(!s(r))return l(e).then((function(){s(r)||n.addSchema(e,r,void 0,i)}))})).then((function(){return c(o)}));function a(){delete n._loadingSchemas[r]}function s(e){return n._refs[e]||n._schemas[e]}}(e);throw e}}}},{"./error_classes":3}],3:[function(e,r,t){var a=e("./resolve");function s(e,r,t){this.message=t||s.message(e,r),this.missingRef=a.url(e,r),this.missingSchema=a.normalizeId(a.fullPath(this.missingRef))}function o(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e}r.exports={Validation:o((function(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0})),MissingRef:o(s)},s.message=function(e,r){return"can't resolve reference "+r+" from id "+e}},{"./resolve":6}],4:[function(e,r,t){var a=e("./util"),o=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31],n=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i,s=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,l=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,c=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,u=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,h=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,d=/^(?:\/(?:[^~/]|~0|~1)*)*$/,f=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,p=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function m(e){return a.copy(m[e="full"==e?"full":"fast"])}function v(e){var r=e.match(o);if(!r)return!1;var t,a=+r[2],s=+r[3];return 1<=a&&a<=12&&1<=s&&s<=(2!=a||(t=+r[1])%4!=0||t%100==0&&t%400!=0?i[a]:29)}function g(e,r){var t=e.match(n);if(!t)return!1;var a=t[1],s=t[2],o=t[3];return(a<=23&&s<=59&&o<=59||23==a&&59==s&&60==o)&&(!r||t[5])}(r.exports=m).fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":c,url:u,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:s,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:w,uuid:h,"json-pointer":d,"json-pointer-uri-fragment":f,"relative-json-pointer":p},m.full={date:v,time:g,"date-time":function(e){var r=e.split(y);return 2==r.length&&v(r[0])&&g(r[1],!0)},uri:function(e){return P.test(e)&&l.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":c,url:u,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:function(e){return e.length<=255&&s.test(e)},ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:w,uuid:h,"json-pointer":d,"json-pointer-uri-fragment":f,"relative-json-pointer":p};var y=/t|\s/i,P=/\/|:/,E=/[^\\]\\Z/;function w(e){if(E.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}}},{"./util":10}],5:[function(e,r,t){var $=e("./resolve"),D=e("./util"),j=e("./error_classes"),l=e("fast-json-stable-stringify"),O=e("../dotjs/validate"),I=D.ucs2length,A=e("fast-deep-equal"),C=j.Validation;function k(e,r,t){for(var a=0;a<this._compilations.length;a++){var s=this._compilations[a];if(s.schema==e&&s.root==r&&s.baseId==t)return a}return-1}function L(e,r){return"var pattern"+e+" = new RegExp("+D.toQuotedString(r[e])+");"}function z(e){return"var default"+e+" = defaults["+e+"];"}function T(e,r){return void 0===r[e]?"":"var refVal"+e+" = refVal["+e+"];"}function N(e){return"var customRule"+e+" = customRules["+e+"];"}function q(e,r){if(!e.length)return"";for(var t="",a=0;a<e.length;a++)t+=r(a,e);return t}r.exports=function c(e,u,h,r){var d=this,f=this._opts,p=[void 0],m={},v=[],t={},g=[],a={},y=[],s=function(e,r,t){var a=k.call(this,e,r,t);return 0<=a?{index:a,compiling:!0}:{index:a=this._compilations.length,compiling:(this._compilations[a]={schema:e,root:r,baseId:t},!1)}}.call(this,e,u=u||{schema:e,refVal:p,refs:m},r),o=this._compilations[s.index];if(s.compiling)return o.callValidate=function e(){var r=o.validate,t=r.apply(this,arguments);return e.errors=r.errors,t};var P=this._formats,E=this.RULES;try{var i=w(e,u,h,r);o.validate=i;var n=o.callValidate;return n&&(n.schema=i.schema,n.errors=null,n.refs=i.refs,n.refVal=i.refVal,n.root=i.root,n.$async=i.$async,f.sourceCode&&(n.source=i.source)),i}finally{(function(e,r,t){var a=k.call(this,e,r,t);0<=a&&this._compilations.splice(a,1)}).call(this,e,u,r)}function w(e,r,t,a){var s=!r||r&&r.schema==e;if(r.schema!=u.schema)return c.call(d,e,r,t,a);var o,i=!0===e.$async,n=O({isTop:!0,schema:e,isRoot:s,baseId:a,root:r,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:j.MissingRef,RULES:E,validate:O,util:D,resolve:$,resolveRef:S,usePattern:F,useDefault:x,useCustomRule:R,opts:f,formats:P,logger:d.logger,self:d});n=q(p,T)+q(v,L)+q(g,z)+q(y,N)+n,f.processCode&&(n=f.processCode(n));try{o=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",n)(d,E,P,u,p,g,y,A,I,C),p[0]=o}catch(e){throw d.logger.error("Error compiling schema, function code:",n),e}return o.schema=e,o.errors=null,o.refs=m,o.refVal=p,o.root=s?o:r,i&&(o.$async=!0),!0===f.sourceCode&&(o.source={code:n,patterns:v,defaults:g}),o}function S(e,r,t){r=$.url(e,r);var a,s,o=m[r];if(void 0!==o)return _(a=p[o],s="refVal["+o+"]");if(!t&&u.refs){var i=u.refs[r];if(void 0!==i)return s=b(r,a=u.refVal[i]),_(a,s)}s=b(r);var n=$.call(d,w,u,r);if(void 0===n){var l=h&&h[r];l&&(n=$.inlineRef(l,f.inlineRefs)?l:c.call(d,l,u,h,e))}if(void 0!==n)return p[m[r]]=n,_(n,s);delete m[r]}function b(e,r){var t=p.length;return p[t]=r,"refVal"+(m[e]=t)}function _(e,r){return"object"==typeof e||"boolean"==typeof e?{code:r,schema:e,inline:!0}:{code:r,$async:e&&!!e.$async}}function F(e){var r=t[e];return void 0===r&&(r=t[e]=v.length,v[r]=e),"pattern"+r}function x(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return D.toQuotedString(e);case"object":if(null===e)return"null";var r=l(e),t=a[r];return void 0===t&&(t=a[r]=g.length,g[t]=e),"default"+t}}function R(e,r,t,a){var s=e.definition.validateSchema;if(s&&!1!==d._opts.validateSchema&&!s(r)){var i="keyword schema is invalid: "+d.errorsText(s.errors);if("log"!=d._opts.validateSchema)throw new Error(i);d.logger.error(i)}var n,l=e.definition.compile,c=e.definition.inline,u=e.definition.macro;if(l)n=l.call(d,r,t,a);else if(u)n=u.call(d,r,t,a),!1!==f.validateSchema&&d.validateSchema(n,!0);else if(c)n=c.call(d,a,e.keyword,r,t);else if(!(n=e.definition.validate))return;if(void 0===n)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var h=y.length;return{code:"customRule"+h,validate:y[h]=n}}}},{"../dotjs/validate":37,"./error_classes":3,"./resolve":6,"./util":10,"fast-deep-equal":41,"fast-json-stable-stringify":42}],6:[function(e,r,t){var m=e("uri-js"),v=e("fast-deep-equal"),g=e("./util"),l=e("./schema_obj"),a=e("json-schema-traverse");function c(e,r,t){var a=this._refs[t];if("string"==typeof a){if(!this._refs[a])return c.call(this,e,r,a);a=this._refs[a]}if((a=a||this._schemas[t])instanceof l)return d(a.schema,this._opts.inlineRefs)?a.schema:a.validate||this._compile(a);var s,o,i,n=u.call(this,r,t);return n&&(s=n.schema,r=n.root,i=n.baseId),s instanceof l?o=s.validate||e.call(this,s.schema,r,void 0,i):void 0!==s&&(o=d(s,this._opts.inlineRefs)?s:e.call(this,s,r,void 0,i)),o}function u(e,r){var t=m.parse(r),a=f(t),s=y(this._getId(e.schema));if(0===Object.keys(e.schema).length||a!==s){var o=P(a),i=this._refs[o];if("string"==typeof i)return function(e,r,t){var a=u.call(this,e,r);if(a){var s=a.schema,o=a.baseId;e=a.root;var i=this._getId(s);return i&&(o=p(o,i)),n.call(this,t,o,s,e)}}.call(this,e,i,t);if(i instanceof l)i.validate||this._compile(i),e=i;else{if(!((i=this._schemas[o])instanceof l))return;if(i.validate||this._compile(i),o==P(r))return{schema:i,root:e,baseId:s};e=i}if(!e.schema)return;s=y(this._getId(e.schema))}return n.call(this,t,s,e.schema,e)}(r.exports=c).normalizeId=P,c.fullPath=y,c.url=p,c.ids=function(e){var r=P(this._getId(e)),h={"":r},d={"":y(r,!1)},f={},p=this;return a(e,{allKeys:!0},(function(e,r,t,a,s,o,i){if(""!==r){var n=p._getId(e),l=h[a],c=d[a]+"/"+s;if(void 0!==i&&(c+="/"+("number"==typeof i?i:g.escapeFragment(i))),"string"==typeof n){n=l=P(l?m.resolve(l,n):n);var u=p._refs[n];if("string"==typeof u&&(u=p._refs[u]),u&&u.schema){if(!v(e,u.schema))throw new Error('id "'+n+'" resolves to more than one schema')}else if(n!=P(c))if("#"==n[0]){if(f[n]&&!v(e,f[n]))throw new Error('id "'+n+'" resolves to more than one schema');f[n]=e}else p._refs[n]=c}h[r]=l,d[r]=c}})),f},c.inlineRef=d,c.schema=u;var h=g.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function n(e,r,t,a){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var s=e.fragment.split("/"),o=1;o<s.length;o++){var i=s[o];if(i){if(void 0===(t=t[i=g.unescapeFragment(i)]))break;var n;if(!h[i]&&((n=this._getId(t))&&(r=p(r,n)),t.$ref)){var l=p(r,t.$ref),c=u.call(this,a,l);c&&(t=c.schema,a=c.root,r=c.baseId)}}}return void 0!==t&&t!==a.schema?{schema:t,root:a,baseId:r}:void 0}}var i=g.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function d(e,r){return!1!==r&&(void 0===r||!0===r?function e(r){var t;if(Array.isArray(r)){for(var a=0;a<r.length;a++)if("object"==typeof(t=r[a])&&!e(t))return!1}else for(var s in r){if("$ref"==s)return!1;if("object"==typeof(t=r[s])&&!e(t))return!1}return!0}(e):r?function e(r){var t,a=0;if(Array.isArray(r)){for(var s=0;s<r.length;s++)if("object"==typeof(t=r[s])&&(a+=e(t)),a==1/0)return 1/0}else for(var o in r){if("$ref"==o)return 1/0;if(i[o])a++;else if("object"==typeof(t=r[o])&&(a+=e(t)+1),a==1/0)return 1/0}return a}(e)<=r:void 0)}function y(e,r){return!1!==r&&(e=P(e)),f(m.parse(e))}function f(e){return m.serialize(e).split("#")[0]+"#"}var s=/#\/?$/;function P(e){return e?e.replace(s,""):""}function p(e,r){return r=P(r),m.resolve(e,r)}},{"./schema_obj":8,"./util":10,"fast-deep-equal":41,"json-schema-traverse":43,"uri-js":44}],7:[function(e,r,t){var o=e("../dotjs"),i=e("./util").toHash;r.exports=function(){var a=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],s=["type","$comment"];return a.all=i(s),a.types=i(["number","integer","string","array","object","boolean","null"]),a.forEach((function(e){e.rules=e.rules.map((function(e){var r;if("object"==typeof e){var t=Object.keys(e)[0];r=e[t],e=t,r.forEach((function(e){s.push(e),a.all[e]=!0}))}return s.push(e),a.all[e]={keyword:e,code:o[e],implements:r}})),a.all.$comment={keyword:"$comment",code:o.$comment},e.type&&(a.types[e.type]=e)})),a.keywords=i(s.concat(["$schema","$id","id","$data","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),a.custom={},a}},{"../dotjs":26,"./util":10}],8:[function(e,r,t){var a=e("./util");r.exports=function(e){a.copy(e,this)}},{"./util":10}],9:[function(e,r,t){r.exports=function(e){for(var r,t=0,a=e.length,s=0;s<a;)t++,55296<=(r=e.charCodeAt(s++))&&r<=56319&&s<a&&56320==(64512&(r=e.charCodeAt(s)))&&s++;return t}},{}],10:[function(e,r,t){function o(e,r,t){var a=t?" !== ":" === ",s=t?" || ":" && ",o=t?"!":"",i=t?"":"!";switch(e){case"null":return r+a+"null";case"array":return o+"Array.isArray("+r+")";case"object":return"("+o+r+s+"typeof "+r+a+'"object"'+s+i+"Array.isArray("+r+"))";case"integer":return"(typeof "+r+a+'"number"'+s+i+"("+r+" % 1)"+s+r+a+r+")";default:return"typeof "+r+a+'"'+e+'"'}}r.exports={copy:function(e,r){for(var t in r=r||{},e)r[t]=e[t];return r},checkDataType:o,checkDataTypes:function(e,r){switch(e.length){case 1:return o(e[0],r,!0);default:var t="",a=n(e);for(var s in a.array&&a.object&&(t=a.null?"(":"(!"+r+" || ",t+="typeof "+r+' !== "object")',delete a.null,delete a.array,delete a.object),a.number&&delete a.integer,a)t+=(t?" && ":"")+o(s,r,!0);return t}},coerceToTypes:function(e,r){if(Array.isArray(r)){for(var t=[],a=0;a<r.length;a++){var s=r[a];(i[s]||"array"===e&&"array"===s)&&(t[t.length]=s)}if(t.length)return t}else{if(i[r])return[r];if("array"===e&&"array"===r)return["array"]}},toHash:n,getProperty:h,escapeQuotes:l,equal:e("fast-deep-equal"),ucs2length:e("./ucs2length"),varOccurences:function(e,r){var t=e.match(new RegExp(r+="[^0-9]","g"));return t?t.length:0},varReplace:function(e,r,t){return r+="([^0-9])",t=t.replace(/\$/g,"$$$$"),e.replace(new RegExp(r,"g"),t+"$1")},cleanUpCode:function(e){return e.replace(c,"").replace(u,"").replace(d,"if (!($1))")},finalCleanUpCode:function(e,r){var t=e.match(f);return t&&2==t.length&&(e=r?e.replace(m,"").replace(y,P):e.replace(p,"").replace(v,g)),(t=e.match(E))&&3===t.length?e.replace(w,""):e},schemaHasRules:function(e,r){if("boolean"==typeof e)return!e;for(var t in e)if(r[t])return!0},schemaHasRulesExcept:function(e,r,t){if("boolean"==typeof e)return!e&&"not"!=t;for(var a in e)if(a!=t&&r[a])return!0},toQuotedString:S,getPathExpr:function(e,r,t,a){return F(e,t?"'/' + "+r+(a?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):a?"'[' + "+r+" + ']'":"'[\\'' + "+r+" + '\\']'")},getPath:function(e,r,t){return F(e,S(t?"/"+x(r):h(r)))},getData:function(e,r,t){var a,s,o,i;if(""===e)return"rootData";if("/"==e[0]){if(!b.test(e))throw new Error("Invalid JSON-pointer: "+e);s=e,o="rootData"}else{if(!(i=e.match(_)))throw new Error("Invalid JSON-pointer: "+e);if(a=+i[1],"#"==(s=i[2])){if(r<=a)throw new Error("Cannot access property/index "+a+" levels up, current level is "+r);return t[r-a]}if(r<a)throw new Error("Cannot access data "+a+" levels up, current level is "+r);if(o="data"+(r-a||""),!s)return o}for(var n=o,l=s.split("/"),c=0;c<l.length;c++){var u=l[c];u&&(n+=" && "+(o+=h(R(u))))}return n},unescapeFragment:function(e){return R(decodeURIComponent(e))},unescapeJsonPointer:R,escapeFragment:function(e){return encodeURIComponent(x(e))},escapeJsonPointer:x};var i=n(["string","number","integer","boolean","null"]);function n(e){for(var r={},t=0;t<e.length;t++)r[e[t]]=!0;return r}var a=/^[a-z$_][a-z$_0-9]*$/i,s=/'|\\/g;function h(e){return"number"==typeof e?"["+e+"]":a.test(e)?"."+e:"['"+l(e)+"']"}function l(e){return e.replace(s,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}var c=/else\s*{\s*}/g,u=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,d=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g,f=/[^v.]errors/g,p=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,m=/var errors = 0;|var vErrors = null;/g,v="return errors === 0;",g="validate.errors = null; return true;",y=/if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/,P="return data;",E=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,w=/if \(rootData === undefined\) rootData = data;/;function S(e){return"'"+l(e)+"'"}var b=/^\/(?:[^~]|~0|~1)*$/,_=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function F(e,r){return'""'==e?r:(e+" + "+r).replace(/' \+ '/g,"")}function x(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function R(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}},{"./ucs2length":9,"fast-deep-equal":41}],11:[function(e,r,t){var l=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];r.exports=function(e,r){for(var t=0;t<r.length;t++){e=JSON.parse(JSON.stringify(e));var a,s=r[t].split("/"),o=e;for(a=1;a<s.length;a++)o=o[s[a]];for(a=0;a<l.length;a++){var i=l[a],n=o[i];n&&(o[i]={anyOf:[n,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]})}}return e}},{}],12:[function(e,r,t){r.exports=function(e,r,t){var a,s=" ",o=e.level,i=e.dataLevel,n=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,h="data"+(i||""),d=e.opts.$data&&n&&n.$data;d?(s+=" var schema"+o+" = "+e.util.getData(n.$data,i,e.dataPathArr)+"; ",a="schema"+o):a=n;var f="maximum"==r,p=f?"exclusiveMaximum":"exclusiveMinimum",m=e.schema[p],v=e.opts.$data&&m&&m.$data,g=f?"<":">",y=f?">":"<",P=void 0;if(v){var F,E=e.util.getData(m.$data,i,e.dataPathArr),w="exclusive"+o,S="exclType"+o,b="exclIsNumber"+o,_="' + "+(R="op"+o)+" + '";s+=" var schemaExcl"+o+" = "+E+"; ",P=p,(F=F||[]).push(s+=" var "+w+"; var "+S+" = typeof "+(E="schemaExcl"+o)+"; if ("+S+" != 'boolean' && "+S+" != 'undefined' && "+S+" != 'number') { "),s="",!1!==e.createErrors?(s+=" { keyword: '"+(P||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(s+=" , message: '"+p+" should be boolean' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var x=s;s=F.pop(),s+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+x+"]); ":" validate.errors = ["+x+"]; return false; ":" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } else if ( ",d&&(s+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),s+=" "+S+" == 'number' ? ( ("+w+" = "+a+" === undefined || "+E+" "+g+"= "+a+") ? "+h+" "+y+"= "+E+" : "+h+" "+y+" "+a+" ) : ( ("+w+" = "+E+" === true) ? "+h+" "+y+"= "+a+" : "+h+" "+y+" "+a+" ) || "+h+" !== "+h+") { var op"+o+" = "+w+" ? '"+g+"' : '"+g+"='; ",void 0===n&&(c=e.errSchemaPath+"/"+(P=p),a=E,d=v)}else if(_=g,(b="number"==typeof m)&&d){var R="'"+_+"'";s+=" if ( ",d&&(s+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),s+=" ( "+a+" === undefined || "+m+" "+g+"= "+a+" ? "+h+" "+y+"= "+m+" : "+h+" "+y+" "+a+" ) || "+h+" !== "+h+") { "}else b&&void 0===n?(w=!0,c=e.errSchemaPath+"/"+(P=p),a=m,y+="="):(b&&(a=Math[f?"min":"max"](m,n)),m===(!b||a)?(w=!0,c=e.errSchemaPath+"/"+(P=p),y+="="):(w=!1,_+="=")),R="'"+_+"'",s+=" if ( ",d&&(s+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),s+=" "+h+" "+y+" "+a+" || "+h+" !== "+h+") { ";return P=P||r,(F=F||[]).push(s),s="",!1!==e.createErrors?(s+=" { keyword: '"+(P||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { comparison: "+R+", limit: "+a+", exclusive: "+w+" } ",!1!==e.opts.messages&&(s+=" , message: 'should be "+_+" ",s+=d?"' + "+a:a+"'"),e.opts.verbose&&(s+=" , schema:  ",s+=d?"validate.schema"+l:""+n,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ",x=s,s=F.pop(),s+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+x+"]); ":" validate.errors = ["+x+"]; return false; ":" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } ",u&&(s+=" else { "),s}},{}],13:[function(e,r,t){r.exports=function(e,r,t){var a,s=" ",o=e.level,i=e.dataLevel,n=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,h="data"+(i||""),d=e.opts.$data&&n&&n.$data;d?(s+=" var schema"+o+" = "+e.util.getData(n.$data,i,e.dataPathArr)+"; ",a="schema"+o):a=n,s+="if ( ",d&&(s+=" ("+a+" !== undefined && typeof "+a+" != 'number') || ");var f=r,p=p||[];p.push(s+=" "+h+".length "+("maxItems"==r?">":"<")+" "+a+") { "),s="",!1!==e.createErrors?(s+=" { keyword: '"+(f||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+a+" } ",!1!==e.opts.messages&&(s+=" , message: 'should NOT have ",s+="maxItems"==r?"more":"fewer",s+=" than ",s+=d?"' + "+a+" + '":""+n,s+=" items' "),e.opts.verbose&&(s+=" , schema:  ",s+=d?"validate.schema"+l:""+n,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var m=s;return s=p.pop(),s+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",u&&(s+=" else { "),s}},{}],14:[function(e,r,t){r.exports=function(e,r,t){var a,s=" ",o=e.level,i=e.dataLevel,n=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,h="data"+(i||""),d=e.opts.$data&&n&&n.$data;d?(s+=" var schema"+o+" = "+e.util.getData(n.$data,i,e.dataPathArr)+"; ",a="schema"+o):a=n,s+="if ( ",d&&(s+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),s+=!1===e.opts.unicode?" "+h+".length ":" ucs2length("+h+") ";var f=r,p=p||[];p.push(s+=" "+("maxLength"==r?">":"<")+" "+a+") { "),s="",!1!==e.createErrors?(s+=" { keyword: '"+(f||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+a+" } ",!1!==e.opts.messages&&(s+=" , message: 'should NOT be ",s+="maxLength"==r?"longer":"shorter",s+=" than ",s+=d?"' + "+a+" + '":""+n,s+=" characters' "),e.opts.verbose&&(s+=" , schema:  ",s+=d?"validate.schema"+l:""+n,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var m=s;return s=p.pop(),s+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",u&&(s+=" else { "),s}},{}],15:[function(e,r,t){r.exports=function(e,r,t){var a,s=" ",o=e.level,i=e.dataLevel,n=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,h="data"+(i||""),d=e.opts.$data&&n&&n.$data;d?(s+=" var schema"+o+" = "+e.util.getData(n.$data,i,e.dataPathArr)+"; ",a="schema"+o):a=n,s+="if ( ",d&&(s+=" ("+a+" !== undefined && typeof "+a+" != 'number') || ");var f=r,p=p||[];p.push(s+=" Object.keys("+h+").length "+("maxProperties"==r?">":"<")+" "+a+") { "),s="",!1!==e.createErrors?(s+=" { keyword: '"+(f||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+a+" } ",!1!==e.opts.messages&&(s+=" , message: 'should NOT have ",s+="maxProperties"==r?"more":"fewer",s+=" than ",s+=d?"' + "+a+" + '":""+n,s+=" properties' "),e.opts.verbose&&(s+=" , schema:  ",s+=d?"validate.schema"+l:""+n,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var m=s;return s=p.pop(),s+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",u&&(s+=" else { "),s}},{}],16:[function(e,r,t){r.exports=function(e,r,t){var a=" ",s=e.schema[r],o=e.schemaPath+e.util.getProperty(r),i=e.errSchemaPath+"/"+r,n=!e.opts.allErrors,l=e.util.copy(e),c="";l.level++;var u="valid"+l.level,h=l.baseId,d=!0,f=s;if(f)for(var p,m=-1,v=f.length-1;m<v;)p=f[m+=1],e.util.schemaHasRules(p,e.RULES.all)&&(d=!1,l.schema=p,l.schemaPath=o+"["+m+"]",l.errSchemaPath=i+"/"+m,a+="  "+e.validate(l)+" ",l.baseId=h,n&&(a+=" if ("+u+") { ",c+="}"));return n&&(a+=d?" if (true) { ":" "+c.slice(0,-1)+" "),e.util.cleanUpCode(a)}},{}],17:[function(e,r,t){r.exports=function(r,e,t){var a=" ",s=r.level,o=r.dataLevel,i=r.schema[e],n=r.schemaPath+r.util.getProperty(e),l=r.errSchemaPath+"/"+e,c=!r.opts.allErrors,u="data"+(o||""),h="valid"+s,d="errs__"+s,f=r.util.copy(r),p="";f.level++;var m="valid"+f.level;if(i.every((function(e){return r.util.schemaHasRules(e,r.RULES.all)}))){var v=f.baseId;a+=" var "+d+" = errors; var "+h+" = false;  ";var g=r.compositeRule;r.compositeRule=f.compositeRule=!0;var y=i;if(y)for(var P,E=-1,w=y.length-1;E<w;)P=y[E+=1],f.schema=P,f.schemaPath=n+"["+E+"]",f.errSchemaPath=l+"/"+E,a+="  "+r.validate(f)+" ",f.baseId=v,a+=" "+h+" = "+h+" || "+m+"; if (!"+h+") { ",p+="}";r.compositeRule=f.compositeRule=g,a+=" "+p+" if (!"+h+") {   var err =   ",!1!==r.createErrors?(a+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(l)+" , params: {} ",!1!==r.opts.messages&&(a+=" , message: 'should match some schema in anyOf' "),r.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!r.compositeRule&&c&&(a+=r.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),a+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",r.opts.allErrors&&(a+=" } "),a=r.util.cleanUpCode(a)}else c&&(a+=" if (true) { ");return a}},{}],18:[function(e,r,t){r.exports=function(e,r,t){var a=" ",s=e.errSchemaPath+"/"+r,o=e.util.toQuotedString(e.schema[r]);return!0===e.opts.$comment?a+=" console.log("+o+");":"function"==typeof e.opts.$comment&&(a+=" self._opts.$comment("+o+", "+e.util.toQuotedString(s)+", validate.root.schema);"),a}},{}],19:[function(e,r,t){r.exports=function(e,r,t){var a=" ",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(o||""),h="valid"+s,d=e.opts.$data&&i&&i.$data;d&&(a+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; "),d||(a+=" var schema"+s+" = validate.schema"+n+";");var f=f||[];f.push(a+="var "+h+" = equal("+u+", schema"+s+"); if (!"+h+") {   "),a="",!1!==e.createErrors?(a+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { allowedValue: schema"+s+" } ",!1!==e.opts.messages&&(a+=" , message: 'should be equal to constant' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var p=a;return a=f.pop(),a+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" }",c&&(a+=" else { "),a}},{}],20:[function(e,r,t){r.exports=function(e,r,t){var a=" ",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(o||""),h="valid"+s,d="errs__"+s,f=e.util.copy(e);f.level++;var p="valid"+f.level,m="i"+s,v=f.dataLevel=e.dataLevel+1,g="data"+v,y=e.baseId,P=e.util.schemaHasRules(i,e.RULES.all);if(a+="var "+d+" = errors;var "+h+";",P){var E=e.compositeRule;e.compositeRule=f.compositeRule=!0,f.schema=i,f.schemaPath=n,f.errSchemaPath=l,a+=" var "+p+" = false; for (var "+m+" = 0; "+m+" < "+u+".length; "+m+"++) { ",f.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);var w=u+"["+m+"]";f.dataPathArr[v]=m;var S=e.validate(f);f.baseId=y,e.util.varOccurences(S,g)<2?a+=" "+e.util.varReplace(S,g,w)+" ":a+=" var "+g+" = "+w+"; "+S+" ",a+=" if ("+p+") break; }  ",e.compositeRule=f.compositeRule=E,a+="  if (!"+p+") {"}else a+=" if ("+u+".length == 0) {";var b=b||[];b.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: 'should contain a valid item' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var _=a;return a=b.pop(),a+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+_+"]); ":" validate.errors = ["+_+"]; return false; ":" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { ",P&&(a+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } "),e.opts.allErrors&&(a+=" } "),e.util.cleanUpCode(a)}},{}],21:[function(e,r,t){r.exports=function(e,r,t){var a,s,o=" ",i=e.level,n=e.dataLevel,l=e.schema[r],c=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,h=!e.opts.allErrors,d="data"+(n||""),f="valid"+i,p="errs__"+i,m=e.opts.$data&&l&&l.$data;m?(o+=" var schema"+i+" = "+e.util.getData(l.$data,n,e.dataPathArr)+"; ",s="schema"+i):s=l;var v,g,y,P,E,w=this,S="definition"+i,b=w.definition,_="";if(m&&b.$data){var F=b.validateSchema;o+=" var "+S+" = RULES.custom['"+r+"'].definition; var "+(E="keywordValidate"+i)+" = "+S+".validate;"}else{if(!(P=e.useCustomRule(w,l,e.schema,e)))return;s="validate.schema"+c,E=P.code,v=b.compile,g=b.inline,y=b.macro}var x=E+".errors",R="i"+i,$="ruleErr"+i,D=b.async;if(D&&!e.async)throw new Error("async keyword in sync schema");if(g||y||(o+=x+" = null;"),o+="var "+p+" = errors;var "+f+";",m&&b.$data&&(_+="}",o+=" if ("+s+" === undefined) { "+f+" = true; } else { ",F&&(_+="}",o+=" "+f+" = "+S+".validateSchema("+s+"); if ("+f+") { ")),g)o+=b.statements?" "+P.validate+" ":" "+f+" = "+P.validate+"; ";else if(y){var j=e.util.copy(e);_="",j.level++;var O="valid"+j.level;j.schema=P.validate,j.schemaPath="";var I=e.compositeRule;e.compositeRule=j.compositeRule=!0;var A=e.validate(j).replace(/validate\.schema/g,E);e.compositeRule=j.compositeRule=I,o+=" "+A}else{(z=z||[]).push(o),o="",o+="  "+E+".call( ",o+=e.opts.passContext?"this":"self",o+=v||!1===b.schema?" , "+d+" ":" , "+s+" , "+d+" , validate.schema"+e.schemaPath+" ",o+=" , (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);var C=n?"data"+(n-1||""):"parentData",k=n?e.dataPathArr[n]:"parentDataProperty",L=o+=" , "+C+" , "+k+" , rootData )  ";o=z.pop(),!1===b.errors?(o+=" "+f+" = ",D&&(o+="await "),o+=L+"; "):o+=D?" var "+(x="customErrors"+i)+" = null; try { "+f+" = await "+L+"; } catch (e) { "+f+" = false; if (e instanceof ValidationError) "+x+" = e.errors; else throw e; } ":" "+x+" = null; "+f+" = "+L+"; "}if(b.modifying&&(o+=" if ("+C+") "+d+" = "+C+"["+k+"];"),o+=""+_,b.valid)h&&(o+=" if (true) { ");else{var z;o+=" if ( ",void 0===b.valid?(o+=" !",o+=y?""+O:""+f):o+=" "+!b.valid+" ",a=w.keyword,(z=z||[]).push(o+=") { "),(z=z||[]).push(o=""),o="",!1!==e.createErrors?(o+=" { keyword: '"+(a||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { keyword: '"+w.keyword+"' } ",!1!==e.opts.messages&&(o+=" , message: 'should pass \""+w.keyword+"\" keyword validation' "),e.opts.verbose&&(o+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";var T=o;o=z.pop();var N=o+=!e.compositeRule&&h?e.async?" throw new ValidationError(["+T+"]); ":" validate.errors = ["+T+"]; return false; ":" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";o=z.pop(),g?b.errors?"full"!=b.errors&&(o+="  for (var "+R+"="+p+"; "+R+"<errors; "+R+"++) { var "+$+" = vErrors["+R+"]; if ("+$+".dataPath === undefined) "+$+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+$+".schemaPath === undefined) { "+$+'.schemaPath = "'+u+'"; } ',e.opts.verbose&&(o+=" "+$+".schema = "+s+"; "+$+".data = "+d+"; "),o+=" } "):!1===b.errors?o+=" "+N+" ":(o+=" if ("+p+" == errors) { "+N+" } else {  for (var "+R+"="+p+"; "+R+"<errors; "+R+"++) { var "+$+" = vErrors["+R+"]; if ("+$+".dataPath === undefined) "+$+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+$+".schemaPath === undefined) { "+$+'.schemaPath = "'+u+'"; } ',e.opts.verbose&&(o+=" "+$+".schema = "+s+"; "+$+".data = "+d+"; "),o+=" } } "):y?(o+="   var err =   ",!1!==e.createErrors?(o+=" { keyword: '"+(a||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { keyword: '"+w.keyword+"' } ",!1!==e.opts.messages&&(o+=" , message: 'should pass \""+w.keyword+"\" keyword validation' "),e.opts.verbose&&(o+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ",o+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&h&&(o+=e.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; ")):!1===b.errors?o+=" "+N+" ":(o+=" if (Array.isArray("+x+")) { if (vErrors === null) vErrors = "+x+"; else vErrors = vErrors.concat("+x+"); errors = vErrors.length;  for (var "+R+"="+p+"; "+R+"<errors; "+R+"++) { var "+$+" = vErrors["+R+"]; if ("+$+".dataPath === undefined) "+$+".dataPath = (dataPath || '') + "+e.errorPath+";  "+$+'.schemaPath = "'+u+'";  ',e.opts.verbose&&(o+=" "+$+".schema = "+s+"; "+$+".data = "+d+"; "),o+=" } } else { "+N+" } "),o+=" } ",h&&(o+=" else { ")}return o}},{}],22:[function(e,r,t){r.exports=function(e,r,t){var a=" ",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(o||""),h="errs__"+s,d=e.util.copy(e),f="";d.level++;var p="valid"+d.level,m={},v={},g=e.opts.ownProperties;for(w in i){var y=i[w],P=Array.isArray(y)?v:m;P[w]=y}a+="var "+h+" = errors;";var E=e.errorPath;for(var w in a+="var missing"+s+";",v)if((P=v[w]).length){if(a+=" if ( "+u+e.util.getProperty(w)+" !== undefined ",g&&(a+=" && Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(w)+"') "),c){a+=" && ( ";var S=P;if(S)for(var b=-1,_=S.length-1;b<_;)j=S[b+=1],b&&(a+=" || "),a+=" ( ( "+(C=u+(A=e.util.getProperty(j)))+" === undefined ",g&&(a+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(j)+"') "),a+=") && (missing"+s+" = "+e.util.toQuotedString(e.opts.jsonPointers?j:A)+") ) ";a+=")) {  ";var F="missing"+s,x="' + "+F+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(E,F,!0):E+" + "+F);var R=R||[];R.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(w)+"', missingProperty: '"+x+"', depsCount: "+P.length+", deps: '"+e.util.escapeQuotes(1==P.length?P[0]:P.join(", "))+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should have ",a+=1==P.length?"property "+e.util.escapeQuotes(P[0]):"properties "+e.util.escapeQuotes(P.join(", ")),a+=" when property "+e.util.escapeQuotes(w)+" is present' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var $=a;a=R.pop(),a+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+$+"]); ":" validate.errors = ["+$+"]; return false; ":" var err = "+$+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{a+=" ) { ";var D=P;if(D)for(var j,O=-1,I=D.length-1;O<I;){j=D[O+=1];var A=e.util.getProperty(j),C=(x=e.util.escapeQuotes(j),u+A);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(E,j,e.opts.jsonPointers)),a+=" if ( "+C+" === undefined ",g&&(a+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(j)+"') "),a+=") {  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(w)+"', missingProperty: '"+x+"', depsCount: "+P.length+", deps: '"+e.util.escapeQuotes(1==P.length?P[0]:P.join(", "))+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should have ",a+=1==P.length?"property "+e.util.escapeQuotes(P[0]):"properties "+e.util.escapeQuotes(P.join(", ")),a+=" when property "+e.util.escapeQuotes(w)+" is present' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}a+=" }   ",c&&(f+="}",a+=" else { ")}e.errorPath=E;var k=d.baseId;for(var w in m)e.util.schemaHasRules(y=m[w],e.RULES.all)&&(a+=" "+p+" = true; if ( "+u+e.util.getProperty(w)+" !== undefined ",g&&(a+=" && Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(w)+"') "),a+=") { ",d.schema=y,d.schemaPath=n+e.util.getProperty(w),d.errSchemaPath=l+"/"+e.util.escapeFragment(w),a+="  "+e.validate(d)+" ",d.baseId=k,a+=" }  ",c&&(a+=" if ("+p+") { ",f+="}"));return c&&(a+="   "+f+" if ("+h+" == errors) {"),e.util.cleanUpCode(a)}},{}],23:[function(e,r,t){r.exports=function(e,r,t){var a=" ",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(o||""),h="valid"+s,d=e.opts.$data&&i&&i.$data;d&&(a+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ");var f="i"+s,p="schema"+s;d||(a+=" var "+p+" = validate.schema"+n+";"),a+="var "+h+";",d&&(a+=" if (schema"+s+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+s+")) "+h+" = false; else {"),a+=h+" = false;for (var "+f+"=0; "+f+"<"+p+".length; "+f+"++) if (equal("+u+", "+p+"["+f+"])) { "+h+" = true; break; }",d&&(a+="  }  ");var m=m||[];m.push(a+=" if (!"+h+") {   "),a="",!1!==e.createErrors?(a+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { allowedValues: schema"+s+" } ",!1!==e.opts.messages&&(a+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var v=a;return a=m.pop(),a+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+v+"]); ":" validate.errors = ["+v+"]; return false; ":" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" }",c&&(a+=" else { "),a}},{}],24:[function(e,r,t){r.exports=function(e,r,t){var a=" ",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(o||"");if(!1===e.opts.format)return c&&(a+=" if (true) { "),a;var h,d=e.opts.$data&&i&&i.$data;d?(a+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",h="schema"+s):h=i;var f=e.opts.unknownFormats,p=Array.isArray(f);if(d)a+=" var "+(m="format"+s)+" = formats["+h+"]; var "+(v="isObject"+s)+" = typeof "+m+" == 'object' && !("+m+" instanceof RegExp) && "+m+".validate; var "+(g="formatType"+s)+" = "+v+" && "+m+".type || 'string'; if ("+v+") { ",e.async&&(a+=" var async"+s+" = "+m+".async; "),a+=" "+m+" = "+m+".validate; } if (  ",d&&(a+=" ("+h+" !== undefined && typeof "+h+" != 'string') || "),a+=" (","ignore"!=f&&(a+=" ("+h+" && !"+m+" ",p&&(a+=" && self._opts.unknownFormats.indexOf("+h+") == -1 "),a+=") || "),a+=" ("+m+" && "+g+" == '"+t+"' && !(typeof "+m+" == 'function' ? ",a+=e.async?" (async"+s+" ? await "+m+"("+u+") : "+m+"("+u+")) ":" "+m+"("+u+") ",a+=" : "+m+".test("+u+"))))) {";else{var m;if(!(m=e.formats[i])){if("ignore"==f)return e.logger.warn('unknown format "'+i+'" ignored in schema at path "'+e.errSchemaPath+'"'),c&&(a+=" if (true) { "),a;if(p&&0<=f.indexOf(i))return c&&(a+=" if (true) { "),a;throw new Error('unknown format "'+i+'" is used in schema at path "'+e.errSchemaPath+'"')}var v,g=(v="object"==typeof m&&!(m instanceof RegExp)&&m.validate)&&m.type||"string";if(v){var y=!0===m.async;m=m.validate}if(g!=t)return c&&(a+=" if (true) { "),a;if(y){if(!e.async)throw new Error("async format in sync schema");a+=" if (!(await "+(P="formats"+e.util.getProperty(i)+".validate")+"("+u+"))) { "}else{a+=" if (! ";var P="formats"+e.util.getProperty(i);v&&(P+=".validate"),a+="function"==typeof m?" "+P+"("+u+") ":" "+P+".test("+u+") ",a+=") { "}}var E=E||[];E.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { format:  ",a+=d?""+h:""+e.util.toQuotedString(i),a+="  } ",!1!==e.opts.messages&&(a+=" , message: 'should match format \"",a+=d?"' + "+h+" + '":""+e.util.escapeQuotes(i),a+="\"' "),e.opts.verbose&&(a+=" , schema:  ",a+=d?"validate.schema"+n:""+e.util.toQuotedString(i),a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var w=a;return a=E.pop(),a+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+w+"]); ":" validate.errors = ["+w+"]; return false; ":" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",c&&(a+=" else { "),a}},{}],25:[function(e,r,t){r.exports=function(e,r,t){var a=" ",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(o||""),h="valid"+s,d="errs__"+s,f=e.util.copy(e);f.level++;var p="valid"+f.level,m=e.schema.then,v=e.schema.else,g=void 0!==m&&e.util.schemaHasRules(m,e.RULES.all),y=void 0!==v&&e.util.schemaHasRules(v,e.RULES.all),P=f.baseId;if(g||y){var E;f.createErrors=!1,f.schema=i,f.schemaPath=n,f.errSchemaPath=l,a+=" var "+d+" = errors; var "+h+" = true;  ";var w=e.compositeRule;e.compositeRule=f.compositeRule=!0,a+="  "+e.validate(f)+" ",f.baseId=P,f.createErrors=!0,a+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }  ",e.compositeRule=f.compositeRule=w,g?(a+=" if ("+p+") {  ",f.schema=e.schema.then,f.schemaPath=e.schemaPath+".then",f.errSchemaPath=e.errSchemaPath+"/then",a+="  "+e.validate(f)+" ",f.baseId=P,a+=" "+h+" = "+p+"; ",g&&y?a+=" var "+(E="ifClause"+s)+" = 'then'; ":E="'then'",a+=" } ",y&&(a+=" else { ")):a+=" if (!"+p+") { ",y&&(f.schema=e.schema.else,f.schemaPath=e.schemaPath+".else",f.errSchemaPath=e.errSchemaPath+"/else",a+="  "+e.validate(f)+" ",f.baseId=P,a+=" "+h+" = "+p+"; ",g&&y?a+=" var "+(E="ifClause"+s)+" = 'else'; ":E="'else'",a+=" } "),a+=" if (!"+h+") {   var err =   ",!1!==e.createErrors?(a+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { failingKeyword: "+E+" } ",!1!==e.opts.messages&&(a+=" , message: 'should match \"' + "+E+" + '\" schema' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(a+=e.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),a+=" }   ",c&&(a+=" else { "),a=e.util.cleanUpCode(a)}else c&&(a+=" if (true) { ");return a}},{}],26:[function(e,r,t){r.exports={$ref:e("./ref"),allOf:e("./allOf"),anyOf:e("./anyOf"),$comment:e("./comment"),const:e("./const"),contains:e("./contains"),dependencies:e("./dependencies"),enum:e("./enum"),format:e("./format"),if:e("./if"),items:e("./items"),maximum:e("./_limit"),minimum:e("./_limit"),maxItems:e("./_limitItems"),minItems:e("./_limitItems"),maxLength:e("./_limitLength"),minLength:e("./_limitLength"),maxProperties:e("./_limitProperties"),minProperties:e("./_limitProperties"),multipleOf:e("./multipleOf"),not:e("./not"),oneOf:e("./oneOf"),pattern:e("./pattern"),properties:e("./properties"),propertyNames:e("./propertyNames"),required:e("./required"),uniqueItems:e("./uniqueItems"),validate:e("./validate")}},{"./_limit":12,"./_limitItems":13,"./_limitLength":14,"./_limitProperties":15,"./allOf":16,"./anyOf":17,"./comment":18,"./const":19,"./contains":20,"./dependencies":22,"./enum":23,"./format":24,"./if":25,"./items":27,"./multipleOf":28,"./not":29,"./oneOf":30,"./pattern":31,"./properties":32,"./propertyNames":33,"./ref":34,"./required":35,"./uniqueItems":36,"./validate":37}],27:[function(e,r,t){r.exports=function(e,r,t){var a=" ",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(o||""),h="valid"+s,d="errs__"+s,f=e.util.copy(e),p="";f.level++;var m="valid"+f.level,v="i"+s,g=f.dataLevel=e.dataLevel+1,y="data"+g,P=e.baseId;if(a+="var "+d+" = errors;var "+h+";",Array.isArray(i)){var E=e.schema.additionalItems;if(!1===E){a+=" "+h+" = "+u+".length <= "+i.length+"; ";var w=l;l=e.errSchemaPath+"/additionalItems";var S=S||[];S.push(a+="  if (!"+h+") {   "),a="",!1!==e.createErrors?(a+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+i.length+" } ",!1!==e.opts.messages&&(a+=" , message: 'should NOT have more than "+i.length+" items' "),e.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var b=a;a=S.pop(),a+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+b+"]); ":" validate.errors = ["+b+"]; return false; ":" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",l=w,c&&(p+="}",a+=" else { ")}var _=i;if(_)for(var F,x=-1,R=_.length-1;x<R;)if(F=_[x+=1],e.util.schemaHasRules(F,e.RULES.all)){a+=" "+m+" = true; if ("+u+".length > "+x+") { ";var $=u+"["+x+"]";f.schema=F,f.schemaPath=n+"["+x+"]",f.errSchemaPath=l+"/"+x,f.errorPath=e.util.getPathExpr(e.errorPath,x,e.opts.jsonPointers,!0),f.dataPathArr[g]=x;var D=e.validate(f);f.baseId=P,e.util.varOccurences(D,y)<2?a+=" "+e.util.varReplace(D,y,$)+" ":a+=" var "+y+" = "+$+"; "+D+" ",a+=" }  ",c&&(a+=" if ("+m+") { ",p+="}")}"object"==typeof E&&e.util.schemaHasRules(E,e.RULES.all)&&(f.schema=E,f.schemaPath=e.schemaPath+".additionalItems",f.errSchemaPath=e.errSchemaPath+"/additionalItems",a+=" "+m+" = true; if ("+u+".length > "+i.length+") {  for (var "+v+" = "+i.length+"; "+v+" < "+u+".length; "+v+"++) { ",f.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0),$=u+"["+v+"]",f.dataPathArr[g]=v,D=e.validate(f),f.baseId=P,e.util.varOccurences(D,y)<2?a+=" "+e.util.varReplace(D,y,$)+" ":a+=" var "+y+" = "+$+"; "+D+" ",c&&(a+=" if (!"+m+") break; "),a+=" } }  ",c&&(a+=" if ("+m+") { ",p+="}"))}else e.util.schemaHasRules(i,e.RULES.all)&&(f.schema=i,f.schemaPath=n,f.errSchemaPath=l,a+="  for (var "+v+" = 0; "+v+" < "+u+".length; "+v+"++) { ",f.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0),$=u+"["+v+"]",f.dataPathArr[g]=v,D=e.validate(f),f.baseId=P,e.util.varOccurences(D,y)<2?a+=" "+e.util.varReplace(D,y,$)+" ":a+=" var "+y+" = "+$+"; "+D+" ",c&&(a+=" if (!"+m+") break; "),a+=" }");return c&&(a+=" "+p+" if ("+d+" == errors) {"),e.util.cleanUpCode(a)}},{}],28:[function(e,r,t){r.exports=function(e,r,t){var a,s=" ",o=e.level,i=e.dataLevel,n=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,h="data"+(i||""),d=e.opts.$data&&n&&n.$data;d?(s+=" var schema"+o+" = "+e.util.getData(n.$data,i,e.dataPathArr)+"; ",a="schema"+o):a=n,s+="var division"+o+";if (",d&&(s+=" "+a+" !== undefined && ( typeof "+a+" != 'number' || "),s+=" (division"+o+" = "+h+" / "+a+", ",s+=e.opts.multipleOfPrecision?" Math.abs(Math.round(division"+o+") - division"+o+") > 1e-"+e.opts.multipleOfPrecision+" ":" division"+o+" !== parseInt(division"+o+") ",s+=" ) ",d&&(s+="  )  ");var f=f||[];f.push(s+=" ) {   "),s="",!1!==e.createErrors?(s+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { multipleOf: "+a+" } ",!1!==e.opts.messages&&(s+=" , message: 'should be multiple of ",s+=d?"' + "+a:a+"'"),e.opts.verbose&&(s+=" , schema:  ",s+=d?"validate.schema"+l:""+n,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var p=s;return s=f.pop(),s+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",u&&(s+=" else { "),s}},{}],29:[function(e,r,t){r.exports=function(e,r,t){var a=" ",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(o||""),h="errs__"+s,d=e.util.copy(e);d.level++;var f="valid"+d.level;if(e.util.schemaHasRules(i,e.RULES.all)){d.schema=i,d.schemaPath=n,d.errSchemaPath=l,a+=" var "+h+" = errors;  ";var p,m=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.createErrors=!1,d.opts.allErrors&&(p=d.opts.allErrors,d.opts.allErrors=!1),a+=" "+e.validate(d)+" ",d.createErrors=!0,p&&(d.opts.allErrors=p),e.compositeRule=d.compositeRule=m;var v=v||[];v.push(a+=" if ("+f+") {   "),a="",!1!==e.createErrors?(a+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: 'should NOT be valid' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var g=a;a=v.pop(),a+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+g+"]); ":" validate.errors = ["+g+"]; return false; ":" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",e.opts.allErrors&&(a+=" } ")}else a+="  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: 'should NOT be valid' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(a+=" if (false) { ");return a}},{}],30:[function(e,r,t){r.exports=function(e,r,t){var a=" ",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(o||""),h="valid"+s,d="errs__"+s,f=e.util.copy(e),p="";f.level++;var m="valid"+f.level,v=f.baseId,g="prevValid"+s,y="passingSchemas"+s;a+="var "+d+" = errors , "+g+" = false , "+h+" = false , "+y+" = null; ";var P=e.compositeRule;e.compositeRule=f.compositeRule=!0;var E=i;if(E)for(var w,S=-1,b=E.length-1;S<b;)w=E[S+=1],e.util.schemaHasRules(w,e.RULES.all)?(f.schema=w,f.schemaPath=n+"["+S+"]",f.errSchemaPath=l+"/"+S,a+="  "+e.validate(f)+" ",f.baseId=v):a+=" var "+m+" = true; ",S&&(a+=" if ("+m+" && "+g+") { "+h+" = false; "+y+" = ["+y+", "+S+"]; } else { ",p+="}"),a+=" if ("+m+") { "+h+" = "+g+" = true; "+y+" = "+S+"; }";return e.compositeRule=f.compositeRule=P,a+=p+"if (!"+h+") {   var err =   ",!1!==e.createErrors?(a+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { passingSchemas: "+y+" } ",!1!==e.opts.messages&&(a+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(a+=e.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),a+="} else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }",e.opts.allErrors&&(a+=" } "),a}},{}],31:[function(e,r,t){r.exports=function(e,r,t){var a,s=" ",o=e.level,i=e.dataLevel,n=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,h="data"+(i||""),d=e.opts.$data&&n&&n.$data;d?(s+=" var schema"+o+" = "+e.util.getData(n.$data,i,e.dataPathArr)+"; ",a="schema"+o):a=n;var f=d?"(new RegExp("+a+"))":e.usePattern(n);s+="if ( ",d&&(s+=" ("+a+" !== undefined && typeof "+a+" != 'string') || ");var p=p||[];p.push(s+=" !"+f+".test("+h+") ) {   "),s="",!1!==e.createErrors?(s+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { pattern:  ",s+=d?""+a:""+e.util.toQuotedString(n),s+="  } ",!1!==e.opts.messages&&(s+=" , message: 'should match pattern \"",s+=d?"' + "+a+" + '":""+e.util.escapeQuotes(n),s+="\"' "),e.opts.verbose&&(s+=" , schema:  ",s+=d?"validate.schema"+l:""+e.util.toQuotedString(n),s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var m=s;return s=p.pop(),s+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",u&&(s+=" else { "),s}},{}],32:[function(e,r,t){r.exports=function(e,r,t){var a=" ",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(o||""),h="errs__"+s,d=e.util.copy(e),f="";d.level++;var p="valid"+d.level,m="key"+s,v="idx"+s,g=d.dataLevel=e.dataLevel+1,y="data"+g,P="dataProperties"+s,E=Object.keys(i||{}),w=e.schema.patternProperties||{},S=Object.keys(w),b=e.schema.additionalProperties,_=E.length||S.length,F=!1===b,x="object"==typeof b&&Object.keys(b).length,R=e.opts.removeAdditional,$=F||x||R,D=e.opts.ownProperties,j=e.baseId,O=e.schema.required;if(O&&(!e.opts.$data||!O.$data)&&O.length<e.opts.loopRequired)var I=e.util.toHash(O);if(a+="var "+h+" = errors;var "+p+" = true;",D&&(a+=" var "+P+" = undefined;"),$){if(a+=D?" "+P+" = "+P+" || Object.keys("+u+"); for (var "+v+"=0; "+v+"<"+P+".length; "+v+"++) { var "+m+" = "+P+"["+v+"]; ":" for (var "+m+" in "+u+") { ",_){if(a+=" var isAdditional"+s+" = !(false ",E.length)if(8<E.length)a+=" || validate.schema"+n+".hasOwnProperty("+m+") ";else{var A=E;if(A)for(var C=-1,k=A.length-1;C<k;)J=A[C+=1],a+=" || "+m+" == "+e.util.toQuotedString(J)+" "}if(S.length){var L=S;if(L)for(var z=-1,T=L.length-1;z<T;)ae=L[z+=1],a+=" || "+e.usePattern(ae)+".test("+m+") "}a+=" ); if (isAdditional"+s+") { "}if("all"==R)a+=" delete "+u+"["+m+"]; ";else{var N=e.errorPath,q="' + "+m+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers)),F)if(R)a+=" delete "+u+"["+m+"]; ";else{var U=l;l=e.errSchemaPath+"/additionalProperties",(ee=ee||[]).push(a+=" "+p+" = false; "),a="",!1!==e.createErrors?(a+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { additionalProperty: '"+q+"' } ",!1!==e.opts.messages&&(a+=" , message: '",a+=e.opts._errorDataPathProperty?"is an invalid additional property":"should NOT have additional properties",a+="' "),e.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var Q=a;a=ee.pop(),a+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+Q+"]); ":" validate.errors = ["+Q+"]; return false; ":" var err = "+Q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=U,c&&(a+=" break; ")}else if(x)if("failing"==R){a+=" var "+h+" = errors;  ";var V=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.schema=b,d.schemaPath=e.schemaPath+".additionalProperties",d.errSchemaPath=e.errSchemaPath+"/additionalProperties",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);var H=u+"["+m+"]";d.dataPathArr[g]=m;var M=e.validate(d);d.baseId=j,e.util.varOccurences(M,y)<2?a+=" "+e.util.varReplace(M,y,H)+" ":a+=" var "+y+" = "+H+"; "+M+" ",a+=" if (!"+p+") { errors = "+h+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+u+"["+m+"]; }  ",e.compositeRule=d.compositeRule=V}else d.schema=b,d.schemaPath=e.schemaPath+".additionalProperties",d.errSchemaPath=e.errSchemaPath+"/additionalProperties",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers),H=u+"["+m+"]",d.dataPathArr[g]=m,M=e.validate(d),d.baseId=j,e.util.varOccurences(M,y)<2?a+=" "+e.util.varReplace(M,y,H)+" ":a+=" var "+y+" = "+H+"; "+M+" ",c&&(a+=" if (!"+p+") break; ");e.errorPath=N}_&&(a+=" } "),a+=" }  ",c&&(a+=" if ("+p+") { ",f+="}")}var B=e.opts.useDefaults&&!e.compositeRule;if(E.length){var K=E;if(K)for(var J,Z=-1,G=K.length-1;Z<G;){if(J=K[Z+=1],e.util.schemaHasRules(ie=i[J],e.RULES.all)){var Y=e.util.getProperty(J),W=(H=u+Y,B&&void 0!==ie.default);if(d.schema=ie,d.schemaPath=n+Y,d.errSchemaPath=l+"/"+e.util.escapeFragment(J),d.errorPath=e.util.getPath(e.errorPath,J,e.opts.jsonPointers),d.dataPathArr[g]=e.util.toQuotedString(J),M=e.validate(d),d.baseId=j,e.util.varOccurences(M,y)<2){M=e.util.varReplace(M,y,H);var X=H}else X=y,a+=" var "+y+" = "+H+"; ";if(W)a+=" "+M+" ";else{if(I&&I[J]){a+=" if ( "+X+" === undefined ",D&&(a+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(J)+"') "),a+=") { "+p+" = false; ",N=e.errorPath,U=l;var ee,re=e.util.escapeQuotes(J);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(N,J,e.opts.jsonPointers)),l=e.errSchemaPath+"/required",(ee=ee||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+re+"' } ",!1!==e.opts.messages&&(a+=" , message: '",a+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+re+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",Q=a,a=ee.pop(),a+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+Q+"]); ":" validate.errors = ["+Q+"]; return false; ":" var err = "+Q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=U,e.errorPath=N,a+=" } else { "}else c?(a+=" if ( "+X+" === undefined ",D&&(a+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(J)+"') "),a+=") { "+p+" = true; } else { "):(a+=" if ("+X+" !== undefined ",D&&(a+=" &&   Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(J)+"') "),a+=" ) { ");a+=" "+M+" } "}}c&&(a+=" if ("+p+") { ",f+="}")}}if(S.length){var te=S;if(te)for(var ae,se=-1,oe=te.length-1;se<oe;){var ie;ae=te[se+=1],e.util.schemaHasRules(ie=w[ae],e.RULES.all)&&(d.schema=ie,d.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(ae),d.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(ae),a+=D?" "+P+" = "+P+" || Object.keys("+u+"); for (var "+v+"=0; "+v+"<"+P+".length; "+v+"++) { var "+m+" = "+P+"["+v+"]; ":" for (var "+m+" in "+u+") { ",a+=" if ("+e.usePattern(ae)+".test("+m+")) { ",d.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers),H=u+"["+m+"]",d.dataPathArr[g]=m,M=e.validate(d),d.baseId=j,e.util.varOccurences(M,y)<2?a+=" "+e.util.varReplace(M,y,H)+" ":a+=" var "+y+" = "+H+"; "+M+" ",c&&(a+=" if (!"+p+") break; "),a+=" } ",c&&(a+=" else "+p+" = true; "),a+=" }  ",c&&(a+=" if ("+p+") { ",f+="}"))}}return c&&(a+=" "+f+" if ("+h+" == errors) {"),e.util.cleanUpCode(a)}},{}],33:[function(e,r,t){r.exports=function(e,r,t){var a=" ",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(o||""),h="errs__"+s,d=e.util.copy(e);d.level++;var f="valid"+d.level;if(a+="var "+h+" = errors;",e.util.schemaHasRules(i,e.RULES.all)){d.schema=i,d.schemaPath=n,d.errSchemaPath=l;var p="key"+s,m="idx"+s,v="i"+s,g="' + "+p+" + '",y="data"+(d.dataLevel=e.dataLevel+1),P="dataProperties"+s,E=e.opts.ownProperties,w=e.baseId;E&&(a+=" var "+P+" = undefined; "),a+=E?" "+P+" = "+P+" || Object.keys("+u+"); for (var "+m+"=0; "+m+"<"+P+".length; "+m+"++) { var "+p+" = "+P+"["+m+"]; ":" for (var "+p+" in "+u+") { ",a+=" var startErrs"+s+" = errors; ";var S=p,b=e.compositeRule;e.compositeRule=d.compositeRule=!0;var _=e.validate(d);d.baseId=w,e.util.varOccurences(_,y)<2?a+=" "+e.util.varReplace(_,y,S)+" ":a+=" var "+y+" = "+S+"; "+_+" ",e.compositeRule=d.compositeRule=b,a+=" if (!"+f+") { for (var "+v+"=startErrs"+s+"; "+v+"<errors; "+v+"++) { vErrors["+v+"].propertyName = "+p+"; }   var err =   ",!1!==e.createErrors?(a+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { propertyName: '"+g+"' } ",!1!==e.opts.messages&&(a+=" , message: 'property name \\'"+g+"\\' is invalid' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(a+=e.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),c&&(a+=" break; "),a+=" } }"}return c&&(a+="  if ("+h+" == errors) {"),e.util.cleanUpCode(a)}},{}],34:[function(e,r,t){r.exports=function(e,r,t){var a,s,o=" ",i=e.dataLevel,n=e.schema[r],l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(i||""),h="valid"+e.level;if("#"==n||"#/"==n)e.isRoot?(a=e.async,s="validate"):(a=!0===e.root.schema.$async,s="root.refVal[0]");else{var d=e.resolveRef(e.baseId,n,e.isRoot);if(void 0===d){var f=e.MissingRefError.message(e.baseId,n);if("fail"==e.opts.missingRefs){e.logger.error(f),(g=g||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { ref: '"+e.util.escapeQuotes(n)+"' } ",!1!==e.opts.messages&&(o+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(n)+"' "),e.opts.verbose&&(o+=" , schema: "+e.util.toQuotedString(n)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),o+=" } "):o+=" {} ";var p=o;o=g.pop(),o+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(o+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,n,f);e.logger.warn(f),c&&(o+=" if (true) { ")}}else if(d.inline){var m=e.util.copy(e);m.level++;var v="valid"+m.level;m.schema=d.schema,m.schemaPath="",m.errSchemaPath=n,o+=" "+e.validate(m).replace(/validate\.schema/g,d.code)+" ",c&&(o+=" if ("+v+") { ")}else a=!0===d.$async||e.async&&!1!==d.$async,s=d.code}if(s){var g;(g=g||[]).push(o),o="",o+=e.opts.passContext?" "+s+".call(this, ":" "+s+"( ",o+=" "+u+", (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);var y=o+=" , "+(i?"data"+(i-1||""):"parentData")+" , "+(i?e.dataPathArr[i]:"parentDataProperty")+", rootData)  ";if(o=g.pop(),a){if(!e.async)throw new Error("async schema referenced by sync schema");c&&(o+=" var "+h+"; "),o+=" try { await "+y+"; ",c&&(o+=" "+h+" = true; "),o+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",c&&(o+=" "+h+" = false; "),o+=" } ",c&&(o+=" if ("+h+") { ")}else o+=" if (!"+y+") { if (vErrors === null) vErrors = "+s+".errors; else vErrors = vErrors.concat("+s+".errors); errors = vErrors.length; } ",c&&(o+=" else { ")}return o}},{}],35:[function(e,r,t){r.exports=function(e,r,t){var a=" ",s=e.level,o=e.dataLevel,i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(o||""),h="valid"+s,d=e.opts.$data&&i&&i.$data;d&&(a+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ");var f="schema"+s;if(!d)if(i.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var p=[],m=i;if(m)for(var v,g=-1,y=m.length-1;g<y;){v=m[g+=1];var P=e.schema.properties[v];P&&e.util.schemaHasRules(P,e.RULES.all)||(p[p.length]=v)}}else p=i;if(d||p.length){var E=e.errorPath,w=d||e.opts.loopRequired<=p.length,S=e.opts.ownProperties;if(c)if(a+=" var missing"+s+"; ",w){d||(a+=" var "+f+" = validate.schema"+n+"; ");var b="' + "+(D="schema"+s+"["+(x="i"+s)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(E,D,e.opts.jsonPointers)),a+=" var "+h+" = true; ",d&&(a+=" if (schema"+s+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+s+")) "+h+" = false; else {"),a+=" for (var "+x+" = 0; "+x+" < "+f+".length; "+x+"++) { "+h+" = "+u+"["+f+"["+x+"]] !== undefined ",S&&(a+=" &&   Object.prototype.hasOwnProperty.call("+u+", "+f+"["+x+"]) "),a+="; if (!"+h+") break; } ",d&&(a+="  }  "),($=$||[]).push(a+="  if (!"+h+") {   "),a="",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+b+"' } ",!1!==e.opts.messages&&(a+=" , message: '",a+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+b+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var _=a;a=$.pop(),a+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+_+"]); ":" validate.errors = ["+_+"]; return false; ":" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { "}else{a+=" if ( ";var $,F=p;if(F)for(var x=-1,R=F.length-1;x<R;)O=F[x+=1],x&&(a+=" || "),a+=" ( ( "+(k=u+(C=e.util.getProperty(O)))+" === undefined ",S&&(a+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(O)+"') "),a+=") && (missing"+s+" = "+e.util.toQuotedString(e.opts.jsonPointers?O:C)+") ) ";a+=") {  ",b="' + "+(D="missing"+s)+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(E,D,!0):E+" + "+D),($=$||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+b+"' } ",!1!==e.opts.messages&&(a+=" , message: '",a+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+b+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",_=a,a=$.pop(),a+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+_+"]); ":" validate.errors = ["+_+"]; return false; ":" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { "}else if(w){var D;d||(a+=" var "+f+" = validate.schema"+n+"; "),b="' + "+(D="schema"+s+"["+(x="i"+s)+"]")+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(E,D,e.opts.jsonPointers)),d&&(a+=" if ("+f+" && !Array.isArray("+f+")) {  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+b+"' } ",!1!==e.opts.messages&&(a+=" , message: '",a+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+b+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+f+" !== undefined) { "),a+=" for (var "+x+" = 0; "+x+" < "+f+".length; "+x+"++) { if ("+u+"["+f+"["+x+"]] === undefined ",S&&(a+=" || ! Object.prototype.hasOwnProperty.call("+u+", "+f+"["+x+"]) "),a+=") {  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+b+"' } ",!1!==e.opts.messages&&(a+=" , message: '",a+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+b+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",d&&(a+="  }  ")}else{var j=p;if(j)for(var O,I=-1,A=j.length-1;I<A;){O=j[I+=1];var C=e.util.getProperty(O),k=(b=e.util.escapeQuotes(O),u+C);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(E,O,e.opts.jsonPointers)),a+=" if ( "+k+" === undefined ",S&&(a+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(O)+"') "),a+=") {  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+b+"' } ",!1!==e.opts.messages&&(a+=" , message: '",a+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+b+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=E}else c&&(a+=" if (true) {");return a}},{}],36:[function(e,r,t){r.exports=function(e,r,t){var a,s=" ",o=e.level,i=e.dataLevel,n=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,h="data"+(i||""),d="valid"+o,f=e.opts.$data&&n&&n.$data;if(f?(s+=" var schema"+o+" = "+e.util.getData(n.$data,i,e.dataPathArr)+"; ",a="schema"+o):a=n,(n||f)&&!1!==e.opts.uniqueItems){f&&(s+=" var "+d+"; if ("+a+" === false || "+a+" === undefined) "+d+" = true; else if (typeof "+a+" != 'boolean') "+d+" = false; else { "),s+=" var i = "+h+".length , "+d+" = true , j; if (i > 1) { ";var p=e.schema.items&&e.schema.items.type,m=Array.isArray(p);!p||"object"==p||"array"==p||m&&(0<=p.indexOf("object")||0<=p.indexOf("array"))?s+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+h+"[i], "+h+"[j])) { "+d+" = false; break outer; } } } ":(s+=" var itemIndices = {}, item; for (;i--;) { var item = "+h+"[i]; ",s+=" if ("+e.util["checkDataType"+(m?"s":"")](p,"item",!0)+") continue; ",m&&(s+=" if (typeof item == 'string') item = '\"' + item; "),s+=" if (typeof itemIndices[item] == 'number') { "+d+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "),s+=" } ",f&&(s+="  }  ");var v=v||[];v.push(s+=" if (!"+d+") {   "),s="",!1!==e.createErrors?(s+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(s+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(s+=" , schema:  ",s+=f?"validate.schema"+l:""+n,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var g=s;s=v.pop(),s+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+g+"]); ":" validate.errors = ["+g+"]; return false; ":" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } ",u&&(s+=" else { ")}else u&&(s+=" if (true) { ");return s}},{}],37:[function(e,r,t){r.exports=function(a,e,r){var t="",s=!0===a.schema.$async,o=a.util.schemaHasRulesExcept(a.schema,a.RULES.all,"$ref"),i=a.self._getId(a.schema);if(a.isTop&&(t+=" var validate = ",s&&(a.async=!0,t+="async "),t+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",i&&(a.opts.sourceCode||a.opts.processCode)&&(t+=" /*# sourceURL="+i+" */ ")),"boolean"==typeof a.schema||!o&&!a.schema.$ref){var n=a.level,l=a.dataLevel,c=a.schema[e="false schema"],u=a.schemaPath+a.util.getProperty(e),h=a.errSchemaPath+"/"+e,d=!a.opts.allErrors,f="data"+(l||""),p="valid"+n;if(!1===a.schema){a.isTop?d=!0:t+=" var "+p+" = false; ",(K=K||[]).push(t),t="",!1!==a.createErrors?(t+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(h)+" , params: {} ",!1!==a.opts.messages&&(t+=" , message: 'boolean schema is false' "),a.opts.verbose&&(t+=" , schema: false , parentSchema: validate.schema"+a.schemaPath+" , data: "+f+" "),t+=" } "):t+=" {} ";var m=t;t=K.pop(),t+=!a.compositeRule&&d?a.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else t+=a.isTop?s?" return data; ":" validate.errors = null; return true; ":" var "+p+" = true; ";return a.isTop&&(t+=" }; return validate; "),t}if(a.isTop){var v=a.isTop;n=a.level=0,l=a.dataLevel=0,f="data",a.rootId=a.resolve.fullPath(a.self._getId(a.root.schema)),a.baseId=a.baseId||a.rootId,delete a.isTop,a.dataPathArr=[void 0],t+=" var vErrors = null; ",t+=" var errors = 0;     ",t+=" if (rootData === undefined) rootData = data; "}else{if(n=a.level,f="data"+((l=a.dataLevel)||""),i&&(a.baseId=a.resolve.url(a.baseId,i)),s&&!a.async)throw new Error("async schema in sync schema");t+=" var errs_"+n+" = errors;"}p="valid"+n,d=!a.opts.allErrors;var g="",y="",P=a.schema.type,E=Array.isArray(P);if(E&&1==P.length&&(P=P[0],E=!1),a.schema.$ref&&o){if("fail"==a.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+a.errSchemaPath+'" (see option extendRefs)');!0!==a.opts.extendRefs&&(o=!1,a.logger.warn('$ref: keywords ignored in schema at path "'+a.errSchemaPath+'"'))}if(a.schema.$comment&&a.opts.$comment&&(t+=" "+a.RULES.all.$comment.code(a,"$comment")),P){if(a.opts.coerceTypes)var w=a.util.coerceToTypes(a.opts.coerceTypes,P);var S=a.RULES.types[P];if(w||E||!0===S||S&&!J(S)){if(u=a.schemaPath+".type",h=a.errSchemaPath+"/type",u=a.schemaPath+".type",h=a.errSchemaPath+"/type",t+=" if ("+a.util[E?"checkDataTypes":"checkDataType"](P,f,!0)+") { ",w){var b="dataType"+n,_="coerced"+n;t+=" var "+b+" = typeof "+f+"; ","array"==a.opts.coerceTypes&&(t+=" if ("+b+" == 'object' && Array.isArray("+f+")) "+b+" = 'array'; "),t+=" var "+_+" = undefined; ";var F="",x=w;if(x)for(var R,$=-1,D=x.length-1;$<D;)R=x[$+=1],$&&(t+=" if ("+_+" === undefined) { ",F+="}"),"array"==a.opts.coerceTypes&&"array"!=R&&(t+=" if ("+b+" == 'array' && "+f+".length == 1) { "+_+" = "+f+" = "+f+"[0]; "+b+" = typeof "+f+";  } "),"string"==R?t+=" if ("+b+" == 'number' || "+b+" == 'boolean') "+_+" = '' + "+f+"; else if ("+f+" === null) "+_+" = ''; ":"number"==R||"integer"==R?(t+=" if ("+b+" == 'boolean' || "+f+" === null || ("+b+" == 'string' && "+f+" && "+f+" == +"+f+" ","integer"==R&&(t+=" && !("+f+" % 1)"),t+=")) "+_+" = +"+f+"; "):"boolean"==R?t+=" if ("+f+" === 'false' || "+f+" === 0 || "+f+" === null) "+_+" = false; else if ("+f+" === 'true' || "+f+" === 1) "+_+" = true; ":"null"==R?t+=" if ("+f+" === '' || "+f+" === 0 || "+f+" === false) "+_+" = null; ":"array"==a.opts.coerceTypes&&"array"==R&&(t+=" if ("+b+" == 'string' || "+b+" == 'number' || "+b+" == 'boolean' || "+f+" == null) "+_+" = ["+f+"]; ");(K=K||[]).push(t+=" "+F+" if ("+_+" === undefined) {   "),t="",!1!==a.createErrors?(t+=" { keyword: 'type' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(h)+" , params: { type: '",t+=E?""+P.join(","):""+P,t+="' } ",!1!==a.opts.messages&&(t+=" , message: 'should be ",t+=E?""+P.join(","):""+P,t+="' "),a.opts.verbose&&(t+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+f+" "),t+=" } "):t+=" {} ",m=t,t=K.pop(),t+=!a.compositeRule&&d?a.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } else {  ";var j=l?"data"+(l-1||""):"parentData";t+=" "+f+" = "+_+"; ",l||(t+="if ("+j+" !== undefined)"),t+=" "+j+"["+(l?a.dataPathArr[l]:"parentDataProperty")+"] = "+_+"; } "}else(K=K||[]).push(t),t="",!1!==a.createErrors?(t+=" { keyword: 'type' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(h)+" , params: { type: '",t+=E?""+P.join(","):""+P,t+="' } ",!1!==a.opts.messages&&(t+=" , message: 'should be ",t+=E?""+P.join(","):""+P,t+="' "),a.opts.verbose&&(t+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+f+" "),t+=" } "):t+=" {} ",m=t,t=K.pop(),t+=!a.compositeRule&&d?a.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";t+=" } "}}if(a.schema.$ref&&!o)t+=" "+a.RULES.all.$ref.code(a,"$ref")+" ",d&&(t+=" } if (errors === ",t+=v?"0":"errs_"+n,t+=") { ",y+="}");else{var O=a.RULES;if(O)for(var I=-1,A=O.length-1;I<A;)if(J(S=O[I+=1])){if(S.type&&(t+=" if ("+a.util.checkDataType(S.type,f)+") { "),a.opts.useDefaults&&!a.compositeRule)if("object"==S.type&&a.schema.properties){c=a.schema.properties;var C=Object.keys(c);if(C)for(var k,L=-1,z=C.length-1;L<z;)void 0!==(N=c[k=C[L+=1]]).default&&(t+="  if ("+(U=f+a.util.getProperty(k))+" === undefined) "+U+" = ",t+="shared"==a.opts.useDefaults?" "+a.useDefault(N.default)+" ":" "+JSON.stringify(N.default)+" ",t+="; ")}else if("array"==S.type&&Array.isArray(a.schema.items)){var T=a.schema.items;if(T){$=-1;for(var N,q=T.length-1;$<q;){var U;void 0!==(N=T[$+=1]).default&&(t+="  if ("+(U=f+"["+$+"]")+" === undefined) "+U+" = ",t+="shared"==a.opts.useDefaults?" "+a.useDefault(N.default)+" ":" "+JSON.stringify(N.default)+" ",t+="; ")}}}var K,Q=S.rules;if(Q)for(var V,H=-1,M=Q.length-1;H<M;)if(Z(V=Q[H+=1])){var B=V.code(a,V.keyword,S.type);B&&(t+=" "+B+" ",d&&(g+="}"))}d&&(t+=" "+g+" ",g=""),S.type&&(t+=" } ",P&&P===S.type&&!w)&&(u=a.schemaPath+".type",h=a.errSchemaPath+"/type",(K=K||[]).push(t+=" else { "),t="",!1!==a.createErrors?(t+=" { keyword: 'type' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(h)+" , params: { type: '",t+=E?""+P.join(","):""+P,t+="' } ",!1!==a.opts.messages&&(t+=" , message: 'should be ",t+=E?""+P.join(","):""+P,t+="' "),a.opts.verbose&&(t+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+f+" "),t+=" } "):t+=" {} ",m=t,t=K.pop(),t+=!a.compositeRule&&d?a.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } "),d&&(t+=" if (errors === ",t+=v?"0":"errs_"+n,t+=") { ",y+="}")}}function J(e){for(var r=e.rules,t=0;t<r.length;t++)if(Z(r[t]))return!0}function Z(e){return void 0!==a.schema[e.keyword]||e.implements&&function(e){for(var r=e.implements,t=0;t<r.length;t++)if(void 0!==a.schema[r[t]])return!0}(e)}return d&&(t+=" "+y+" "),v?(s?(t+=" if (errors === 0) return data;           ",t+=" else throw new ValidationError(vErrors); "):(t+=" validate.errors = vErrors; ",t+=" return errors === 0;       "),t+=" }; return validate;"):t+=" var "+p+" = errors === errs_"+n+";",t=a.util.cleanUpCode(t),v&&(t=a.util.finalCleanUpCode(t,s)),t}},{}],38:[function(e,r,t){var u=/^[a-z_$][a-z0-9_$-]*$/i,h=e("./dotjs/custom");r.exports={add:function(e,r){var n=this.RULES;if(n.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!u.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(r){if(r.macro&&void 0!==r.valid)throw new Error('"valid" option cannot be used with macro keywords');var t=r.type;if(Array.isArray(t)){var a,s=t.length;for(a=0;a<s;a++)c(t[a]);for(a=0;a<s;a++)l(e,t[a],r)}else t&&c(t),l(e,t,r);var o=!0===r.$data&&this._opts.$data;if(o&&!r.validate)throw new Error('$data support: "validate" function is not defined');var i=r.metaSchema;i&&(o&&(i={anyOf:[i,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]}),r.validateSchema=this.compile(i,!0))}function l(e,r,t){for(var a,s=0;s<n.length;s++){var o=n[s];if(o.type==r){a=o;break}}a||n.push(a={type:r,rules:[]});var i={keyword:e,definition:t,custom:!0,code:h,implements:t.implements};a.rules.push(i),n.custom[e]=i}function c(e){if(!n.types[e])throw new Error("Unknown type "+e)}return n.keywords[e]=n.all[e]=!0,this},get:function(e){var r=this.RULES.custom[e];return r?r.definition:this.RULES.keywords[e]||!1},remove:function(e){var r=this.RULES;delete r.keywords[e],delete r.all[e],delete r.custom[e];for(var t=0;t<r.length;t++)for(var a=r[t].rules,s=0;s<a.length;s++)if(a[s].keyword==e){a.splice(s,1);break}return this}}},{"./dotjs/custom":21}],39:[function(e,r,t){r.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}},{}],40:[function(e,r,t){r.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}},{}],41:[function(e,r,t){var f=Array.isArray,p=Object.keys,m=Object.prototype.hasOwnProperty;r.exports=function e(r,t){if(r===t)return!0;if(r&&t&&"object"==typeof r&&"object"==typeof t){var a,s,o,i=f(r),n=f(t);if(i&&n){if((s=r.length)!=t.length)return!1;for(a=s;0!=a--;)if(!e(r[a],t[a]))return!1;return!0}if(i!=n)return!1;var l=r instanceof Date,c=t instanceof Date;if(l!=c)return!1;if(l&&c)return r.getTime()==t.getTime();var u=r instanceof RegExp,h=t instanceof RegExp;if(u!=h)return!1;if(u&&h)return r.toString()==t.toString();var d=p(r);if((s=d.length)!==p(t).length)return!1;for(a=s;0!=a--;)if(!m.call(t,d[a]))return!1;for(a=s;0!=a--;)if(!e(r[o=d[a]],t[o]))return!1;return!0}return r!=r&&t!=t}},{}],42:[function(e,r,t){r.exports=function(e,r){r||(r={}),"function"==typeof r&&(r={cmp:r});var a,l="boolean"==typeof r.cycles&&r.cycles,c=r.cmp&&(a=r.cmp,function(t){return function(e,r){return a({key:e,value:t[e]},{key:r,value:t[r]})}}),u=[];return function e(r){if(r&&r.toJSON&&"function"==typeof r.toJSON&&(r=r.toJSON()),void 0!==r){if("number"==typeof r)return isFinite(r)?""+r:"null";if("object"!=typeof r)return JSON.stringify(r);var t,a;if(Array.isArray(r)){for(a="[",t=0;t<r.length;t++)t&&(a+=","),a+=e(r[t])||"null";return a+"]"}if(null===r)return"null";if(-1!==u.indexOf(r)){if(l)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=u.push(r)-1,o=Object.keys(r).sort(c&&c(r));for(a="",t=0;t<o.length;t++){var i=o[t],n=e(r[i]);n&&(a&&(a+=","),a+=JSON.stringify(i)+":"+n)}return u.splice(s,1),"{"+a+"}"}}(e)}},{}],43:[function(e,r,t){var p=r.exports=function(e,r,t){"function"==typeof r&&(t=r,r={}),function e(r,t,a,s,o,i,n,l,c){if(a&&"object"==typeof a&&!Array.isArray(a))for(var u in t(a,s,o,i,n,l,c),a){var h=a[u];if(Array.isArray(h)){if(u in p.arrayKeywords)for(var d=0;d<h.length;d++)e(r,t,h[d],s+"/"+u+"/"+d,o,s,u,a,d)}else if(u in p.propsKeywords){if(h&&"object"==typeof h)for(var f in h)e(r,t,h[f],s+"/"+u+"/"+f.replace(/~/g,"~0").replace(/\//g,"~1"),o,s,u,a,f)}else(u in p.keywords||r.allKeys&&!(u in p.skipKeywords))&&e(r,t,h,s+"/"+u,o,s,u,a)}}(r,t,e,"",e)};p.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},p.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},p.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},p.skipKeywords={enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},{}],44:[function(e,r,t){!function(e){function C(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];if(1<r.length){r[0]=r[0].slice(0,-1);for(var a=r.length-1,s=1;s<a;++s)r[s]=r[s].slice(1,-1);return r[a]=r[a].slice(1),r.join("")}return r[0]}function k(e){return"(?:"+e+")"}function a(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function p(e){return e.toUpperCase()}function r(e){var r="[A-Za-z]",t="[0-9]",a=C(t,"[A-Fa-f]"),s=k(k("%[EFef]"+a+"%"+a+a+"%"+a+a)+"|"+k("%[89A-Fa-f]"+a+"%"+a+a)+"|"+k("%"+a+a)),o="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",i=C("[\\:\\/\\?\\#\\[\\]\\@]",o),n=e?"[\\uE000-\\uF8FF]":"[]",l=C(r,t,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),c=k(r+C(r,t,"[\\+\\-\\.]")+"*"),u=k(k(s+"|"+C(l,o,"[\\:]"))+"*"),h=(k(k("25[0-5]")+"|"+k("2[0-4]"+t)+"|"+k("1"+t+t)+"|"+k("[1-9]"+t)+"|"+t),k(k("25[0-5]")+"|"+k("2[0-4]"+t)+"|"+k("1"+t+t)+"|"+k("0?[1-9]"+t)+"|0?0?"+t)),d=k(h+"\\."+h+"\\."+h+"\\."+h),f=k(a+"{1,4}"),p=k(k(f+"\\:"+f)+"|"+d),m=k([k(k(f+"\\:")+"{6}"+p),k("\\:\\:"+k(f+"\\:")+"{5}"+p),k(k(f)+"?\\:\\:"+k(f+"\\:")+"{4}"+p),k(k(k(f+"\\:")+"{0,1}"+f)+"?\\:\\:"+k(f+"\\:")+"{3}"+p),k(k(k(f+"\\:")+"{0,2}"+f)+"?\\:\\:"+k(f+"\\:")+"{2}"+p),k(k(k(f+"\\:")+"{0,3}"+f)+"?\\:\\:"+f+"\\:"+p),k(k(k(f+"\\:")+"{0,4}"+f)+"?\\:\\:"+p),k(k(k(f+"\\:")+"{0,5}"+f)+"?\\:\\:"+f),k(k(k(f+"\\:")+"{0,6}"+f)+"?\\:\\:")].join("|")),v=k(k(l+"|"+s)+"+"),g=(k(m+"\\%25"+v),k("\\["+k(k(m+k("\\%25|\\%(?!"+a+"{2})")+v)+"|"+m+"|"+k("[vV]"+a+"+\\."+C(l,o,"[\\:]")+"+"))+"\\]")),y=k(k(s+"|"+C(l,o))+"*"),P=k(g+"|"+d+"(?!"+y+")|"+y),E=k(t+"*"),w=k(k(u+"@")+"?"+P+k("\\:"+E)+"?"),S=k(s+"|"+C(l,o,"[\\:\\@]")),b=k(S+"*"),_=k(S+"+"),F=k(k(s+"|"+C(l,o,"[\\@]"))+"+"),x=k(k("\\/"+b)+"*"),R=k("\\/"+k(_+x)+"?"),$=k(F+x),D=k(_+x),j="(?!"+S+")",O=(k(x+"|"+R+"|"+$+"|"+D+"|"+j),k(k(S+"|"+C("[\\/\\?]",n))+"*")),I=k(k(S+"|[\\/\\?]")+"*"),A=k(k("\\/\\/"+w+x)+"|"+R+"|"+D+"|"+j);return k(k(c+"\\:"+A+k("\\?"+O)+"?"+k("\\#"+I)+"?")+"|"+k(k(k("\\/\\/"+w+x)+"|"+R+"|"+$+"|"+j)+k("\\?"+O)+"?"+k("\\#"+I)+"?")),k(c+"\\:"+A+k("\\?"+O)+"?"),k(k("\\/\\/("+k("("+u+")@")+"?("+P+")"+k("\\:("+E+")")+"?)")+"?("+x+"|"+R+"|"+D+"|"+j+")"),k("\\?("+O+")"),k("\\#("+I+")"),k(k("\\/\\/("+k("("+u+")@")+"?("+P+")"+k("\\:("+E+")")+"?)")+"?("+x+"|"+R+"|"+$+"|"+j+")"),k("\\?("+O+")"),k("\\#("+I+")"),k(k("\\/\\/("+k("("+u+")@")+"?("+P+")"+k("\\:("+E+")")+"?)")+"?("+x+"|"+R+"|"+D+"|"+j+")"),k("\\?("+O+")"),k("\\#("+I+")"),k("("+u+")@"),k("\\:("+E+")"),{NOT_SCHEME:new RegExp(C("[^]",r,t,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(C("[^\\%\\:]",l,o),"g"),NOT_HOST:new RegExp(C("[^\\%\\[\\]\\:]",l,o),"g"),NOT_PATH:new RegExp(C("[^\\%\\/\\:\\@]",l,o),"g"),NOT_PATH_NOSCHEME:new RegExp(C("[^\\%\\/\\@]",l,o),"g"),NOT_QUERY:new RegExp(C("[^\\%]",l,o,"[\\:\\@\\/\\?]",n),"g"),NOT_FRAGMENT:new RegExp(C("[^\\%]",l,o,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(C("[^]",l,o),"g"),UNRESERVED:new RegExp(l,"g"),OTHER_CHARS:new RegExp(C("[^\\%]",l,i),"g"),PCT_ENCODED:new RegExp(s,"g"),IPV4ADDRESS:new RegExp("^("+d+")$"),IPV6ADDRESS:new RegExp("^\\[?("+m+")"+k(k("\\%25|\\%(?!"+a+"{2})")+"("+v+")")+"?\\]?$")}}var u=r(!1),h=r(!0),w=function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,r){var t=[],a=!0,s=!1,o=void 0;try{for(var i,n=e[Symbol.iterator]();!(a=(i=n.next()).done)&&(t.push(i.value),!r||t.length!==r);a=!0);}catch(e){s=!0,o=e}finally{try{!a&&n.return&&n.return()}finally{if(s)throw o}}return t}(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")},A=2147483647,t=/^xn--/,s=/[^\0-\x7E]/,o=/[\x2E\u3002\uFF0E\uFF61]/g,i={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=Math.floor,z=String.fromCharCode;function T(e){throw new RangeError(i[e])}function n(e,r){var t=e.split("@"),a="";return 1<t.length&&(a=t[0]+"@",e=t[1]),a+function(e,r){for(var t=[],a=e.length;a--;)t[a]=r(e[a]);return t}((e=e.replace(o,".")).split("."),r).join(".")}function N(e){for(var r=[],t=0,a=e.length;t<a;){var s=e.charCodeAt(t++);if(55296<=s&&s<=56319&&t<a){var o=e.charCodeAt(t++);56320==(64512&o)?r.push(((1023&s)<<10)+(1023&o)+65536):(r.push(s),t--)}else r.push(s)}return r}var q=function(e,r){return e+22+75*(e<26)-((0!=r)<<5)},U=function(e,r,t){var a=0;for(e=t?L(e/700):e>>1,e+=L(e/r);455<e;a+=36)e=L(e/35);return L(a+36*e/(e+38))},l=function(e){var r,t=[],a=e.length,s=0,o=128,i=72,n=e.lastIndexOf("-");n<0&&(n=0);for(var l=0;l<n;++l)128<=e.charCodeAt(l)&&T("not-basic"),t.push(e.charCodeAt(l));for(var c=0<n?n+1:0;c<a;){for(var u=s,h=1,d=36;;d+=36){a<=c&&T("invalid-input");var f=(r=e.charCodeAt(c++))-48<10?r-22:r-65<26?r-65:r-97<26?r-97:36;(36<=f||f>L((A-s)/h))&&T("overflow"),s+=f*h;var p=d<=i?1:i+26<=d?26:d-i;if(f<p)break;var m=36-p;h>L(A/m)&&T("overflow"),h*=m}var v=t.length+1;i=U(s-u,v,0==u),L(s/v)>A-o&&T("overflow"),o+=L(s/v),s%=v,t.splice(s++,0,o)}return String.fromCodePoint.apply(String,t)},c=function(e){var r=[],t=(e=N(e)).length,a=128,s=0,o=72,i=!0,n=!1,l=void 0;try{for(var c,u=e[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var h=c.value;h<128&&r.push(z(h))}}catch(e){n=!0,l=e}finally{try{!i&&u.return&&u.return()}finally{if(n)throw l}}var d=r.length,f=d;for(d&&r.push("-");f<t;){var p=A,m=!0,v=!1,g=void 0;try{for(var y,P=e[Symbol.iterator]();!(m=(y=P.next()).done);m=!0){var E=y.value;a<=E&&E<p&&(p=E)}}catch(e){v=!0,g=e}finally{try{!m&&P.return&&P.return()}finally{if(v)throw g}}var w=f+1;p-a>L((A-s)/w)&&T("overflow"),s+=(p-a)*w,a=p;var S=!0,b=!1,_=void 0;try{for(var F,x=e[Symbol.iterator]();!(S=(F=x.next()).done);S=!0){var R=F.value;if(R<a&&++s>A&&T("overflow"),R==a){for(var $=s,D=36;;D+=36){var j=D<=o?1:o+26<=D?26:D-o;if($<j)break;var O=$-j,I=36-j;r.push(z(q(j+O%I,0))),$=L(O/I)}r.push(z(q($,0))),o=U(s,w,f==d),s=0,++f}}}catch(e){b=!0,_=e}finally{try{!S&&x.return&&x.return()}finally{if(b)throw _}}++s,++a}return r.join("")},v_toASCII=function(e){return n(e,(function(e){return s.test(e)?"xn--"+c(e):e}))},v_toUnicode=function(e){return n(e,(function(e){return t.test(e)?l(e.slice(4).toLowerCase()):e}))},d={};function m(e){var r=e.charCodeAt(0);return r<16?"%0"+r.toString(16).toUpperCase():r<128?"%"+r.toString(16).toUpperCase():r<2048?"%"+(r>>6|192).toString(16).toUpperCase()+"%"+(63&r|128).toString(16).toUpperCase():"%"+(r>>12|224).toString(16).toUpperCase()+"%"+(r>>6&63|128).toString(16).toUpperCase()+"%"+(63&r|128).toString(16).toUpperCase()}function f(e){for(var r="",t=0,a=e.length;t<a;){var s=parseInt(e.substr(t+1,2),16);if(s<128)r+=String.fromCharCode(s),t+=3;else if(194<=s&&s<224){if(6<=a-t){var o=parseInt(e.substr(t+4,2),16);r+=String.fromCharCode((31&s)<<6|63&o)}else r+=e.substr(t,6);t+=6}else if(224<=s){if(9<=a-t){var i=parseInt(e.substr(t+4,2),16),n=parseInt(e.substr(t+7,2),16);r+=String.fromCharCode((15&s)<<12|(63&i)<<6|63&n)}else r+=e.substr(t,9);t+=9}else r+=e.substr(t,3),t+=3}return r}function g(e,t){function r(e){var r=f(e);return r.match(t.UNRESERVED)?r:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,r).replace(t.NOT_USERINFO,m).replace(t.PCT_ENCODED,p)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_HOST,m).replace(t.PCT_ENCODED,p)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,r).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,m).replace(t.PCT_ENCODED,p)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,r).replace(t.NOT_QUERY,m).replace(t.PCT_ENCODED,p)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,r).replace(t.NOT_FRAGMENT,m).replace(t.PCT_ENCODED,p)),e}function S(e){return e.replace(/^0*(.*)/,"$1")||"0"}function b(e,r){var t=e.match(r.IPV4ADDRESS)||[],a=w(t,2)[1];return a?a.split(".").map(S).join("."):e}function y(e,r){var t=e.match(r.IPV6ADDRESS)||[],a=w(t,3),s=a[1],o=a[2];if(s){for(var i=s.toLowerCase().split("::").reverse(),n=w(i,2),l=n[0],c=n[1],u=c?c.split(":").map(S):[],h=l.split(":").map(S),d=r.IPV4ADDRESS.test(h[h.length-1]),f=d?7:8,p=h.length-f,m=Array(f),v=0;v<f;++v)m[v]=u[v]||h[p+v]||"";d&&(m[f-1]=b(m[f-1],r));var g=m.reduce((function(e,r,t){if(!r||"0"===r){var a=e[e.length-1];a&&a.index+a.length===t?a.length++:e.push({index:t,length:1})}return e}),[]).sort((function(e,r){return r.length-e.length}))[0],y=void 0;if(g&&1<g.length){var P=m.slice(0,g.index),E=m.slice(g.index+g.length);y=P.join(":")+"::"+E.join(":")}else y=m.join(":");return o&&(y+="%"+o),y}return e}var P=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,E=void 0==="".match(/(){0}/)[1];function _(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t={},a=!1!==r.iri?h:u;"suffix"===r.reference&&(e=(r.scheme?r.scheme+":":"")+"//"+e);var s=e.match(P);if(s){E?(t.scheme=s[1],t.userinfo=s[3],t.host=s[4],t.port=parseInt(s[5],10),t.path=s[6]||"",t.query=s[7],t.fragment=s[8],isNaN(t.port)&&(t.port=s[5])):(t.scheme=s[1]||void 0,t.userinfo=-1!==e.indexOf("@")?s[3]:void 0,t.host=-1!==e.indexOf("//")?s[4]:void 0,t.port=parseInt(s[5],10),t.path=s[6]||"",t.query=-1!==e.indexOf("?")?s[7]:void 0,t.fragment=-1!==e.indexOf("#")?s[8]:void 0,isNaN(t.port)&&(t.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?s[4]:void 0)),t.host&&(t.host=y(b(t.host,a),a)),t.reference=void 0!==t.scheme||void 0!==t.userinfo||void 0!==t.host||void 0!==t.port||t.path||void 0!==t.query?void 0===t.scheme?"relative":void 0===t.fragment?"absolute":"uri":"same-document",r.reference&&"suffix"!==r.reference&&r.reference!==t.reference&&(t.error=t.error||"URI is not a "+r.reference+" reference.");var o=d[(r.scheme||t.scheme||"").toLowerCase()];if(r.unicodeSupport||o&&o.unicodeSupport)g(t,a);else{if(t.host&&(r.domainHost||o&&o.domainHost))try{t.host=v_toASCII(t.host.replace(a.PCT_ENCODED,f).toLowerCase())}catch(e){t.error=t.error||"Host's domain name can not be converted to ASCII via punycode: "+e}g(t,u)}o&&o.parse&&o.parse(t,r)}else t.error=t.error||"URI can not be parsed.";return t}var F=/^\.\.?\//,x=/^\/\.(\/|$)/,R=/^\/\.\.(\/|$)/,$=/^\/?(?:.|\n)*?(?=\/|$)/;function D(e){for(var r=[];e.length;)if(e.match(F))e=e.replace(F,"");else if(e.match(x))e=e.replace(x,"/");else if(e.match(R))e=e.replace(R,"/"),r.pop();else if("."===e||".."===e)e="";else{var t=e.match($);if(!t)throw new Error("Unexpected dot segment condition");var a=t[0];e=e.slice(a.length),r.push(a)}return r.join("")}function j(r){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=t.iri?h:u,a=[],s=d[(t.scheme||r.scheme||"").toLowerCase()];if(s&&s.serialize&&s.serialize(r,t),r.host)if(e.IPV6ADDRESS.test(r.host));else if(t.domainHost||s&&s.domainHost)try{r.host=t.iri?v_toUnicode(r.host):v_toASCII(r.host.replace(e.PCT_ENCODED,f).toLowerCase())}catch(e){r.error=r.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}g(r,e),"suffix"!==t.reference&&r.scheme&&(a.push(r.scheme),a.push(":"));var o,i,n,l=(i=!1!==t.iri?h:u,n=[],void 0!==(o=r).userinfo&&(n.push(o.userinfo),n.push("@")),void 0!==o.host&&n.push(y(b(String(o.host),i),i).replace(i.IPV6ADDRESS,(function(e,r,t){return"["+r+(t?"%25"+t:"")+"]"}))),"number"==typeof o.port&&(n.push(":"),n.push(o.port.toString(10))),n.length?n.join(""):void 0);if(void 0!==l&&("suffix"!==t.reference&&a.push("//"),a.push(l),r.path&&"/"!==r.path.charAt(0)&&a.push("/")),void 0!==r.path){var c=r.path;t.absolutePath||s&&s.absolutePath||(c=D(c)),void 0===l&&(c=c.replace(/^\/\//,"/%2F")),a.push(c)}return void 0!==r.query&&(a.push("?"),a.push(r.query)),void 0!==r.fragment&&(a.push("#"),a.push(r.fragment)),a.join("")}function O(e,r){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a={};return arguments[3]||(e=_(j(e,t),t),r=_(j(r,t),t)),!(t=t||{}).tolerant&&r.scheme?(a.scheme=r.scheme,a.userinfo=r.userinfo,a.host=r.host,a.port=r.port,a.path=D(r.path||""),a.query=r.query):(void 0!==r.userinfo||void 0!==r.host||void 0!==r.port?(a.userinfo=r.userinfo,a.host=r.host,a.port=r.port,a.path=D(r.path||""),a.query=r.query):(r.path?("/"===r.path.charAt(0)?a.path=D(r.path):(a.path=void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?e.path.slice(0,e.path.lastIndexOf("/")+1)+r.path:r.path:"/"+r.path,a.path=D(a.path)),a.query=r.query):(a.path=e.path,a.query=void 0!==r.query?r.query:e.query),a.userinfo=e.userinfo,a.host=e.host,a.port=e.port),a.scheme=e.scheme),a.fragment=r.fragment,a}function I(e,r){return e&&e.toString().replace(r&&r.iri?h.PCT_ENCODED:u.PCT_ENCODED,f)}var Q={scheme:"http",domainHost:!0,parse:function(e,r){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,r){return e.port!==("https"!==String(e.scheme).toLowerCase()?80:443)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},V={scheme:"https",domainHost:Q.domainHost,parse:Q.parse,serialize:Q.serialize},H={},M="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",B="[0-9A-Fa-f]",K=k(k("%[EFef]"+B+"%"+B+B+"%"+B+B)+"|"+k("%[89A-Fa-f]"+B+"%"+B+B)+"|"+k("%"+B+B)),J=C("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Z=new RegExp(M,"g"),G=new RegExp(K,"g"),Y=new RegExp(C("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',J),"g"),W=new RegExp(C("[^]",M,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),X=W;function ee(e){var r=f(e);return r.match(Z)?r:e}var re={scheme:"mailto",parse:function(e,r){var t=e,a=t.to=t.path?t.path.split(","):[];if(t.path=void 0,t.query){for(var s=!1,o={},i=t.query.split("&"),n=0,l=i.length;n<l;++n){var c=i[n].split("=");switch(c[0]){case"to":for(var u=c[1].split(","),h=0,d=u.length;h<d;++h)a.push(u[h]);break;case"subject":t.subject=I(c[1],r);break;case"body":t.body=I(c[1],r);break;default:s=!0,o[I(c[0],r)]=I(c[1],r)}}s&&(t.headers=o)}t.query=void 0;for(var f=0,p=a.length;f<p;++f){var m=a[f].split("@");if(m[0]=I(m[0]),r.unicodeSupport)m[1]=I(m[1],r).toLowerCase();else try{m[1]=v_toASCII(I(m[1],r).toLowerCase())}catch(e){t.error=t.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}a[f]=m.join("@")}return t},serialize:function(e,r){var t,a=e,s=null!=(t=e.to)?t instanceof Array?t:"number"!=typeof t.length||t.split||t.setInterval||t.call?[t]:Array.prototype.slice.call(t):[];if(s){for(var o=0,i=s.length;o<i;++o){var n=String(s[o]),l=n.lastIndexOf("@"),c=n.slice(0,l).replace(G,ee).replace(G,p).replace(Y,m),u=n.slice(l+1);try{u=r.iri?v_toUnicode(u):v_toASCII(I(u,r).toLowerCase())}catch(e){a.error=a.error||"Email address's domain name can not be converted to "+(r.iri?"Unicode":"ASCII")+" via punycode: "+e}s[o]=c+"@"+u}a.path=s.join(",")}var h=e.headers=e.headers||{};e.subject&&(h.subject=e.subject),e.body&&(h.body=e.body);var d=[];for(var f in h)h[f]!==H[f]&&d.push(f.replace(G,ee).replace(G,p).replace(W,m)+"="+h[f].replace(G,ee).replace(G,p).replace(X,m));return d.length&&(a.query=d.join("&")),a}},te=/^([^\:]+)\:(.*)/,ae={scheme:"urn",parse:function(e,r){var t=e.path&&e.path.match(te),a=e;if(t){var s=r.scheme||a.scheme||"urn",o=t[1].toLowerCase(),i=t[2],n=d[s+":"+(r.nid||o)];a.nid=o,a.nss=i,a.path=void 0,n&&(a=n.parse(a,r))}else a.error=a.error||"URN can not be parsed.";return a},serialize:function(e,r){var t=e.nid,a=d[(r.scheme||e.scheme||"urn")+":"+(r.nid||t)];a&&(e=a.serialize(e,r));var s=e;return s.path=(t||r.nid)+":"+e.nss,s}},se=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,oe={scheme:"urn:uuid",parse:function(e,r){var t=e;return t.uuid=t.nss,t.nss=void 0,r.tolerant||t.uuid&&t.uuid.match(se)||(t.error=t.error||"UUID is not valid."),t},serialize:function(e,r){var t=e;return t.nss=(e.uuid||"").toLowerCase(),t}};d[Q.scheme]=Q,d[V.scheme]=V,d[re.scheme]=re,d[ae.scheme]=ae,d[oe.scheme]=oe,e.SCHEMES=d,e.pctEncChar=m,e.pctDecChars=f,e.parse=_,e.removeDotSegments=D,e.serialize=j,e.resolveComponents=O,e.resolve=function(e,r,t){var a=function(e,r){var t={scheme:"null"};if(r)for(var a in r)t[a]=r[a];return t}(0,t);return j(O(_(e,a),_(r,a),a,!0),a)},e.normalize=function(e,r){return"string"==typeof e?e=j(_(e,r),r):"object"===a(e)&&(e=_(j(e,r),r)),e},e.equal=function(e,r,t){return"string"==typeof e?e=j(_(e,t),t):"object"===a(e)&&(e=j(e,t)),"string"==typeof r?r=j(_(r,t),t):"object"===a(r)&&(r=j(r,t)),e===r},e.escapeComponent=function(e,r){return e&&e.toString().replace(r&&r.iri?h.ESCAPE:u.ESCAPE,m)},e.unescapeComponent=I,Object.defineProperty(e,"__esModule",{value:!0})}("object"==typeof t&&void 0!==r?t:this.URI=this.URI||{})},{}],ajv:[function(a,e,r){var n=a("./compile"),d=a("./compile/resolve"),t=a("./cache"),f=a("./compile/schema_obj"),s=a("fast-json-stable-stringify"),o=a("./compile/formats"),i=a("./compile/rules"),l=a("./data"),c=a("./compile/util");(e.exports=g).prototype.validate=function(e,r){var t;if("string"==typeof e){if(!(t=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var a=this._addSchema(e);t=a.validate||this._compile(a)}var s=t(r);return!0!==t.$async&&(this.errors=t.errors),s},g.prototype.compile=function(e,r){var t=this._addSchema(e,void 0,r);return t.validate||this._compile(t)},g.prototype.addSchema=function(e,r,t,a){if(Array.isArray(e)){for(var s=0;s<e.length;s++)this.addSchema(e[s],void 0,t,a);return this}var o=this._getId(e);if(void 0!==o&&"string"!=typeof o)throw new Error("schema id must be string");return b(this,r=d.normalizeId(r||o)),this._schemas[r]=this._addSchema(e,t,a,!0),this},g.prototype.addMetaSchema=function(e,r,t){return this.addSchema(e,r,t,!0),this},g.prototype.validateSchema=function(e,r){var a,s,t=e.$schema;if(void 0!==t&&"string"!=typeof t)throw new Error("$schema must be a string");if(!(t=t||this._opts.defaultMeta||(a=this,s=a._opts.meta,a._opts.defaultMeta="object"==typeof s?a._getId(s)||s:a.getSchema(p)?p:void 0,a._opts.defaultMeta)))return this.logger.warn("meta-schema not available"),!(this.errors=null);var o,i=this._formats.uri;this._formats.uri="function"==typeof i?this._schemaUriFormatFunc:this._schemaUriFormat;try{o=this.validate(t,e)}finally{this._formats.uri=i}if(!o&&r){var n="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(n);this.logger.error(n)}return o},g.prototype.getSchema=function(e){var r=y(this,e);switch(typeof r){case"object":return r.validate||this._compile(r);case"string":return this.getSchema(r);case"undefined":return function(e,r){var t=d.schema.call(e,{schema:{}},r);if(t){var a=t.schema,s=t.root,o=t.baseId,i=n.call(e,a,s,void 0,o);return e._fragments[r]=new f({ref:r,fragment:!0,schema:a,root:s,baseId:o,validate:i}),i}}(this,e)}},g.prototype.removeSchema=function(e){if(e instanceof RegExp)return P(this,this._schemas,e),P(this,this._refs,e),this;switch(typeof e){case"undefined":return P(this,this._schemas),P(this,this._refs),this._cache.clear(),this;case"string":var r=y(this,e);return r&&this._cache.del(r.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var t=this._opts.serialize,a=t?t(e):e;this._cache.del(a);var s=this._getId(e);s&&(s=d.normalizeId(s),delete this._schemas[s],delete this._refs[s])}return this},g.prototype.addFormat=function(e,r){return"string"==typeof r&&(r=new RegExp(r)),this._formats[e]=r,this},g.prototype.errorsText=function(e,r){if(!(e=e||this.errors))return"No errors";for(var t=void 0===(r=r||{}).separator?", ":r.separator,a=void 0===r.dataVar?"data":r.dataVar,s="",o=0;o<e.length;o++){var i=e[o];i&&(s+=a+i.dataPath+" "+i.message+t)}return s.slice(0,-t.length)},g.prototype._addSchema=function(e,r,t,a){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var s=this._opts.serialize,o=s?s(e):e,i=this._cache.get(o);if(i)return i;a=a||!1!==this._opts.addUsedSchema;var n=d.normalizeId(this._getId(e));n&&a&&b(this,n);var l,c=!1!==this._opts.validateSchema&&!r;c&&!(l=n&&n==d.normalizeId(e.$schema))&&this.validateSchema(e,!0);var u=d.ids.call(this,e),h=new f({id:n,schema:e,localRefs:u,cacheKey:o,meta:t});return"#"!=n[0]&&a&&(this._refs[n]=h),this._cache.put(o,h),c&&l&&this.validateSchema(e,!0),h},g.prototype._compile=function(t,e){if(t.compiling)return(t.validate=s).schema=t.schema,s.errors=null,s.root=e||s,!0===t.schema.$async&&(s.$async=!0),s;var r,a;t.compiling=!0,t.meta&&(r=this._opts,this._opts=this._metaOpts);try{a=n.call(this,t.schema,e,t.localRefs)}catch(e){throw delete t.validate,e}finally{t.compiling=!1,t.meta&&(this._opts=r)}return t.validate=a,t.refs=a.refs,t.refVal=a.refVal,t.root=a.root,a;function s(){var e=t.validate,r=e.apply(this,arguments);return s.errors=e.errors,r}},g.prototype.compileAsync=a("./compile/async");var u=a("./keyword");g.prototype.addKeyword=u.add,g.prototype.getKeyword=u.get,g.prototype.removeKeyword=u.remove;var h=a("./compile/error_classes");g.ValidationError=h.Validation,g.MissingRefError=h.MissingRef,g.$dataMetaSchema=l;var p="http://json-schema.org/draft-07/schema",m=["removeAdditional","useDefaults","coerceTypes"],v=["/properties"];function g(e){if(!(this instanceof g))return new g(e);e=this._opts=c.copy(e)||{},function(e){var r=e._opts.logger;if(!1===r)e.logger={log:_,warn:_,error:_};else{if(void 0===r&&(r=console),!("object"==typeof r&&r.log&&r.warn&&r.error))throw new Error("logger must implement log, warn and error methods");e.logger=r}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=o(e.format);var r=this._schemaUriFormat=this._formats["uri-reference"];this._schemaUriFormatFunc=function(e){return r.test(e)},this._cache=e.cache||new t,this._loadingSchemas={},this._compilations=[],this.RULES=i(),this._getId=function(e){switch(e.schemaId){case"auto":return S;case"id":return E;default:return w}}(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=s),this._metaOpts=function(e){for(var r=c.copy(e._opts),t=0;t<m.length;t++)delete r[m[t]];return r}(this),e.formats&&function(e){for(var r in e._opts.formats){var t=e._opts.formats[r];e.addFormat(r,t)}}(this),function(e){var r;if(e._opts.$data&&(r=a("./refs/data.json"),e.addMetaSchema(r,r.$id,!0)),!1!==e._opts.meta){var t=a("./refs/json-schema-draft-07.json");e._opts.$data&&(t=l(t,v)),e.addMetaSchema(t,p,!0),e._refs["http://json-schema.org/schema"]=p}}(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),function(e){var r=e._opts.schemas;if(r)if(Array.isArray(r))e.addSchema(r);else for(var t in r)e.addSchema(r[t],t)}(this)}function y(e,r){return r=d.normalizeId(r),e._schemas[r]||e._refs[r]||e._fragments[r]}function P(e,r,t){for(var a in r){var s=r[a];s.meta||t&&!t.test(a)||(e._cache.del(s.cacheKey),delete r[a])}}function E(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function w(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function S(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function b(e,r){if(e._schemas[r]||e._refs[r])throw new Error('schema with key or id "'+r+'" already exists')}function _(){}},{"./cache":1,"./compile":5,"./compile/async":2,"./compile/error_classes":3,"./compile/formats":4,"./compile/resolve":6,"./compile/rules":7,"./compile/schema_obj":8,"./compile/util":10,"./data":11,"./keyword":38,"./refs/data.json":39,"./refs/json-schema-draft-07.json":40,"fast-json-stable-stringify":42}]},{},[])("ajv")},function(module,exports,__webpack_require__){(function(module){(function(a,b,c){var d=function(a,b,c){c=e.extend({},e.options,c);var f=e.runValidations(a,b,c);if(f.some((function(a){return e.isPromise(a.error)})))throw new Error("Use validate.async if you want support for promises");return d.processValidationResults(f,c)},e=d;e.extend=function(a){return[].slice.call(arguments,1).forEach((function(b){for(var c in b)a[c]=b[c]})),a},e.extend(d,{version:{major:0,minor:13,patch:1,metadata:null,toString:function(){var a=e.format("%{major}.%{minor}.%{patch}",e.version);return e.isEmpty(e.version.metadata)||(a+="+"+e.version.metadata),a}},Promise:"undefined"!=typeof Promise?Promise:null,EMPTY_STRING_REGEXP:/^\s*$/,runValidations:function(a,b,c){var d,f,g,h,i,j,k,l=[];for(d in(e.isDomElement(a)||e.isJqueryElement(a))&&(a=e.collectFormValues(a)),b)for(f in g=e.getDeepObjectValue(a,d),h=e.result(b[d],g,a,d,c,b)){if(!(i=e.validators[f]))throw k=e.format("Unknown validator %{name}",{name:f}),new Error(k);j=h[f],(j=e.result(j,g,a,d,c,b))&&l.push({attribute:d,value:g,validator:f,globalOptions:c,attributes:a,options:j,error:i.call(i,g,j,d,a,c)})}return l},processValidationResults:function(a,b){a=e.pruneEmptyErrors(a,b),a=e.expandMultipleErrors(a,b),a=e.convertErrorMessages(a,b);var c=b.format||"grouped";if("function"!=typeof e.formatters[c])throw new Error(e.format("Unknown format %{format}",b));return a=e.formatters[c](a),e.isEmpty(a)?void 0:a},async:function(a,b,c){var d=(c=e.extend({},e.async.options,c)).wrapErrors||function(a){return a};!1!==c.cleanAttributes&&(a=e.cleanAttributes(a,b));var f=e.runValidations(a,b,c);return new e.Promise((function(g,h){e.waitForResults(f).then((function(){var i=e.processValidationResults(f,c);i?h(new d(i,c,a,b)):g(a)}),(function(a){h(a)}))}))},single:function(a,b,c){return c=e.extend({},e.single.options,c,{format:"flat",fullMessages:!1}),e({single:a},{single:b},c)},waitForResults:function(a){return a.reduce((function(a,b){return e.isPromise(b.error)?a.then((function(){return b.error.then((function(a){b.error=a||null}))})):a}),new e.Promise((function(a){a()})))},result:function(a){var b=[].slice.call(arguments,1);return"function"==typeof a&&(a=a.apply(null,b)),a},isNumber:function(a){return"number"==typeof a&&!isNaN(a)},isFunction:function(a){return"function"==typeof a},isInteger:function(a){return e.isNumber(a)&&a%1==0},isBoolean:function(a){return"boolean"==typeof a},isObject:function(a){return a===Object(a)},isDate:function(a){return a instanceof Date},isDefined:function(a){return null!=a},isPromise:function(a){return!!a&&e.isFunction(a.then)},isJqueryElement:function(a){return a&&e.isString(a.jquery)},isDomElement:function(a){return!!a&&!(!a.querySelectorAll||!a.querySelector)&&(!(!e.isObject(document)||a!==document)||("object"==typeof HTMLElement?a instanceof HTMLElement:a&&"object"==typeof a&&null!==a&&1===a.nodeType&&"string"==typeof a.nodeName))},isEmpty:function(a){var b;if(!e.isDefined(a))return!0;if(e.isFunction(a))return!1;if(e.isString(a))return e.EMPTY_STRING_REGEXP.test(a);if(e.isArray(a))return 0===a.length;if(e.isDate(a))return!1;if(e.isObject(a)){for(b in a)return!1;return!0}return!1},format:e.extend((function(a,b){return e.isString(a)?a.replace(e.format.FORMAT_REGEXP,(function(a,c,d){return"%"===c?"%{"+d+"}":String(b[d])})):a}),{FORMAT_REGEXP:/(%?)%\{([^\}]+)\}/g}),prettify:function(a){return e.isNumber(a)?100*a%1==0?""+a:parseFloat(Math.round(100*a)/100).toFixed(2):e.isArray(a)?a.map((function(a){return e.prettify(a)})).join(", "):e.isObject(a)?e.isDefined(a.toString)?a.toString():JSON.stringify(a):(a=""+a).replace(/([^\s])\.([^\s])/g,"$1 $2").replace(/\\+/g,"").replace(/[_-]/g," ").replace(/([a-z])([A-Z])/g,(function(a,b,c){return b+" "+c.toLowerCase()})).toLowerCase()},stringifyValue:function(a,b){return(b&&b.prettify||e.prettify)(a)},isString:function(a){return"string"==typeof a},isArray:function(a){return"[object Array]"==={}.toString.call(a)},isHash:function(a){return e.isObject(a)&&!e.isArray(a)&&!e.isFunction(a)},contains:function(a,b){return!!e.isDefined(a)&&(e.isArray(a)?-1!==a.indexOf(b):b in a)},unique:function(a){return e.isArray(a)?a.filter((function(a,b,c){return c.indexOf(a)==b})):a},forEachKeyInKeypath:function(a,b,c){if(e.isString(b)){var d,f="",g=!1;for(d=0;d<b.length;++d)switch(b[d]){case".":g?(g=!1,f+="."):(a=c(a,f,!1),f="");break;case"\\":g?(g=!1,f+="\\"):g=!0;break;default:g=!1,f+=b[d]}return c(a,f,!0)}},getDeepObjectValue:function(a,b){if(e.isObject(a))return e.forEachKeyInKeypath(a,b,(function(a,b){if(e.isObject(a))return a[b]}))},collectFormValues:function(a,b){var c,d,f,g,h,i,j={};if(e.isJqueryElement(a)&&(a=a[0]),!a)return j;for(b=b||{},g=a.querySelectorAll("input[name], textarea[name]"),c=0;c<g.length;++c)if(f=g.item(c),!e.isDefined(f.getAttribute("data-ignored"))){var k=f.name.replace(/\./g,"\\\\.");i=e.sanitizeFormValue(f.value,b),"number"===f.type?i=i?+i:null:"checkbox"===f.type?f.attributes.value?f.checked||(i=j[k]||null):i=f.checked:"radio"===f.type&&(f.checked||(i=j[k]||null)),j[k]=i}for(g=a.querySelectorAll("select[name]"),c=0;c<g.length;++c)if(f=g.item(c),!e.isDefined(f.getAttribute("data-ignored"))){if(f.multiple)for(d in i=[],f.options)(h=f.options[d])&&h.selected&&i.push(e.sanitizeFormValue(h.value,b));else{var l=void 0!==f.options[f.selectedIndex]?f.options[f.selectedIndex].value:"";i=e.sanitizeFormValue(l,b)}j[f.name]=i}return j},sanitizeFormValue:function(a,b){return b.trim&&e.isString(a)&&(a=a.trim()),!1!==b.nullify&&""===a?null:a},capitalize:function(a){return e.isString(a)?a[0].toUpperCase()+a.slice(1):a},pruneEmptyErrors:function(a){return a.filter((function(a){return!e.isEmpty(a.error)}))},expandMultipleErrors:function(a){var b=[];return a.forEach((function(a){e.isArray(a.error)?a.error.forEach((function(c){b.push(e.extend({},a,{error:c}))})):b.push(a)})),b},convertErrorMessages:function(a,b){var c=[],d=(b=b||{}).prettify||e.prettify;return a.forEach((function(a){var f=e.result(a.error,a.value,a.attribute,a.options,a.attributes,a.globalOptions);return e.isString(f)?("^"===f[0]?f=f.slice(1):!1!==b.fullMessages&&(f=e.capitalize(d(a.attribute))+" "+f),f=f.replace(/\\\^/g,"^"),f=e.format(f,{value:e.stringifyValue(a.value,b)}),void c.push(e.extend({},a,{error:f}))):void c.push(a)})),c},groupErrorsByAttribute:function(a){var b={};return a.forEach((function(a){var c=b[a.attribute];c?c.push(a):b[a.attribute]=[a]})),b},flattenErrorsToArray:function(a){return a.map((function(a){return a.error})).filter((function(a,b,c){return c.indexOf(a)===b}))},cleanAttributes:function(a,b){function c(a,b,c){return e.isObject(a[b])?a[b]:a[b]=!!c||{}}return e.isObject(b)&&e.isObject(a)?function f(a,b){if(!e.isObject(a))return a;var c,d,g=e.extend({},a);for(d in a)c=b[d],e.isObject(c)?g[d]=f(g[d],c):c||delete g[d];return g}(a,b=function(a){var b,d={};for(b in a)a[b]&&e.forEachKeyInKeypath(d,b,c);return d}(b)):{}},exposeModule:function(a,b,c,d,e){c?(d&&d.exports&&(c=d.exports=a),c.validate=a):(b.validate=a,a.isFunction(e)&&e.amd&&e([],(function(){return a})))},warn:function(a){"undefined"!=typeof console&&console.warn&&console.warn("[validate.js] "+a)},error:function(a){"undefined"!=typeof console&&console.error&&console.error("[validate.js] "+a)}}),d.validators={presence:function(a,b){if(!1!==(b=e.extend({},this.options,b)).allowEmpty?!e.isDefined(a):e.isEmpty(a))return b.message||this.message||"can't be blank"},length:function(a,b,c){if(e.isDefined(a)){var d,f=(b=e.extend({},this.options,b)).is,g=b.maximum,h=b.minimum,j=[],k=(a=(b.tokenizer||function(a){return a})(a)).length;return e.isNumber(k)?(e.isNumber(f)&&k!==f&&(d=b.wrongLength||this.wrongLength||"is the wrong length (should be %{count} characters)",j.push(e.format(d,{count:f}))),e.isNumber(h)&&k<h&&(d=b.tooShort||this.tooShort||"is too short (minimum is %{count} characters)",j.push(e.format(d,{count:h}))),e.isNumber(g)&&k>g&&(d=b.tooLong||this.tooLong||"is too long (maximum is %{count} characters)",j.push(e.format(d,{count:g}))),j.length>0?b.message||j:void 0):b.message||this.notValid||"has an incorrect length"}},numericality:function(a,b,c,d,f){if(e.isDefined(a)){var g,h,i=[],j={greaterThan:function(a,b){return a>b},greaterThanOrEqualTo:function(a,b){return a>=b},equalTo:function(a,b){return a===b},lessThan:function(a,b){return a<b},lessThanOrEqualTo:function(a,b){return a<=b},divisibleBy:function(a,b){return a%b==0}},k=(b=e.extend({},this.options,b)).prettify||f&&f.prettify||e.prettify;if(e.isString(a)&&b.strict){var l="^-?(0|[1-9]\\d*)";if(b.onlyInteger||(l+="(\\.\\d+)?"),l+="$",!new RegExp(l).test(a))return b.message||b.notValid||this.notValid||this.message||"must be a valid number"}if(!0!==b.noStrings&&e.isString(a)&&!e.isEmpty(a)&&(a=+a),!e.isNumber(a))return b.message||b.notValid||this.notValid||this.message||"is not a number";if(b.onlyInteger&&!e.isInteger(a))return b.message||b.notInteger||this.notInteger||this.message||"must be an integer";for(g in j)if(h=b[g],e.isNumber(h)&&!j[g](a,h)){var m="not"+e.capitalize(g),n=b[m]||this[m]||this.message||"must be %{type} %{count}";i.push(e.format(n,{count:h,type:k(g)}))}return b.odd&&a%2!=1&&i.push(b.notOdd||this.notOdd||this.message||"must be odd"),b.even&&a%2!=0&&i.push(b.notEven||this.notEven||this.message||"must be even"),i.length?b.message||i:void 0}},datetime:e.extend((function(a,b){if(!e.isFunction(this.parse)||!e.isFunction(this.format))throw new Error("Both the parse and format functions needs to be set to use the datetime/date validator");if(e.isDefined(a)){var c,d=[],f=(b=e.extend({},this.options,b)).earliest?this.parse(b.earliest,b):NaN,g=b.latest?this.parse(b.latest,b):NaN;return a=this.parse(a,b),isNaN(a)||b.dateOnly&&a%864e5!=0?(c=b.notValid||b.message||this.notValid||"must be a valid date",e.format(c,{value:arguments[0]})):(!isNaN(f)&&a<f&&(c=b.tooEarly||b.message||this.tooEarly||"must be no earlier than %{date}",c=e.format(c,{value:this.format(a,b),date:this.format(f,b)}),d.push(c)),!isNaN(g)&&a>g&&(c=b.tooLate||b.message||this.tooLate||"must be no later than %{date}",c=e.format(c,{date:this.format(g,b),value:this.format(a,b)}),d.push(c)),d.length?e.unique(d):void 0)}}),{parse:null,format:null}),date:function(a,b){return b=e.extend({},b,{dateOnly:!0}),e.validators.datetime.call(e.validators.datetime,a,b)},format:function(a,b){(e.isString(b)||b instanceof RegExp)&&(b={pattern:b});var c,d=(b=e.extend({},this.options,b)).message||this.message||"is invalid",f=b.pattern;if(e.isDefined(a))return e.isString(a)?(e.isString(f)&&(f=new RegExp(b.pattern,b.flags)),(c=f.exec(a))&&c[0].length==a.length?void 0:d):d},inclusion:function(a,b){if(e.isDefined(a)&&(e.isArray(b)&&(b={within:b}),b=e.extend({},this.options,b),!e.contains(b.within,a))){var c=b.message||this.message||"^%{value} is not included in the list";return e.format(c,{value:a})}},exclusion:function(a,b){if(e.isDefined(a)&&(e.isArray(b)&&(b={within:b}),b=e.extend({},this.options,b),e.contains(b.within,a))){var c=b.message||this.message||"^%{value} is restricted";return e.isString(b.within[a])&&(a=b.within[a]),e.format(c,{value:a})}},email:e.extend((function(a,b){var c=(b=e.extend({},this.options,b)).message||this.message||"is not a valid email";if(e.isDefined(a))return e.isString(a)&&this.PATTERN.exec(a)?void 0:c}),{PATTERN:/^(?:[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i}),equality:function(a,b,c,d,f){if(e.isDefined(a)){e.isString(b)&&(b={attribute:b});var g=(b=e.extend({},this.options,b)).message||this.message||"is not equal to %{attribute}";if(e.isEmpty(b.attribute)||!e.isString(b.attribute))throw new Error("The attribute must be a non empty string");var h=e.getDeepObjectValue(d,b.attribute),i=b.comparator||function(a,b){return a===b},j=b.prettify||f&&f.prettify||e.prettify;return i(a,h,b,c,d)?void 0:e.format(g,{attribute:j(b.attribute)})}},url:function(a,b){if(e.isDefined(a)){var c=(b=e.extend({},this.options,b)).message||this.message||"is not a valid url",d=b.schemes||this.schemes||["http","https"],f=b.allowLocal||this.allowLocal||!1,g=b.allowDataUrl||this.allowDataUrl||!1;if(!e.isString(a))return c;var h="^(?:(?:"+d.join("|")+")://)(?:\\S+(?::\\S*)?@)?(?:",i="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))";if(f?i+="?":h+="(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})",h+="(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*"+i+")(?::\\d{2,5})?(?:[/?#]\\S*)?$",g){h="(?:"+h+")|(?:^data:(?:\\w+\\/[-+.\\w]+(?:;[\\w=]+)*)?(?:;base64)?,[A-Za-z0-9-_.!~\\*'();\\/?:@&=+$,%]*$)"}return new RegExp(h,"i").exec(a)?void 0:c}},type:e.extend((function(a,b,c,d,f){if(e.isString(b)&&(b={type:b}),e.isDefined(a)){var i,g=e.extend({},this.options,b),h=g.type;if(!e.isDefined(h))throw new Error("No type was specified");if(i=e.isFunction(h)?h:this.types[h],!e.isFunction(i))throw new Error("validate.validators.type.types."+h+" must be a function.");if(!i(a,g,c,d,f)){var j=b.message||this.messages[h]||this.message||g.message||(e.isFunction(h)?"must be of the correct type":"must be of type %{type}");return e.isFunction(j)&&(j=j(a,b,c,d,f)),e.format(j,{attribute:e.prettify(c),type:h})}}}),{types:{object:function(a){return e.isObject(a)&&!e.isArray(a)},array:e.isArray,integer:e.isInteger,number:e.isNumber,string:e.isString,date:e.isDate,boolean:e.isBoolean},messages:{}})},d.formatters={detailed:function(a){return a},flat:e.flattenErrorsToArray,grouped:function(a){var b;for(b in a=e.groupErrorsByAttribute(a))a[b]=e.flattenErrorsToArray(a[b]);return a},constraint:function(a){var b;for(b in a=e.groupErrorsByAttribute(a))a[b]=a[b].map((function(a){return a.validator})).sort();return a}},d.exposeModule(d,this,a,b,__webpack_require__(15))}).call(this,exports,module,__webpack_require__(15))}).call(this,__webpack_require__(19)(module))},function(module,exports,__webpack_require__){__webpack_require__(9),__webpack_require__(20),__webpack_require__(29),__webpack_require__(30),__webpack_require__(28),__webpack_require__(5),__webpack_require__(13),module.exports=__webpack_require__(0)},function(module,exports){module.exports=function(module){return module.webpackPolyfill||(module.deprecate=function(){},module.paths=[],module.children||(module.children=[]),Object.defineProperty(module,"loaded",{enumerable:!0,get:function(){return module.l}}),Object.defineProperty(module,"id",{enumerable:!0,get:function(){return module.i}}),module.webpackPolyfill=1),module}},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"IABCONSENT_CMPPRESENT_KEY",(function(){return IABCONSENT_CMPPRESENT_KEY})),__webpack_require__.d(__webpack_exports__,"IABCONSENT_SUBJECTTOGDPR_KEY",(function(){return IABCONSENT_SUBJECTTOGDPR_KEY})),__webpack_require__.d(__webpack_exports__,"IABCONSENT_CONSENTSTRING_KEY",(function(){return IABCONSENT_CONSENTSTRING_KEY})),__webpack_require__.d(__webpack_exports__,"IABCONSENT_PARSEDPURPOSECONSENTS_KEY",(function(){return IABCONSENT_PARSEDPURPOSECONSENTS_KEY})),__webpack_require__.d(__webpack_exports__,"IABCONSENT_PARSEDVENDORCONSENTS_KEY",(function(){return IABCONSENT_PARSEDVENDORCONSENTS_KEY})),__webpack_require__.d(__webpack_exports__,"default",(function(){return ConsentController}));var _src_sdk_globals__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);const IABCONSENT_CMPPRESENT_KEY="IABConsent_CMPPresent",IABCONSENT_SUBJECTTOGDPR_KEY="IABConsent_SubjectToGDPR",IABCONSENT_CONSENTSTRING_KEY="IABConsent_ConsentString",IABCONSENT_PARSEDPURPOSECONSENTS_KEY="IABConsent_ParsedPurposeConsents",IABCONSENT_PARSEDVENDORCONSENTS_KEY="IABConsent_ParsedVendorConsents",KEYS_TO_MONITOR=[IABCONSENT_CMPPRESENT_KEY,IABCONSENT_SUBJECTTOGDPR_KEY,IABCONSENT_CONSENTSTRING_KEY,IABCONSENT_PARSEDPURPOSECONSENTS_KEY,IABCONSENT_PARSEDVENDORCONSENTS_KEY];class ConsentController{constructor(nativeConsentController=HYPRNativeConsentController,sharedDataController=HYPRSharedDataController){this.sharedDataController=sharedDataController,this.nativeConsentController=nativeConsentController;for(const key of KEYS_TO_MONITOR)sharedDataController.monitorSharedValue("HYPRConsentController",key)}setConsentChangedListener(consentListener){this.consentListener=consentListener}consentStatusChanged(consent){console.debug("Consent status changed to "+Object.keys(_src_sdk_globals__WEBPACK_IMPORTED_MODULE_0__.CONSENT_STATUS)[consent]),void 0!==this.consentListener&&this.consentListener.onConsentChanged()}onValueChanged(kvMap){console.debug(`Monitored consent string ${kvMap.key} changed to ${kvMap.value}`),void 0!==this.consentListener&&this.consentListener.onConsentChanged()}getConsentParameters(){let consent={consent:{}},givenConsent=this.nativeConsentController.getConsentStatus();givenConsent!==_src_sdk_globals__WEBPACK_IMPORTED_MODULE_0__.CONSENT_STATUS.CONSENT_STATUS_UNKNOWN&&(consent.consent.is_consent_given=givenConsent===_src_sdk_globals__WEBPACK_IMPORTED_MODULE_0__.CONSENT_STATUS.CONSENT_GIVEN);let iabConsentCmpPresent=JSON.parse(this.sharedDataController.getSharedValue(IABCONSENT_CMPPRESENT_KEY)).value;void 0!==iabConsentCmpPresent&&(consent.consent.iab_consent_cmppresent=iabConsentCmpPresent);let iabConsentSubjectToGDPR=JSON.parse(this.sharedDataController.getSharedValue(IABCONSENT_SUBJECTTOGDPR_KEY)).value;void 0!==iabConsentSubjectToGDPR&&(consent.consent.iab_consent_subject_to_gdpr=iabConsentSubjectToGDPR);let iabConsentString=JSON.parse(this.sharedDataController.getSharedValue(IABCONSENT_CONSENTSTRING_KEY)).value;void 0!==iabConsentString&&(consent.consent.iab_consent_string=iabConsentString);let iabConsenParsedPurposeContents=JSON.parse(this.sharedDataController.getSharedValue(IABCONSENT_PARSEDPURPOSECONSENTS_KEY)).value;void 0!==iabConsenParsedPurposeContents&&(consent.consent.iab_consent_parsed_purpose_consents=iabConsenParsedPurposeContents);let iabConsentParsedVendorConsents=JSON.parse(this.sharedDataController.getSharedValue(IABCONSENT_PARSEDVENDORCONSENTS_KEY)).value;return void 0!==iabConsentParsedVendorConsents&&(consent.consent.iab_consent_parsed_vendor_consents=iabConsentParsedVendorConsents),console.debug(JSON.stringify(consent)),consent}}globalThis.ConsentController=ConsentController},function(module,exports){var g;g=function(){return this}();try{g=g||new Function("return this")()}catch(e){"object"==typeof window&&(g=window)}module.exports=g},function(module,exports,__webpack_require__){const util=__webpack_require__(6),convertToJson=function(node,options){const jObj={};if(!(node.child&&!util.isEmptyObject(node.child)||node.attrsMap&&!util.isEmptyObject(node.attrsMap)))return util.isExist(node.val)?node.val:"";util.isExist(node.val)&&("string"!=typeof node.val||""!==node.val&&node.val!==options.cdataPositionChar)&&("strict"===options.arrayMode?jObj[options.textNodeName]=[node.val]:jObj[options.textNodeName]=node.val),util.merge(jObj,node.attrsMap,options.arrayMode);const keys=Object.keys(node.child);for(let index=0;index<keys.length;index++){var tagname=keys[index];if(node.child[tagname]&&node.child[tagname].length>1)for(var tag in jObj[tagname]=[],node.child[tagname])jObj[tagname].push(convertToJson(node.child[tagname][tag],options));else if(!0===options.arrayMode){const result=convertToJson(node.child[tagname][0],options);jObj[tagname]="object"==typeof result?[result]:result}else"strict"===options.arrayMode?jObj[tagname]=[convertToJson(node.child[tagname][0],options)]:jObj[tagname]=convertToJson(node.child[tagname][0],options)}return jObj};exports.convertToJson=convertToJson},function(module,exports,__webpack_require__){module.exports=function(tagname,parent,val){this.tagname=tagname,this.parent=parent,this.child={},this.attrsMap={},this.val=val,this.addChild=function(child){Array.isArray(this.child[child.tagname])?this.child[child.tagname].push(child):this.child[child.tagname]=[child]}}},function(module,exports,__webpack_require__){const util=__webpack_require__(6),defaultOptions={allowBooleanAttributes:!1},props=["allowBooleanAttributes"];function readPI(xmlData,i){for(var start=i;i<xmlData.length;i++)if("?"!=xmlData[i]&&" "!=xmlData[i]);else{var tagname=xmlData.substr(start,i-start);if(i>5&&"xml"===tagname)return getErrorObject("InvalidXml","XML declaration allowed only at the start of the document.",getLineNumberForPosition(xmlData,i));if("?"==xmlData[i]&&">"==xmlData[i+1]){i++;break}}return i}function readCommentAndCDATA(xmlData,i){if(xmlData.length>i+5&&"-"===xmlData[i+1]&&"-"===xmlData[i+2]){for(i+=3;i<xmlData.length;i++)if("-"===xmlData[i]&&"-"===xmlData[i+1]&&">"===xmlData[i+2]){i+=2;break}}else if(xmlData.length>i+8&&"D"===xmlData[i+1]&&"O"===xmlData[i+2]&&"C"===xmlData[i+3]&&"T"===xmlData[i+4]&&"Y"===xmlData[i+5]&&"P"===xmlData[i+6]&&"E"===xmlData[i+7]){let angleBracketsCount=1;for(i+=8;i<xmlData.length;i++)if("<"===xmlData[i])angleBracketsCount++;else if(">"===xmlData[i]&&(angleBracketsCount--,0===angleBracketsCount))break}else if(xmlData.length>i+9&&"["===xmlData[i+1]&&"C"===xmlData[i+2]&&"D"===xmlData[i+3]&&"A"===xmlData[i+4]&&"T"===xmlData[i+5]&&"A"===xmlData[i+6]&&"["===xmlData[i+7])for(i+=8;i<xmlData.length;i++)if("]"===xmlData[i]&&"]"===xmlData[i+1]&&">"===xmlData[i+2]){i+=2;break}return i}exports.validate=function(xmlData,options){options=util.buildOptions(options,defaultOptions,props);const tags=[];let tagFound=!1,reachedRoot=!1;"\ufeff"===xmlData[0]&&(xmlData=xmlData.substr(1));for(let i=0;i<xmlData.length;i++){if("<"!==xmlData[i]){if(" "===xmlData[i]||"\t"===xmlData[i]||"\n"===xmlData[i]||"\r"===xmlData[i])continue;return getErrorObject("InvalidChar","char '"+xmlData[i]+"' is not expected.",getLineNumberForPosition(xmlData,i))}if(i++,"?"===xmlData[i]){if(i=readPI(xmlData,++i),i.err)return i}else{if("!"===xmlData[i]){i=readCommentAndCDATA(xmlData,i);continue}{let closingTag=!1;"/"===xmlData[i]&&(closingTag=!0,i++);let tagName="";for(;i<xmlData.length&&">"!==xmlData[i]&&" "!==xmlData[i]&&"\t"!==xmlData[i]&&"\n"!==xmlData[i]&&"\r"!==xmlData[i];i++)tagName+=xmlData[i];if(tagName=tagName.trim(),"/"===tagName[tagName.length-1]&&(tagName=tagName.substring(0,tagName.length-1),i--),tagname=tagName,!util.isName(tagname)){let msg;return msg=0===tagName.trim().length?"There is an unnecessary space between tag name and backward slash '</ ..'.":"Tag '"+tagName+"' is an invalid name.",getErrorObject("InvalidTag",msg,getLineNumberForPosition(xmlData,i))}const result=readAttributeStr(xmlData,i);if(!1===result)return getErrorObject("InvalidAttr","Attributes for '"+tagName+"' have open quote.",getLineNumberForPosition(xmlData,i));let attrStr=result.value;if(i=result.index,"/"===attrStr[attrStr.length-1]){attrStr=attrStr.substring(0,attrStr.length-1);const isValid=validateAttributeString(attrStr,options);if(!0!==isValid)return getErrorObject(isValid.err.code,isValid.err.msg,getLineNumberForPosition(xmlData,i-attrStr.length+isValid.err.line));tagFound=!0}else if(closingTag){if(!result.tagClosed)return getErrorObject("InvalidTag","Closing tag '"+tagName+"' doesn't have proper closing.",getLineNumberForPosition(xmlData,i));if(attrStr.trim().length>0)return getErrorObject("InvalidTag","Closing tag '"+tagName+"' can't have attributes or invalid starting.",getLineNumberForPosition(xmlData,i));{const otg=tags.pop();if(tagName!==otg)return getErrorObject("InvalidTag","Closing tag '"+otg+"' is expected inplace of '"+tagName+"'.",getLineNumberForPosition(xmlData,i));0==tags.length&&(reachedRoot=!0)}}else{const isValid=validateAttributeString(attrStr,options);if(!0!==isValid)return getErrorObject(isValid.err.code,isValid.err.msg,getLineNumberForPosition(xmlData,i-attrStr.length+isValid.err.line));if(!0===reachedRoot)return getErrorObject("InvalidXml","Multiple possible root nodes found.",getLineNumberForPosition(xmlData,i));tags.push(tagName),tagFound=!0}for(i++;i<xmlData.length;i++){if("<"===xmlData[i]){if("!"===xmlData[i+1]){i++,i=readCommentAndCDATA(xmlData,i);continue}break}if("&"===xmlData[i]){const afterAmp=validateAmpersand(xmlData,i);if(-1==afterAmp)return getErrorObject("InvalidChar","char '&' is not expected.",getLineNumberForPosition(xmlData,i));i=afterAmp}}"<"===xmlData[i]&&i--}}}var tagname;return tagFound?!(tags.length>0)||getErrorObject("InvalidXml","Invalid '"+JSON.stringify(tags,null,4).replace(/\r?\n/g,"")+"' found.",1):getErrorObject("InvalidXml","Start tag expected.",1)};function readAttributeStr(xmlData,i){let attrStr="",startChar="",tagClosed=!1;for(;i<xmlData.length;i++){if('"'===xmlData[i]||"'"===xmlData[i])if(""===startChar)startChar=xmlData[i];else{if(startChar!==xmlData[i])continue;startChar=""}else if(">"===xmlData[i]&&""===startChar){tagClosed=!0;break}attrStr+=xmlData[i]}return""===startChar&&{value:attrStr,index:i,tagClosed:tagClosed}}const validAttrStrRegxp=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function validateAttributeString(attrStr,options){const matches=util.getAllMatches(attrStr,validAttrStrRegxp),attrNames={};for(let i=0;i<matches.length;i++){if(0===matches[i][1].length)return getErrorObject("InvalidAttr","Attribute '"+matches[i][2]+"' has no space in starting.",getPositionFromMatch(attrStr,matches[i][0]));if(void 0===matches[i][3]&&!options.allowBooleanAttributes)return getErrorObject("InvalidAttr","boolean attribute '"+matches[i][2]+"' is not allowed.",getPositionFromMatch(attrStr,matches[i][0]));const attrName=matches[i][2];if(!validateAttrName(attrName))return getErrorObject("InvalidAttr","Attribute '"+attrName+"' is an invalid name.",getPositionFromMatch(attrStr,matches[i][0]));if(attrNames.hasOwnProperty(attrName))return getErrorObject("InvalidAttr","Attribute '"+attrName+"' is repeated.",getPositionFromMatch(attrStr,matches[i][0]));attrNames[attrName]=1}return!0}function validateAmpersand(xmlData,i){if(";"===xmlData[++i])return-1;if("#"===xmlData[i])return function(xmlData,i){let re=/\d/;for("x"===xmlData[i]&&(i++,re=/[\da-fA-F]/);i<xmlData.length;i++){if(";"===xmlData[i])return i;if(!xmlData[i].match(re))break}return-1}(xmlData,++i);let count=0;for(;i<xmlData.length;i++,count++)if(!(xmlData[i].match(/\w/)&&count<20)){if(";"===xmlData[i])break;return-1}return i}function getErrorObject(code,message,lineNumber){return{err:{code:code,msg:message,line:lineNumber}}}function validateAttrName(attrName){return util.isName(attrName)}function getLineNumberForPosition(xmlData,index){return xmlData.substring(0,index).split(/\r?\n/).length}function getPositionFromMatch(attrStr,match){return attrStr.indexOf(match)+match.length}},function(module,exports,__webpack_require__){const char=function(a){return String.fromCharCode(a)},chars={nilChar:char(176),missingChar:char(201),nilPremitive:char(175),missingPremitive:char(200),emptyChar:char(178),emptyValue:char(177),boundryChar:char(179),objStart:char(198),arrStart:char(204),arrayEnd:char(185)},charsArr=[chars.nilChar,chars.nilPremitive,chars.missingChar,chars.missingPremitive,chars.boundryChar,chars.emptyChar,chars.emptyValue,chars.arrayEnd,chars.objStart,chars.arrStart],_e=function(node,e_schema,options){if("string"==typeof e_schema)return node&&node[0]&&void 0!==node[0].val?getValue(node[0].val,e_schema):getValue(node,e_schema);{const hasValidData=void 0===(jObj=node)?chars.missingChar:null===jObj?chars.nilChar:!(jObj.child&&0===Object.keys(jObj.child).length&&(!jObj.attrsMap||0===Object.keys(jObj.attrsMap).length))||chars.emptyChar;if(!0===hasValidData){let str="";if(Array.isArray(e_schema)){str+=chars.arrStart;const itemSchema=e_schema[0],arr_len=node.length;if("string"==typeof itemSchema)for(let arr_i=0;arr_i<arr_len;arr_i++){const r=getValue(node[arr_i].val,itemSchema);str=processValue(str,r)}else for(let arr_i=0;arr_i<arr_len;arr_i++){const r=_e(node[arr_i],itemSchema,options);str=processValue(str,r)}str+=chars.arrayEnd}else{str+=chars.objStart;const keys=Object.keys(e_schema);Array.isArray(node)&&(node=node[0]);for(let i in keys){const key=keys[i];let r;r=!options.ignoreAttributes&&node.attrsMap&&node.attrsMap[key]?_e(node.attrsMap[key],e_schema[key],options):key===options.textNodeName?_e(node.val,e_schema[key],options):_e(node.child[key],e_schema[key],options),str=processValue(str,r)}}return str}return hasValidData}var jObj},getValue=function(a){switch(a){case void 0:return chars.missingPremitive;case null:return chars.nilPremitive;case"":return chars.emptyValue;default:return a}},processValue=function(str,r){return isAppChar(r[0])||isAppChar(str[str.length-1])||(str+=chars.boundryChar),str+r},isAppChar=function(ch){return-1!==charsArr.indexOf(ch)};const x2j=__webpack_require__(10),buildOptions=__webpack_require__(6).buildOptions;exports.convert2nimn=function(node,e_schema,options){return options=buildOptions(options,x2j.defaultOptions,x2j.props),_e(node,e_schema,options)}},function(module,exports,__webpack_require__){const util=__webpack_require__(6),buildOptions=__webpack_require__(6).buildOptions,x2j=__webpack_require__(10),_cToJsonStr=function(node,options,level){let jObj="{";const keys=Object.keys(node.child);for(let index=0;index<keys.length;index++){var tagname=keys[index];if(node.child[tagname]&&node.child[tagname].length>1){for(var tag in jObj+='"'+tagname+'" : [ ',node.child[tagname])jObj+=_cToJsonStr(node.child[tagname][tag],options)+" , ";jObj=jObj.substr(0,jObj.length-1)+" ] "}else jObj+='"'+tagname+'" : '+_cToJsonStr(node.child[tagname][0],options)+" ,"}return util.merge(jObj,node.attrsMap),util.isEmptyObject(jObj)?util.isExist(node.val)?node.val:"":(util.isExist(node.val)&&("string"!=typeof node.val||""!==node.val&&node.val!==options.cdataPositionChar)&&(jObj+='"'+options.textNodeName+'" : '+(!0!==(v=node.val)&&!1!==v&&isNaN(v)?'"'+v+'"':v)),","===jObj[jObj.length-1]&&(jObj=jObj.substr(0,jObj.length-2)),jObj+"}");var v};exports.convertToJsonString=function(node,options){return(options=buildOptions(options,x2j.defaultOptions,x2j.props)).indentBy=options.indentBy||"",_cToJsonStr(node,options,0)}},function(module,exports,__webpack_require__){const buildOptions=__webpack_require__(6).buildOptions,defaultOptions={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataTagName:!1,cdataPositionChar:"\\c",format:!1,indentBy:"  ",supressEmptyNode:!1,tagValueProcessor:function(a){return a},attrValueProcessor:function(a){return a}},props=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","cdataTagName","cdataPositionChar","format","indentBy","supressEmptyNode","tagValueProcessor","attrValueProcessor"];function Parser(options){this.options=buildOptions(options,defaultOptions,props),this.options.ignoreAttributes||this.options.attrNodeName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=isAttribute),this.options.cdataTagName?this.isCDATA=isCDATA:this.isCDATA=function(){return!1},this.replaceCDATAstr=replaceCDATAstr,this.replaceCDATAarr=replaceCDATAarr,this.options.format?(this.indentate=indentate,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.supressEmptyNode?(this.buildTextNode=buildEmptyTextNode,this.buildObjNode=buildEmptyObjNode):(this.buildTextNode=buildTextValNode,this.buildObjNode=buildObjectNode),this.buildTextValNode=buildTextValNode,this.buildObjectNode=buildObjectNode}function replaceCDATAstr(str,cdata){return str=this.options.tagValueProcessor(""+str),""===this.options.cdataPositionChar||""===str?str+"<![CDATA["+cdata+"]]"+this.tagEndChar:str.replace(this.options.cdataPositionChar,"<![CDATA["+cdata+"]]"+this.tagEndChar)}function replaceCDATAarr(str,cdata){if(str=this.options.tagValueProcessor(""+str),""===this.options.cdataPositionChar||""===str)return str+"<![CDATA["+cdata.join("]]><![CDATA[")+"]]"+this.tagEndChar;for(let v in cdata)str=str.replace(this.options.cdataPositionChar,"<![CDATA["+cdata[v]+"]]>");return str+this.newLine}function buildObjectNode(val,key,attrStr,level){return attrStr&&!val.includes("<")?this.indentate(level)+"<"+key+attrStr+">"+val+"</"+key+this.tagEndChar:this.indentate(level)+"<"+key+attrStr+this.tagEndChar+val+this.indentate(level)+"</"+key+this.tagEndChar}function buildEmptyObjNode(val,key,attrStr,level){return""!==val?this.buildObjectNode(val,key,attrStr,level):this.indentate(level)+"<"+key+attrStr+"/"+this.tagEndChar}function buildTextValNode(val,key,attrStr,level){return this.indentate(level)+"<"+key+attrStr+">"+this.options.tagValueProcessor(val)+"</"+key+this.tagEndChar}function buildEmptyTextNode(val,key,attrStr,level){return""!==val?this.buildTextValNode(val,key,attrStr,level):this.indentate(level)+"<"+key+attrStr+"/"+this.tagEndChar}function indentate(level){return this.options.indentBy.repeat(level)}function isAttribute(name){return!!name.startsWith(this.options.attributeNamePrefix)&&name.substr(this.attrPrefixLen)}function isCDATA(name){return name===this.options.cdataTagName}Parser.prototype.parse=function(jObj){return this.j2x(jObj,0).val},Parser.prototype.j2x=function(jObj,level){let attrStr="",val="";const keys=Object.keys(jObj),len=keys.length;for(let i=0;i<len;i++){const key=keys[i];if(void 0===jObj[key]);else if(null===jObj[key])val+=this.indentate(level)+"<"+key+"/"+this.tagEndChar;else if(jObj[key]instanceof Date)val+=this.buildTextNode(jObj[key],key,"",level);else if("object"!=typeof jObj[key]){const attr=this.isAttribute(key);attr?attrStr+=" "+attr+'="'+this.options.attrValueProcessor(""+jObj[key])+'"':this.isCDATA(key)?jObj[this.options.textNodeName]?val+=this.replaceCDATAstr(jObj[this.options.textNodeName],jObj[key]):val+=this.replaceCDATAstr("",jObj[key]):key===this.options.textNodeName?jObj[this.options.cdataTagName]||(val+=this.options.tagValueProcessor(""+jObj[key])):val+=this.buildTextNode(jObj[key],key,"",level)}else if(Array.isArray(jObj[key]))if(this.isCDATA(key))val+=this.indentate(level),jObj[this.options.textNodeName]?val+=this.replaceCDATAarr(jObj[this.options.textNodeName],jObj[key]):val+=this.replaceCDATAarr("",jObj[key]);else{const arrLen=jObj[key].length;for(let j=0;j<arrLen;j++){const item=jObj[key][j];if(void 0===item);else if(null===item)val+=this.indentate(level)+"<"+key+"/"+this.tagEndChar;else if("object"==typeof item){const result=this.j2x(item,level+1);val+=this.buildObjNode(result.val,key,result.attrStr,level)}else val+=this.buildTextNode(item,key,"",level)}}else if(this.options.attrNodeName&&key===this.options.attrNodeName){const Ks=Object.keys(jObj[key]),L=Ks.length;for(let j=0;j<L;j++)attrStr+=" "+Ks[j]+'="'+this.options.attrValueProcessor(""+jObj[key][Ks[j]])+'"'}else{const result=this.j2x(jObj[key],level+1);val+=this.buildObjNode(result.val,key,result.attrStr,level)}}return{attrStr:attrStr,val:val}},module.exports=Parser},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"PresentationController",(function(){return PresentationController_PresentationController})),__webpack_require__.d(__webpack_exports__,"HYPR_NEXT_BUTTON_TEXT_KEY",(function(){return HYPR_NEXT_BUTTON_TEXT_KEY})),__webpack_require__.d(__webpack_exports__,"HYPR_FINISH_BUTTON_TEXT_KEY",(function(){return HYPR_FINISH_BUTTON_TEXT_KEY})),__webpack_require__.d(__webpack_exports__,"HYPR_TITLE_TEXT_KEY",(function(){return HYPR_TITLE_TEXT_KEY})),__webpack_require__.d(__webpack_exports__,"HYPR_COUNTDOWN_TEXT_KEY",(function(){return HYPR_COUNTDOWN_TEXT_KEY})),__webpack_require__.d(__webpack_exports__,"HYPR_WEB_VIEW_PROTOCOLS",(function(){return HYPR_WEB_VIEW_PROTOCOLS})),__webpack_require__.d(__webpack_exports__,"HYPR_AD_STATE_PROSCENIUM",(function(){return HYPR_AD_STATE_PROSCENIUM}));var AdProgressTracking=__webpack_require__(11),JSONValidator=__webpack_require__(4),NetworkRequestController=__webpack_require__(1),sdk_globals=__webpack_require__(0),ConnectionConfiguration=__webpack_require__(2);class CatalogFrame_CatalogFrame{constructor(params,presentationListener,networkRequestController=globalThis.HYPRNetworkController){this.params=params,this.presentationListener=presentationListener,this.networkRequestController=networkRequestController,this.request=void 0,this.thankYouURL=void 0,this.trampoline=void 0}startCatalogFrameRequest(catalogFrameUrl){let connectionConfiguration=new ConnectionConfiguration.a(!0,ConnectionConfiguration.e,ConnectionConfiguration.b,{"Content-Type":ConnectionConfiguration.g,Accept:ConnectionConfiguration.f});this.request=this.networkRequestController.request(catalogFrameUrl,this.params,NetworkRequestController.a.POST,connectionConfiguration,(code,body,error)=>{this.responseCallback(code,body,error)})}abortInProgressRequest(){this.presentationListener=void 0,void 0!==this.request&&(this.networkRequestController.abortRequest(this.request),this.request=void 0)}responseCallback(code,body,error){if(void 0!==error||!NetworkRequestController.b.validResponseStatus(code))return console.error("catalogFrame error received: "+error),void(void 0!==this.presentationListener&&this.presentationListener.catalogFrameError(`CatalogFrame error: ${error}, status Code: ${code}`));let trampoline=Object(sdk_globals.parseJSON)(body);CatalogFrame_CatalogFrame.validateTrampoline(trampoline)?(this.trampoline=trampoline,void 0!==this.presentationListener&&this.presentationListener.catalogFrameSuccess()):void 0!==this.presentationListener&&this.presentationListener.catalogFrameError("Trampoline failed validation")}static validateTrampoline(trampoline){return"object"==typeof trampoline&&(0!==Object.keys(trampoline).length&&(void 0!==trampoline.token&&(void 0!==trampoline.reward_token&&void 0!==trampoline.viewing_id)))}webtrafficSdkConfiguration(){return void 0===this.trampoline||Object.keys(this.trampoline).length<1?{}:{completion_url:this.completionUrl(),maximum_page_load_wait_time_in_seconds:this.trampoline.maximum_page_load_wait_time_in_seconds,viewing_id:this.trampoline.viewing_id,minimum_visit_time_in_seconds:this.trampoline.visit_length,urls:this.webTrafficPagesArray()}}completionUrl(){return void 0!==this.trampoline.redirection_url?this.trampoline.redirection_url+"&do_completion=1&phase=thank_you&recovery=1":""}webTrafficPagesArray(){let onPageJS="object"==typeof this.trampoline.page_load_js?this.trampoline.page_load_js:{},jsMap=onPageJS.map,jsArray=onPageJS.js,urlsArray=[];for(const index in this.trampoline.urls)if(this.trampoline.urls.hasOwnProperty(index)){let js,aUrl=this.trampoline.urls[index];void 0!==jsMap&&void 0!==jsArray&&(js=jsArray[jsMap[index]]),void 0===js&&(js="");let webTrafficPage={url:aUrl,on_page_load_js:[js]};urlsArray.push(webTrafficPage)}return urlsArray}impressionURLs(){let impressionResult=[];if(this.trampoline.tracking_impression_html.length>0){let trackings=this.trampoline.tracking_impression_html.replace(/"/g,"'").split("'");for(const tracking of trackings)JSONValidator.a.urlValidation(tracking,["http","https"])&&impressionResult.push(tracking)}return impressionResult}}var Placement=__webpack_require__(5),TransparencyTracking=__webpack_require__(7);class NavigationDecision{constructor(decision,url){this.decision=decision,this.url=url}}const HYPR_NAVIGATION_DECISION_NAVIGATION_ALLOWED="NAVIGATION_ALLOWED",HYPR_NAVIGATION_DECISION_NAVIGATION_BLOCKED="NAVIGATION_BLOCKED",HYPR_NAVIGATION_DECISION_OPEN_OUTSIDE_APPLICATION="OPEN_OUTSIDE_APPLICATION",HYPR_NAVIGATION_DECISION_NAVIGATION_REDIRECTED="NAVIGATION_REDIRECTED";class StorePresentationController_StorePresentationController{constructor(configuration,storePresentationListener,adnetworkSignatureEndpoint,networkRequestController=globalThis.HYPRNetworkController){this.configuration=configuration,this.listener=storePresentationListener,this.networkRequestController=networkRequestController,this.adnetworkSignatureEndpoint=adnetworkSignatureEndpoint,this.presentationModes=StorePresentationController_StorePresentationController.getSupportedPresentationModes(configuration),this.request=void 0}presentStore(appStoreParameters,placement,mode){let presentationMode=this.getStorePresentationMode(placement,mode);this.fetchAttributionSignature(appStoreParameters,presentationMode,placement)}parseUrlForAppleOverlayParams(url){if(HYPR_ITUNES_URL_DOMAINS.filter((function(domain){return url.includes(domain)})).length<1)return;let itunesParams=StorePresentationController_StorePresentationController.getUrlParams(url),itunesId=StorePresentationController_StorePresentationController.getAppStoreId(url.split("?").shift(),itunesParams);return void 0!==itunesId?{url:url,SKStoreProductParameterITunesItemIdentifier:itunesId,SKStoreProductParameterAffiliateToken:itunesParams.at,SKStoreProductParameterCampaignToken:itunesParams.ct,SKStoreProductParameterProviderToken:itunesParams.pt}:void 0}fetchAttributionSignature(storeParams,mode,placement){let connectionConfiguration=new ConnectionConfiguration.a(!0,ConnectionConfiguration.e,ConnectionConfiguration.b,{"Content-Type":ConnectionConfiguration.g,Accept:ConnectionConfiguration.f}),baseParams=JSON.parse(HYPRRequestParamListener.getTrackingParams());baseParams.app_store_params=storeParams,baseParams=placement.compileRequestParamsFromParams(baseParams,null),baseParams.offer=placement.getOfferName();let compactParamString=JSON.stringify(JSONValidator.a.compact(baseParams));this.request=this.networkRequestController.request(this.adnetworkSignatureEndpoint,compactParamString,NetworkRequestController.a.POST,connectionConfiguration,(code,body,error)=>{this.responseCallback(code,body,error,storeParams,mode)})}responseCallback(code,body,error,storeParams,presentationMode){console.log(`SKAdNetwork Signature response received with status: ${code} error: ${error}`),this.request=void 0;let finalParamString=JSON.stringify(storeParams);204!==code&&NetworkRequestController.b.validResponseStatus(code)&&(finalParamString=JSON.stringify(Object(sdk_globals.parseJSON)(body))),this.listener.showAppStore(presentationMode,finalParamString)}static getAppStoreId(baseUrl,query){if(void 0!==query.id)return parseInt(query.id);let potentialId=baseUrl.split("/").slice(-1).shift();0===potentialId.indexOf("id")&&(potentialId=potentialId.split("id").slice(-1).shift());let potentialIdNumber=parseInt(potentialId);return isNaN(potentialIdNumber)?void 0:potentialIdNumber}static getUrlParams(url){const params={};let queryIndex=url.indexOf("?");if(-1===queryIndex||queryIndex+1===url.length)return params;return url.slice(url.indexOf("?")+1).split("&").map(hash=>{const[key,val]=hash.split("=");params[key]=decodeURIComponent(val)}),params}getStorePresentationMode(placement,mode){return void 0===mode&&(mode=this.presentationModeForPlacement(placement)),console.debug("StorePresentationController: preferred store presentation mode: "+mode),this.presentationModes.indexOf(mode)>-1?(console.debug("StorePresentationController: using preferred store presentation mode: "+mode),mode):(console.debug("StorePresentationController: fallback to store presentation mode: "+this.presentationModes[0]),this.presentationModes[0])}presentationModeForPlacement(placement){return void 0!==placement&&placement.shouldAppStoreUseOverlay()?OVERLAY_APP_STORE:FULLSCREEN_APP_STORE}static getSupportedPresentationModes(deviceConfig){const modes=[];return deviceConfig.isIos()&&deviceConfig.isPortraitSupported()&&modes.push(FULLSCREEN_APP_STORE),deviceConfig.isIos()&&deviceConfig.version>=14&&modes.push(OVERLAY_APP_STORE),modes.push(APP_STORE_OUTSIDE_APP),console.debug("StorePresentationController: available presentation modes: "+JSON.stringify(modes)),modes}}const FULLSCREEN_APP_STORE="fullscreen",OVERLAY_APP_STORE="overlay",APP_STORE_OUTSIDE_APP="outside_app",HYPR_ITUNES_URL_DOMAINS=["itunes.apple.com","apps.apple.com"];class DeviceConfiguration{constructor(params){this.version=DeviceConfiguration.osVersion(params.device_os_version),this.platform=DeviceConfiguration.devicePlatform(params.device_type),this.orientations=DeviceConfiguration.supportedInterfaceSettings(params.supported_interface_settings)}isIos(){return"iOS"===this.platform}isPortraitSupported(){return this.orientations.indexOf("portrait")>-1}static osVersion(versionString){return void 0===versionString||-1===versionString.indexOf(".")?0:parseFloat(versionString.match(/[0-9]*.[0-9]*/)[0])}static devicePlatform(deviceType){return void 0===deviceType?"unknown":deviceType.includes("iP")||deviceType.toLowerCase().includes("mac")?"iOS":deviceType.toLowerCase().includes("android")?"Android":"unknown"}static supportedInterfaceSettings(orientationArray){const results=[];return void 0===orientationArray||orientationArray.forEach((function(value){let orientation=value.split("UIInterfaceOrientation")[1];void 0!==orientation&&results.push(orientation.toLowerCase())})),results}}class PresentationController_PresentationController{constructor(args={},eventController=HYPREventController,presentationListener=HYPRPresentationListener,preloadController=HYPRPreloadController){void 0!==args.userId?this.userID=args.userId:this.userID="",this.listener=presentationListener,this.eventController=eventController,this.preloadController=preloadController,this.presentedPlacement=void 0,this.catalogFrame=void 0,this.placementController="undefined"!=typeof HYPRPlacementController?HYPRPlacementController:void 0,this.initConfiguration="undefined"!=typeof HYPRInitializationController?HYPRInitializationController.getConfiguration():void 0,this.storePresentationController=new StorePresentationController_StorePresentationController(new DeviceConfiguration(HYPRRequestParameterManager.cache),this,void 0!==this.initConfiguration?this.initConfiguration.skadnetwork_signature_endpoint:void 0)}showAd(placementName,placementController=HYPRPlacementController){void 0===this.placementController&&(this.placementController=placementController);const placement=this.placementController.getPlacement(placementName);void 0!==placement?this.isPresentationLockedWithAnotherPlacement(placement)?this.adFailedToDisplay(placementName,`PresentationController.showAd(${placementName}) is locked with ${this.presentedPlacement.name}.`):this.isPresentationLocked()?this.listener.adDisplayError(placementName,`PresentationController already showing ad for placement ${placementName}.`):this.beginPresentation(placement):this.adFailedToDisplay(placementName,`PresentationController cannot show an ad for ${placementName}.  Placement undefined.`)}beginPresentation(placement){try{this.lockPresentationWithPlacement(placement)}catch(error){return this.adFailedToDisplay(placement.name,`PresentationController.beginPresentation(${placement.name}) reported ${error.message}`),void(error.message.includes(PRESENTATION_LOCKED_ERROR)||this.endPresentation(!1))}if(TransparencyTracking.a.canPrompt(this.initConfiguration)){console.debug("PresentationController will prompt for TransparencyTracking approval");try{return void TransparencyTracking.a.prompt("HYPRPresentationController.beginPresentation(HYPRPresentationController.presentedPlacement)")}catch(error){console.error(`PresentationController.beginPresentation(${placement.name}) error displaying prompt.`)}}this.presentedPlacement.hasRequiredInformation()?this.presentRequiredInfoForPlacement(this.presentedPlacement):placement.hasAd()?this.presentAdForPlacement(this.presentedPlacement):this.presentNoAdForPlacement(this.presentedPlacement)}presentRequiredInfoForPlacement(placement){console.debug(`PresentationController.beginPresentation(${placement.name}) showing ReqInfo`),this.eventController.sendUserInfoTrackingEvent(placement,placement.getRequiredInfoString()),this.listener.showRequiredInfo(placement.getRequiredInfoString(),placement.getUIComponentsString())}presentAdForPlacement(placement){console.debug(`PresentationController.presentAdForPlacement(${placement.name}) to show ${placement.getAdType()} offer`),HYPRRequestParamListener.getCatalogFrameParams(placement.name,"HYPRPresentationController.presentAdForPlacementWithCatalogFrameParams")}presentNoAdForPlacement(placement){console.debug(`PresentationController.beginPresentation(${placement.name}) has no ad to show`),this.eventController.sendNoAdTracking(placement),this.listener.showNoAd(placement.getUIComponentsString()),this.clearAdStateOnPlacementForCurrentAd()}presentAdForPlacementWithCatalogFrameParams(placementName,baseCatalogFrameParams){let placement;if(void 0===this.presentedPlacement||this.presentedPlacement.name!==placementName)return this.listener.adDisplayError(placementName,"Could not present ad for "+placementName),void this.endPresentation(!1);placement=this.presentedPlacement;const catalogFrameParams=Placement.Placement.catalogFrameParametersForPlacement(placement,baseCatalogFrameParams);if(placement.getAdType()===sdk_globals.VAST_VIDEO_OFFER)this.listener.showVastOffer(placement.getAdString(),placement.id,catalogFrameParams,this.openMeasurementCustomData()),this.startCatalogFrame(catalogFrameParams);else if(placement.getAdType()===sdk_globals.MRAID_OFFER)this.listener.showMraidOffer(placement.getAdString(),placement.getUIComponentsString(),placement.name,placement.id,catalogFrameParams);else if(placement.getAdType()===sdk_globals.WEB_TRAFFIC_OFFER)this.listener.showWebtrafficOffer(placement.getAdString(),placement.getUIComponentsString(),placement.id,catalogFrameParams),!0===placement.ad.skip_proscenium&&this.startCatalogFrame(catalogFrameParams);else{if(!placement.hasAd())return console.debug(`PresentationController.presentAdForPlacementWithCatalogFrameParams(${placement.name}) has no ad to show`),void this.presentNoAdForPlacement(placement);this.listener.showWebOffer(placement.getAdString(),placement.getUIComponentsString(),placement.id,catalogFrameParams)}this.clearAdStateOnPlacementForCurrentAd()}startCatalogFrame(catalogFrameParams){this.catalogFrame=new CatalogFrame_CatalogFrame(catalogFrameParams,this),this.catalogFrame.startCatalogFrameRequest(this.presentedPlacement.ad.catalog_frame_url)}clearAdStateOnPlacementForCurrentAd(){try{this.placementController.getPlacement(this.presentedPlacement.name).clearAdAndStopAdAvailableTimer()}catch(error){console.debug("PresentationController.clearAdStateOnPlacementForCurrentAd caught error "+error.message)}}endPresentation(finished){if("object"!=typeof this.presentedPlacement)return void console.debug("endPresentation called without a presentedPlacement (see PLAYER-15335)");const placementName=this.presentedPlacement.name;console.debug(`PresentationController.endPresentation(${this.presentedPlacement.name})`),this.placementController.startAdRefresh(Placement.POST_AD_REFRESH),this.preloadController.refreshForPlacement(this.presentedPlacement),this.presentedPlacement=void 0,void 0!==this.catalogFrame&&(this.catalogFrame.abortInProgressRequest(),this.catalogFrame=void 0),finished?this.listener.adFinished(placementName):this.listener.adCanceled(placementName)}lockPresentationWithPlacement(placement){if(this.isPresentationLockedWithAnotherPlacement(placement))throw new Error(`${PRESENTATION_LOCKED_ERROR} ${this.presentedPlacement.name}`);placement.stopAdAvailableTimer(),this.isPresentationLocked()||(console.debug(`PresentationController.lockPresentationWithPlacement(${placement.name})`),this.listener.adStarted(placement.name),this.presentedPlacement=Placement.Placement.deepCopy(placement),this.catalogFrame=void 0,(placement.hasRequiredInformation()||placement.hasAd())&&this.eventController.sendAdImpressionTrackingEvent(placement),this.adProgress=void 0)}adFailedToDisplay(placementName,message){console.debug(message),this.listener.adStarted(placementName),this.listener.adDisplayError(placementName,message),this.listener.adFinished(placementName)}isPresentationLockedWithAnotherPlacement(placement){return void 0!==this.presentedPlacement&&!placement.isEqualToPlacement(this.presentedPlacement)}isPresentationLocked(){return void 0!==this.presentedPlacement}requiredInfoPresentationCompletedWithParams(params){console.debug("PresentationController - Prequal form finished with questions answered");let presentationController=this;this.presentedPlacement.loadAd(params,(function(placement,error){void 0!==error&&console.debug("Error received on loading Ad: "+error),presentationController.beginPresentation(placement)}))}requiredInfoPresentationCancelled(){console.debug("PresentationController - Prequal form was cancelled"),console.debug("Trying presentation for "+this.presentedPlacement),this.presentedPlacement.clearRequiredInfo(),this.beginPresentation(this.presentedPlacement)}adDismissed(wasCompleted){console.debug(`PresentationController.adDismissed(${wasCompleted})`),this.endPresentation(wasCompleted)}adRewarded(){"rewarded"===this.presentedPlacement.type&&(console.debug("Ad Rewarded for "+this.presentedPlacement.name),this.listener.adRewarded(this.presentedPlacement.name,this.presentedPlacement.getAdRewardText(),this.presentedPlacement.getAdRewardQuantity()))}presentationSceneBackgrounded(){"object"==typeof this.presentedPlacement&&console.debug("Ad Window backgrounded for "+this.presentedPlacement.name)}presentationSceneForegrounded(){"object"==typeof this.presentedPlacement&&console.debug("Ad Window foregrounded for "+this.presentedPlacement.name)}isNavigationLimited(mode){if("base_ad"===mode&&"object"==typeof hyprAppDomainController&&hyprAppDomainController.isAppBoundDomainEnabled()){return hyprAppDomainController.getAppBoundDomains().indexOf(Object(sdk_globals.cdnDomain)())>-1}return!1}openMeasurementCustomData(){let customData={};return customData.userId=this.userID,customData.placementId=this.presentedPlacement.id,JSON.stringify(customData)}startAdProgressTracking(params){let errorStatus="";const paramKeys=Object.keys(params);for(let key of["viewingID","distributorID","userID","offerType"])paramKeys.includes(key)&&"string"==typeof params[key]||(errorStatus+=`Valid ${key} missing from parameters. `);if(errorStatus.length>0)return console.debug("error with startAdProgressTracking() - "+errorStatus),errorStatus;let viewingID=params.viewingID,distributorID=params.distributorID,userID=params.userID,offerType=params.offerType;return void 0===HYPREventController.adProgressUrl?"AdProgressURL not received from initialization":void 0!==this.adProgress&&void 0!==this.adProgress.data&&this.adProgress.data.viewing_id===viewingID?"Ad Progress already in progress for viewingID: "+viewingID:(this.adProgress=new AdProgressTracking.a(viewingID,distributorID,userID,offerType),null)}updateAdProgressState(state,viewingID){void 0!==this.adProgress&&this.adProgress.setProgressState(state,viewingID)}updateAdClosedAction(action,viewingID){void 0!==this.adProgress&&this.adProgress.setClosedAction(action,viewingID)}catalogFrameError(error){this.listener.onTrampolineError(error)}catalogFrameSuccess(){let sdkConfig=this.presentedPlacement.getAdType()===sdk_globals.WEB_TRAFFIC_OFFER?this.catalogFrame.webtrafficSdkConfiguration():{};this.listener.onTrampolineReceived(JSON.stringify(this.catalogFrame.trampoline),this.catalogFrame.completionUrl(),JSON.stringify(sdkConfig),JSON.stringify(this.catalogFrame.impressionURLs()))}urlNavigationAttempt(url){if("string"!=typeof url||void 0===this.presentedPlacement)return JSON.stringify(new NavigationDecision(HYPR_NAVIGATION_DECISION_NAVIGATION_BLOCKED,void 0));console.debug("Navigation Attempt check for "+url.split("?").shift());let appStoreParameters=this.storePresentationController.parseUrlForAppleOverlayParams(url);return"object"==typeof appStoreParameters?(this.storePresentationController.presentStore(appStoreParameters,this.presentedPlacement),JSON.stringify(new NavigationDecision(HYPR_NAVIGATION_DECISION_NAVIGATION_BLOCKED,void 0))):this.openInWebViewOrOutsideApplication(url)}windowOpenAttempt(url){return"string"!=typeof url||void 0===this.presentedPlacement?JSON.stringify(new NavigationDecision(HYPR_NAVIGATION_DECISION_NAVIGATION_BLOCKED,void 0)):(console.debug("Window.open attempt for "+url.split("?").shift()),this.navigationDecision(url))}shouldRedirectURL(url,mimeType){return"text/html"===mimeType?JSON.stringify(new NavigationDecision(HYPR_NAVIGATION_DECISION_NAVIGATION_ALLOWED,void 0)):"string"!=typeof url||void 0===this.presentedPlacement?JSON.stringify(new NavigationDecision(HYPR_NAVIGATION_DECISION_NAVIGATION_BLOCKED,void 0)):"application/pdf"===mimeType||url.endsWith(".pdf")||"application/msword"===mimeType||url.endsWith(".doc")||"application/vnd.openxmlformats-officedocument.wordprocessingml.document"===mimeType||url.endsWith("docx")||"application/vnd.ms-excel"===mimeType||url.endsWith("xls")||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===mimeType||url.endsWith("xlsx")||"application/vnd.ms-powerpoint"===mimeType||url.endsWith("ppt")||"application/vnd.openxmlformats-officedocument.presentationml.presentation"===mimeType||url.endsWith(".pptx")?JSON.stringify(new NavigationDecision(HYPR_NAVIGATION_DECISION_NAVIGATION_REDIRECTED,`https://docs.google.com/viewer?url=${url}&embedded=true`)):JSON.stringify(new NavigationDecision(HYPR_NAVIGATION_DECISION_NAVIGATION_ALLOWED,void 0))}navigationDecision(url){if(this.presentedPlacement.getAdType()===sdk_globals.WEB_TRAFFIC_OFFER){if(this.listener.getPresentationStatus()===HYPR_AD_STATE_PROSCENIUM&&this.presentedPlacement.isNavigationRuleMatch(url))return JSON.stringify(new NavigationDecision(HYPR_NAVIGATION_DECISION_NAVIGATION_BLOCKED,void 0))}return this.openInWebViewOrOutsideApplication(url)}openInWebViewOrOutsideApplication(url){return HYPR_WEB_VIEW_PROTOCOLS.indexOf(url.split(":").shift())>=0?JSON.stringify(new NavigationDecision(HYPR_NAVIGATION_DECISION_NAVIGATION_ALLOWED,void 0)):JSON.stringify(new NavigationDecision(HYPR_NAVIGATION_DECISION_OPEN_OUTSIDE_APPLICATION,void 0))}appStorePresentationRequest(params){if("string"!=typeof params.url||void 0===this.presentedPlacement)return void console.error("Store Presentation Failed for params: "+JSON.stringify(params));let appStoreParameters=this.storePresentationController.parseUrlForAppleOverlayParams(params.url);"object"==typeof appStoreParameters&&this.storePresentationController.presentStore(appStoreParameters,this.presentedPlacement,params.mode)}showAppStore(presentationMode,appStoreParameters){presentationMode!==APP_STORE_OUTSIDE_APP?this.listener.showAppStore(presentationMode,appStoreParameters):this.listener.openUrlOutsideApplication(JSON.parse(appStoreParameters).url)}static attributesForWebtrafficText(key){return key===HYPR_NEXT_BUTTON_TEXT_KEY||key===HYPR_FINISH_BUTTON_TEXT_KEY?JSON.stringify({Color:"FFFFFFFF",Font:{fontName:"Helvetica Neue",size:13.33},NSKern:0,NSParagraphStyle:{alignment:"left"},NSStrokeWidth:0}):key===HYPR_TITLE_TEXT_KEY?JSON.stringify({Color:"3A3A3AFF",Font:{fontName:"Helvetica Neue",size:13.33},NSKern:0,NSParagraphStyle:{alignment:"left"},NSStrokeWidth:0}):key===HYPR_COUNTDOWN_TEXT_KEY?JSON.stringify({Color:"5D5D5DFF",Font:{fontName:"HelveticaNeue-Bold",size:18.67},NSKern:0,NSParagraphStyle:{alignment:"left",minimumLineHeight:17},NSStrokeWidth:0}):"{}"}}const PRESENTATION_LOCKED_ERROR="PresentationController already locked by",HYPR_NEXT_BUTTON_TEXT_KEY="next_button_text",HYPR_FINISH_BUTTON_TEXT_KEY="finish_button_text",HYPR_TITLE_TEXT_KEY="title_text",HYPR_COUNTDOWN_TEXT_KEY="countdown_text",HYPR_WEB_VIEW_PROTOCOLS=["http","https","about","file"],HYPR_AD_STATE_PROSCENIUM="proscenium";globalThis.PresentationController=PresentationController_PresentationController},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"PlacementController",(function(){return PlacementController_PlacementController}));var Placement=__webpack_require__(5),base64=__webpack_require__(8);class BiddingController_BiddingController{constructor(placementController=HYPRPlacementController,requestParameterManager=HYPRRequestParameterManager){this.placementController=placementController,this.requestParameterManager=requestParameterManager}getSessionToken(){return encodeURI(base64.Base64.encode(this.requestParameterManager.getCompressedParameters()))}loadBid(placementName,bidResponseData){let placement=this.placementController.getPlacement(placementName),jsonString=base64.Base64.decode(decodeURI(bidResponseData));return placement.loadBidResponse(jsonString)}}class PlacementController_PlacementController{constructor(placements,consentController=HYPRConsentController,preloadController=HYPRPreloadController){if(this.placementMap=new Map,this.preloadController=preloadController,console.debug("Placement Controller initialized with "+JSON.stringify(placements)),Array.isArray(placements))for(const placementObject of placements)this.placementMap.set(placementObject.name,Placement.Placement.fromObject(placementObject,this));else void 0!==placements&&"object"==typeof placements&&this.placementMap.set(placements.name,Placement.Placement.fromObject(placements,this));consentController.setConsentChangedListener(this),HYPRBiddingController=new BiddingController_BiddingController(this)}getPlacements(){return this.placementMap}getPlacement(placementName){let placement=this.placementMap.get(placementName);return void 0!==placement&&void 0===placement.placementListener&&(placement.placementListener=this),this.placementMap.get(placementName)}isAdAvailable(placementName){const placement=this.getPlacement(placementName);return void 0===placement?(console.debug(`PlacementController.isAdAvailable(${placementName}) reports undefined placement. Returning false.`),!1):placement.isAdAvailable()}clearAllPlacementsAdStateAndTimers(){this.placementMap.forEach((function(value,key,map){value.clearAdAndStopAdAvailableTimer()}))}startAdRefresh(context,placementName){console.debug(`PlacementController - Start Ad Refresh for context: ${context} placementName: ${placementName}`);let info={context:context};void 0!==placementName&&(info.placementName=placementName),HYPRRequestParamListener.getInventoryCheckParams("HYPRPlacementController.refreshPlacements",JSON.stringify(info))}refreshPlacements(params={},info={}){console.debug("Refreshing placements with info: "+JSON.stringify(info)),void 0===info.placementName?this.placementMap.forEach((function(value,key,map){value.handleRefresh(info.context,params)})):this.getPlacement(info.placementName).handleRefresh(info.context,params)}loadAd(placementName,params={}){const placement=this.getPlacement(placementName);void 0===placement?(console.debug("PlacementController loadAd reports undefined placement. Returning onLoadAdFailure."),HYPRPlacementListener.onLoadAdFailure(placementName,"placement name is invalid")):placement.loadAd(params,(function(placement,error){placement.placementListener.onLoadAdResponse(placement,error)}))}handlePreloading(placement){this.preloadController.handleMraidAdToPreload(placement),this.preloadController.handleAdsToPreloadResponse(placement.ads_to_preload),this.preloadController.handleUIComponentsToPreloadResponse(placement.ui_components)}onLoadAdResponse(placement,error){void 0!==error?(console.debug("PlacementController loadAd failure "+error),this.onPlacementLoadAdFailure(placement,error)):(console.debug("PlacementController onPlacementLoadAdSuccess for "+placement),this.onPlacementLoadAdSuccess(placement),this.handlePreloading(placement))}onRefreshAdResponse(placement,error){void 0===error&&this.handlePreloading(placement)}onPlacementLoadAdSuccess(placement){HYPRPlacementListener.onLoadAdSuccess(placement.name,placement.isAdAvailable())}onPlacementLoadAdFailure(placement,error){HYPRPlacementListener.onLoadAdFailure(placement.name,error)}onPlacementAdCleared(placement){console.debug("Cleared ad state for "+placement),HYPRPlacementListener.onAdCleared(placement.name)}onPlacementAdExpired(placement){console.debug("Ad expired for "+placement),HYPRPlacementListener.onAdExpired(placement.name)}onConsentChanged(){console.debug("Consent status changed.  Clearing all ad state."),this.startAdRefresh(Placement.CONSENT_CHANGED_REFRESH)}}globalThis.PlacementController=PlacementController_PlacementController},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"PreloadController",(function(){return PreloadController_PreloadController}));var HyprErrorFactory=__webpack_require__(3),sdk_globals=__webpack_require__(0),parser=__webpack_require__(14),parser_default=__webpack_require__.n(parser),NetworkRequestController=__webpack_require__(1),ConnectionConfiguration=__webpack_require__(2);class VastParsingController_VastParsingController{constructor(width,height,networkRequestController=globalThis.HYPRNetworkController){this.width=width,this.height=height,this.networkRequestController=networkRequestController}parse(vastTagURL,offerIdentifier,parsingListener){console.debug("Requesting vast tag for "+vastTagURL),this.request=this.networkRequestController.request(vastTagURL,void 0,NetworkRequestController.a.GET,ConnectionConfiguration.d,(code,response,error,headers)=>{NetworkRequestController.b.validResponseStatus(code)&&void 0===error&&NetworkRequestController.b.validXMLType(headers)?(console.debug(`Requesting vast tag ${vastTagURL} completed with response.`),this.handleRequestSuccess(response,offerIdentifier,parsingListener)):(console.debug(`Requesting vast tag for ${vastTagURL} failed with error: ${error}`),this.handleRequestFailure(error,offerIdentifier,parsingListener))})}static parseXML(xmlData){return void 0===xmlData||!0!==parser_default.a.validate(xmlData)?HyprErrorFactory.b.getVastValidateError():parser_default.a.parse(xmlData,{attributeNamePrefix:"",attrNodeName:"attr",textNodeName:"value",ignoreAttributes:!1,parseAttributeValue:!0})}static selectFirstAd(ads){return void 0===ads||0===ads.length?HyprErrorFactory.b.getVastNoAdsAvailableError():void 0===ads[0].attr.sequence?ads[0]:ads.reduce((minAd,p)=>parseInt(p.attr.sequence)<parseInt(minAd.attr.sequence)?p:minAd,ads[0])}static selectAdsContainingLinear(originalVastJSON){let error=HyprErrorFactory.b.getVastNoAdsAvailableError();if(void 0===originalVastJSON||void 0===originalVastJSON.VAST||void 0===originalVastJSON.VAST.Ad)return error;let ads=[];Object(sdk_globals.addToArray)(ads,originalVastJSON.VAST.Ad);const filteredAds=ads.filter(ad=>void 0!==this.selectFirstLinearFromAd(ad));return 0===filteredAds.length&&void 0!==ads.find(ad=>void 0!==ad.Wrapper)&&(error=HyprErrorFactory.b.getVastAdWithWrapperError()),filteredAds.length>0?filteredAds:error}static selectFirstLinearFromAd(ad){if(void 0===ad||void 0===ad.InLine||void 0===ad.InLine.Creatives||void 0===ad.InLine.Creatives.Creative)return;let copiedCreatives=[];return Object(sdk_globals.addToArray)(copiedCreatives,ad.InLine.Creatives.Creative),copiedCreatives.find(creative=>void 0!==creative.Linear)}static convertToSimplifiedModel(originalVastJSON,width,height){if(void 0===originalVastJSON||void 0===originalVastJSON.VAST)return HyprErrorFactory.b.getVastEmptyTagError();if(void 0===originalVastJSON.VAST.attr&&0===Object.keys(originalVastJSON.VAST).length)return HyprErrorFactory.b.getVastEmptyTagError();if(void 0!==originalVastJSON.VAST.attr&&1===Object.keys(originalVastJSON.VAST).length)return HyprErrorFactory.b.getVastEmptyTagError();if(void 0!==originalVastJSON.VAST.Error)return HyprErrorFactory.b.getVastNoAdsAvailableError();const availableAds=this.selectAdsContainingLinear(originalVastJSON);if(void 0!==availableAds.error)return availableAds;const firstAd=this.selectFirstAd(availableAds);if(void 0!==firstAd.error)return firstAd;const firstCreativeWithLinear=this.selectFirstLinearFromAd(firstAd),verificationsFromExtensions=this.extractVerificationFromExtensions(firstAd.InLine.Extensions);if(void 0===firstCreativeWithLinear.Linear||void 0===firstCreativeWithLinear.Linear.MediaFiles)return HyprErrorFactory.b.getVastNoMediaError();const mediaFiles=this.extractMediaFiles(firstCreativeWithLinear.Linear.MediaFiles.MediaFile);if(void 0!==mediaFiles.error)return mediaFiles;const bestFitMediaFile=this.getBestFitMediaFile(mediaFiles,width,height);let duration=this.extractDuration(firstCreativeWithLinear.Linear.Duration);if(void 0!==duration.error)return duration;let impressions=this.extractImpressions(firstAd.InLine.Impression);if(void 0!==impressions.error)return impressions;let ad={Ad:{Impressions:impressions,Linear:{MediaFile:bestFitMediaFile,skipoffset:this.extractSkipOffset(firstCreativeWithLinear.Linear),Duration:duration,Trackings:this.extractTrackings(firstCreativeWithLinear.Linear.TrackingEvents),VideoClicks:this.extractVideoClicks(firstCreativeWithLinear.Linear.VideoClicks)},ViewableImpression:this.extractViewableImpressions(firstAd.InLine.ViewableImpression),AdVerifications:this.extractAdVerifications(firstAd.InLine.AdVerifications,verificationsFromExtensions)}};return VastParsingController_VastParsingController.postProcessTimes(ad.Ad),ad}static extractMediaFiles(mediaFile){let mediaFiles=[];return mediaFiles.push(...this.buildArrayOfBasicElements("MediaFile",mediaFile)),mediaFiles=mediaFiles.filter(media=>this.isSupportedMediaFileType(media.type)),mediaFiles.length>0?mediaFiles:HyprErrorFactory.b.getVastNoMediaError()}static isSupportedMediaFileType(type){return!!new RegExp("video/3gpp","i").test(type)||(!!new RegExp("video/3gp","i").test(type)||(!!new RegExp("video/m4v","i").test(type)||!!new RegExp("video/mp4","i").test(type)))}static extractSkipOffset(linear){if(void 0!==linear&&void 0!==linear.attr)return linear.attr.skipoffset}static extractDuration(duration){return void 0===duration?HyprErrorFactory.b.getVastNoDurationError():duration}static extractTrackings(trackingEvents){let trackings=[];if(void 0!==trackingEvents&&void 0!==trackingEvents.Tracking)return trackings.push(...this.buildArrayOfBasicElements("Tracking",trackingEvents.Tracking)),trackings.length>0?trackings:void 0}static extractVideoClicks(videoClicks){let parsedVideoClicks=[];if(void 0!==videoClicks)return parsedVideoClicks.push(...VastParsingController_VastParsingController.buildArrayOfBasicElements("ClickThrough",videoClicks.ClickThrough)),parsedVideoClicks.push(...VastParsingController_VastParsingController.buildArrayOfBasicElements("ClickTracking",videoClicks.ClickTracking)),parsedVideoClicks.length>0?parsedVideoClicks:void 0}static extractImpressions(impressions){let parsedImpressions=[];return void 0===impressions?HyprErrorFactory.b.getVastNoImpressionsError():(parsedImpressions.push(...this.buildArrayOfBasicElements("Impression",impressions)),parsedImpressions.length>0?parsedImpressions:NO_IMPRESSIONS_ERROR)}static extractViewableImpressions(viewableImpression){let impressions=[];if(void 0!==viewableImpression)return impressions.push(...this.buildArrayOfBasicElements("Viewable",viewableImpression.Viewable)),impressions.push(...this.buildArrayOfBasicElements("NotViewable",viewableImpression.NotViewable)),impressions.push(...this.buildArrayOfBasicElements("ViewUndetermined",viewableImpression.ViewUndetermined)),impressions.length>0?impressions:void 0}static extractAdVerifications(adVerification,adVerificationFromExtension){let verifications=[],copiedElements=[];return void 0!==adVerification&&void 0!==adVerification.Verification&&Object(sdk_globals.addToArray)(copiedElements,adVerification.Verification),void 0!==adVerificationFromExtension&&adVerificationFromExtension.forEach((function(verification){Object(sdk_globals.addToArray)(copiedElements,verification.Verification)})),copiedElements.forEach((function(e){verifications.push(VastParsingController_VastParsingController.buildVerification(e))})),verifications.length>0?verifications:void 0}static extractVerificationFromExtensions(extensions){let verifications=[];if(void 0===extensions||void 0===extensions.Extension)return verifications;let copiedElements=[];return Object(sdk_globals.addToArray)(copiedElements,extensions.Extension),copiedElements.forEach((function(e){Object(sdk_globals.addToArray)(verifications,e.AdVerifications)})),verifications}static buildVerification(verification){let jsResources=this.buildArrayOfBasicElements("JavaScriptResource",verification.JavaScriptResource);return{name:"Verification",value:verification.value,vendor:void 0!==verification.attr?verification.attr.vendor:void 0,Trackings:this.extractTrackings(verification.TrackingEvents),JavaScriptResources:jsResources.length>0?jsResources:void 0,VerificationParameters:this.buildBasicElement("VerificationParameters",verification.VerificationParameters)}}static buildArrayOfBasicElements(name,element){let elements=[],copiedElements=[];return void 0===element||(Object(sdk_globals.addToArray)(copiedElements,element),copiedElements.forEach((function(e){elements.push(VastParsingController_VastParsingController.buildBasicElement(name,e))}))),elements}static buildBasicElement(name,element){if(void 0===element)return;let value="";void 0!==element.value?value=element.value:"string"==typeof element&&(value=element);let newElement={name:name,value:value};return void 0!==element.attr&&Object.keys(element.attr).forEach(k=>{newElement[k]=element.attr[k]}),newElement}handleRequestFailure(error,offerIdentifier,parsingListener){void 0!==parsingListener&&parsingListener.parsingFailed(HyprErrorFactory.b.getVastTagDownloadError(),offerIdentifier)}handleRequestSuccess(xmlResponse,offerIdentifier,parsingListener){if(void 0===parsingListener)return;const vastJSON=VastParsingController_VastParsingController.parseXML(xmlResponse);if(void 0!==vastJSON.error)return void parsingListener.parsingFailed(vastJSON,offerIdentifier);const convertedModel=VastParsingController_VastParsingController.convertToSimplifiedModel(vastJSON,this.width,this.height);void 0!==convertedModel.error?parsingListener.parsingFailed(convertedModel,offerIdentifier):parsingListener.parsingCompleted(convertedModel,offerIdentifier)}static convertTimeToMS(time){const hms=time.split(":");let ms=0;if(hms[2].includes(".")){const seconds=hms[2].split(".");hms[2]=seconds[0],ms=seconds[1]}return 60*+hms[0]*60*1e3+60*+hms[1]*1e3+1e3*+hms[2]+ +ms}static convertPercentageTimeToMS(percentage,duration){return duration*(+percentage.split("%")[0]/100)}static postProcessTimes(ad){ad.Linear.Duration=this.convertTimeToMS(ad.Linear.Duration),void 0!==ad.Linear.skipoffset&&(ad.Linear.skipoffset=ad.Linear.skipoffset.includes("%")?this.convertPercentageTimeToMS(ad.Linear.skipoffset,ad.Linear.Duration):this.convertTimeToMS(ad.Linear.skipoffset)),void 0!==ad.Linear.Trackings&&ad.Linear.Trackings.forEach((function(tracking){void 0!==tracking.offset&&(tracking.offset=tracking.offset.includes("%")?VastParsingController_VastParsingController.convertPercentageTimeToMS(tracking.offset,ad.Linear.Duration):VastParsingController_VastParsingController.convertTimeToMS(tracking.offset))}))}static getBestFitMediaFile(mediaFiles,displayWidth,displayHeight){const maxValue=Math.max(displayWidth,displayHeight),minValue=Math.min(displayWidth,displayHeight),sortedMediaFiles=mediaFiles.sort((function(o1,o2){const deltaX1=maxValue-o1.width,deltaY1=minValue-o1.height,deltaX2=maxValue-o2.width,deltaY2=minValue-o2.height,delta1=Math.max(Math.abs(deltaX1),Math.abs(deltaY1)),delta2=Math.max(Math.abs(deltaX2),Math.abs(deltaY2));return delta1===delta2?(0|o2.bitrate)-(0|o1.bitrate):delta1-delta2}));if(sortedMediaFiles.length>0)return sortedMediaFiles[0]}}var Placement=__webpack_require__(5),base64=__webpack_require__(8);class PreloadController_PreloadController{constructor(width,height,nativeCacheListener=HYPRCacheListener,eventController=HYPREventController){this.width=width,this.height=height,this.nativeCacheListener=nativeCacheListener}setEventController(eventController){this.eventController=eventController}handleAdsToPreloadResponse(adsToPreload){if(void 0!==adsToPreload&&void 0!==this.nativeCacheListener)for(const adToPreload of adsToPreload)switch(console.debug(`Requesting preload for (id = ${adToPreload.id}, directive=${adToPreload.directive}, url=${adToPreload.vast_tag_url})`),adToPreload.directive){case"cache":case"retain":case"refresh":console.debug(JSON.stringify(adToPreload)),this.nativeCacheListener.retrieveVastOffer(JSON.stringify(adToPreload));break;case"remove":this.nativeCacheListener.removeVastOffer(adToPreload.id)}}refreshForPlacement(placement){if(void 0!==placement&&placement.getAdType()===sdk_globals.VAST_VIDEO_OFFER){let adToPreload=[{directive:"refresh",id:placement.ad.id,vast_tag_url:void 0}];this.handleAdsToPreloadResponse(adToPreload)}}handleUIComponentsToPreloadResponse(uiComponents){void 0!==uiComponents&&void 0!==this.nativeCacheListener&&this.preloadImages(uiComponents)}preloadImages(jsonObject){if(void 0===jsonObject||void 0===this.nativeCacheListener)return;for(let key in jsonObject)if(jsonObject.hasOwnProperty(key))if("image"!==key&&"submit_button_image"!==key&&"close_button_image"!==key||jsonObject[key]instanceof Array)"object"==typeof jsonObject[key]&&this.preloadImages(jsonObject[key]);else{let image=jsonObject[key];image.hasOwnProperty("portrait_url")?(console.debug(`Requesting image to preload for (url = ${image.portrait_url}, height=${image.height}, width=${image.width}, fill_screen_width=${image.fill_screen_width})`),this.nativeCacheListener.preloadPortraitImage(image.portrait_url,image.height,image.width,image.fill_screen_width)):image.hasOwnProperty("url")&&(console.debug(`Requesting image to preload for (url = ${image.url}, height=${image.height}, width=${image.width}, scale=${image.scale}, tiled=${image.tiled}, x=${image.x}, y=${image.y})`),this.nativeCacheListener.preloadUIImage(image.url,image.height,image.width,image.scale,image.tiled,image.x,image.y))}}handleMraidAdToPreload(placement){void 0!==placement&&void 0!==this.nativeCacheListener&&"mraid"===placement.getAdType()&&HYPRRequestParamListener.getCatalogFrameParams(placement.name,"HYPRPreloadController.handleMraidAdToPreloadWithParams")}handleMraidAdToPreloadWithParams(placementName,baseParams){const placement=HYPRPlacementController.getPlacement(placementName);console.debug("The placement ad type is "+placement.getAdType()),"mraid"===placement.getAdType()&&(console.debug("Preload MRAID offer for placement "+placement.name),this.nativeCacheListener.onMraidOfferToPreload(placement.getAdString(),placement.name,placement.id,Placement.Placement.catalogFrameParametersForPlacement(placement,baseParams)))}resetVastCache(){return void 0!==this.nativeCacheListener.resetVastCache&&(this.nativeCacheListener.resetVastCache(),!0)}cacheVastOffer(adToPreload,offerState,vastParsingController=new VastParsingController_VastParsingController(this.width,this.height)){console.debug("cacheVastOffer");const parsingListener={parsingCompleted:function(offer,offerIdentifier){console.debug("cacheVastOffer:Parsing succeeded offer "+offerIdentifier),console.debug("cacheVastOffer:offer "+JSON.stringify(offer)),offerState.last_parse_date=(new Date).toISOString(),offerState.vastJSONString=base64.Base64.encode(JSON.stringify(offer)),offerState.mediaAssetURL=offer.Ad.Linear.MediaFile.value,this.nativeCacheListener.commitVastOffer(JSON.stringify(offerState),offerIdentifier),this.nativeCacheListener.cacheVastAssetForOffer(offerIdentifier,offerState.mediaAssetURL,!0)}.bind(this),parsingFailed:function(error,offerIdentifier){console.debug("cacheVastOffer:Parsing failed "+error.error.message),error.error.code===HyprErrorFactory.b.getVastTagDownloadError().error.code?offerState.tag_download_failures++:offerState.tag_parse_failures++,this.nativeCacheListener.commitVastOffer(JSON.stringify(offerState),offerIdentifier),error.error.code===HyprErrorFactory.b.getVastEmptyTagError().error.code&&offerState.tag_parse_failures<3&&offerState.tag_download_failures<3&&this.cacheVastOffer(adToPreload,offerState,vastParsingController),void 0!==this.eventController&&(error.error.additionalInfo="Vast tag url: "+offerState.url,this.eventController.onClientErrorEvent(error))}.bind(this)};vastParsingController.parse(offerState.url,offerState.identifier,parsingListener)}refreshVastOffer(adToPreload,offerState){console.debug("refreshVastOffer"),offerState.tag_download_failures=0,offerState.tag_parse_failures=0,offerState.media_download_failures=0,delete offerState.last_parse_date,delete offerState.vastJSONString,this.nativeCacheListener.commitVastOffer(JSON.stringify(offerState),offerState.identifier),this.cacheVastOffer(adToPreload,offerState)}retainVastOffer(adToPreload,offerState){console.debug(`retainVastOffer for ${adToPreload.id} with url ${offerState.mediaAssetURL}`),void 0!==offerState.vastJSONString?this.nativeCacheListener.cacheVastAssetForOffer(adToPreload.id,offerState.mediaAssetURL,!1):this.cacheVastOffer(adToPreload,offerState)}cachedVastOfferWithDirective(adToPreload,offerState){switch(console.debug("cachedVastOfferWithDirective -- offerState: "+JSON.stringify(offerState)),adToPreload.directive){case"cache":this.cacheVastOffer(adToPreload,offerState);break;case"retain":this.retainVastOffer(adToPreload,offerState);break;case"refresh":this.refreshVastOffer(adToPreload,offerState)}}}globalThis.PreloadController=PreloadController_PreloadController}]);
//# sourceMappingURL=sdk_core.min.js.map